var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

webpackJsonp([1],{10:function(e,t,n){"use strict";t.__esModule=!0;var r=n(533),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},106:function(e,t,n){"use strict";t.__esModule=!0;var r=n(543),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},116:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RouterContextPropType=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),l=r(c),f=n(17),d=r(f),p=n(244),h=t.RouterContextPropType=d.default.shape({serverResult:d.default.object,history:d.default.object.isRequired,urls:d.default.object.isRequired,match:d.default.object,location:d.default.object.isRequired,listen:d.default.func.isRequired,linkMiddleware:d.default.arrayOf(d.default.func).isRequired,navigate:d.default.func.isRequired}).isRequired,m=/\/$/,y=function(e){function t(){var e,n,r,a;i(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r._listeners=new p.Listeners,r.getChildContext=function(){return{router:r.routerContext}},r.routerContext={serverResult:r.props.serverResult,history:r.props.history,urls:r.props.urls,location:r.props.history.location,match:null,listen:r._listeners.listen,linkMiddleware:r.props.linkMiddleware,navigate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.routerContext.urls.makeLocation(e);t?r.routerContext.history.replace(n):r.routerContext.history.push(n)}},r._updateLocation=function(e){var t=e;if(r.props.addSlashes){var n=r._slashUrlPath(e);n&&(t=n,r.routerContext.history.replace(t))}t!==r.routerContext.location&&(r.routerContext.location=t,r._listeners.notify())},r._slashUrlPath=function(e){var t=e.pathname;if(t.match(m))return null;var n=r.routerContext.urls,i=!0,o=!1,a=void 0;try{for(var u,c=n.getAllUrlNames()[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;if(n.match(t,l,{strict:!0,exact:!0}))return null}}catch(e){o=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return s({},e,{pathname:t+"/"})},a=n,o(r,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.history;this._unlisten=e.listen(this._updateLocation),this._updateLocation(e.location)}},{key:"componentWillUnmount",value:function(){this._unlisten&&this._unlisten()}},{key:"render",value:function(){return c.Children.only(this.props.children)}}]),t}(l.default.Component);y.displayName="Router",y.defaultProps={linkMiddleware:[],addSlashes:!1},y.childContextTypes={router:h},t.default=y},134:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(116),f=n(244);t.default=function(e){var t,n,u=e.displayName||e.name||e.constructor.name;return(0,f.wraps)(e,(n=t=function(t){function n(){var e,t,o,a;r(this,n);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return t=o=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(u))),o.state={location:o.context.router.location,match:o.context.router.match},o.mounted=!1,a=t,i(o,a)}return o(n,t),s(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context.router;this.mounted=!0,this.unlisten=t.listen(function(){var n=t.location,r=t.match;e.mounted&&e.setState({location:n,match:r})})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unlisten&&this.unlisten()}},{key:"render",value:function(){var t=this.context.router,n=t.location,r=t.match,i=t.history,o=t.urls,s=t.navigate,u=a({},this.props,{location:n,match:r,history:i,urls:o,navigate:s});return this.props.location&&(u.location=this.props.location),c.default.createElement(e,u)}}]),n}(c.default.PureComponent),t.contextTypes={router:l.RouterContextPropType},n),u?"WithRouter("+u+")":"WithRouter")}},17:function(e,t,n){e.exports=n(525)()},196:function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},r="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,i,o){if("string"!=typeof i){var a=Object.getOwnPropertyNames(i);r&&(a=a.concat(Object.getOwnPropertySymbols(i)));for(var s=0;s<a.length;++s)if(!(t[a[s]]||n[a[s]]||o&&o[a[s]]))try{e[a[s]]=i[a[s]]}catch(e){}}return e}},23:function(e,t,n){"use strict";t.__esModule=!0;var r=n(296),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},24:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(606),o=r(i),a=n(610),s=r(a),u=n(296),c=r(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},244:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return t.WrappedComponent=e,n&&(t.displayName=n),(0,c.default)(t,e,{WrappedComponent:!0}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.Listeners=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.wraps=o;var s=n(3),u=(r(s),n(196)),c=r(u);t.Listeners=function(){function e(){var t=this;i(this,e),this._listeners=[],this.listen=function(e){return t._listeners.push(e),function(){t._listeners=t._listeners.filter(function(t){return t!==e})}}}return a(e,[{key:"notify",value:function(){this._listeners.forEach(function(e){e()})}}]),e}()},296:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(590),o=r(i),a=n(596),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(o.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":u(e)}},31:function(e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},339:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createServerHistory=t.withRouter=t.ScrollRestorer=t.Redirect=t.Link=t.Switch=t.Route=t.Router=t.Urls=void 0;var i=n(683),o=r(i),a=n(134),s=r(a),u=n(686),c=r(u),l=n(689),f=r(l),d=n(342),p=r(d),h=n(691),m=r(h),y=n(116),g=r(y),b=n(692),v=r(b),w=n(693),k=r(w);t.Urls=o.default,t.Router=g.default,t.Route=p.default,t.Switch=m.default,t.Link=c.default,t.Redirect=f.default,t.ScrollRestorer=v.default,t.withRouter=s.default,t.createServerHistory=k.default},342:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),l=n(343),f=r(l),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement(f.default,{location:this.props.location,routes:[this.props]})}}]),t}(c.default.PureComponent);d.displayName="Route",t.default=d},343:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),l=n(690),f=r(l),d=n(134),p=r(d),h=n(116),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"renderMatch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.props.location,i={location:r,match:n},o=null;return e?o=c.default.createElement(e,i):t&&(o=t(i)),this.props.urls.renderMatch(i,c.default.createElement(f.default,i,o))}},{key:"render",value:function(){for(var e=this.props,t=e.location,n=e.urls,r=e.routes,i=0;i<r.length;i++){var o=r[i],a=o.urlName,s=o.exact,u=o.strict,c=o.component,l=o.render;if(!a)return this.renderMatch(c,l);for(var f=Array.isArray(a)?a:[a],d=0;d<f.length;d++){var p=n.match(t.pathname,f[d],{strict:u,exact:s});if(p)return this.context.router.serverResult&&(this.context.router.serverResult.hasMatched=!0),this.renderMatch(c,l,p)}}return null}}]),t}(c.default.PureComponent);m.contextTypes={router:h.RouterContextPropType},t.default=(0,p.default)(m)},348:function(e){e.exports=function(e,t,n,r){function i(){function i(){a=Number(new Date),n.apply(u,l)}function s(){o=void 0}var u=this,c=Number(new Date)-a,l=arguments;r&&!o&&i(),o&&clearTimeout(o),void 0===r&&c>e?i():!0!==t&&(o=setTimeout(r?s:i,void 0===r?e-c:e))}var o,a=0;return"boolean"!=typeof t&&(r=n,n=t,t=void 0),i}},354:function(e,t,n){n(355),e.exports=n(520)},355:function(e,t,n){"use strict";(function(e){n(356),n(499),n(501),n(503),n(505),n(507),n(509),n(511),n(513),n(515),n(519),e._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),e._babelPolyfill=!0}).call(t,n(31))},4:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},519:function(e){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=c(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(n,i,o,a){var s=r(e[n],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function n(e,n){function r(){return new Promise(function(r,i){t(e,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function c(e,t,n){var i=T;return function(o,a){if(i===O)throw new Error("Generator is already running");if(i===C){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===x)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===T)throw i=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=O;var c=r(e,t,n);if("normal"===c.type){if(i=n.done?C:P,c.arg===x)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=C,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,l(e,t),"throw"===t.method))return x;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,x;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,x):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,x)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(b.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:y,done:!0}}var y,g=Object.prototype,b=g.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},w=v.iterator||"@@iterator",k=v.asyncIterator||"@@asyncIterator",S=v.toStringTag||"@@toStringTag",E="object"==typeof e,_=t.regeneratorRuntime;if(_)return void(E&&(e.exports=_));_=t.regeneratorRuntime=E?e.exports:{},_.wrap=n;var T="suspendedStart",P="suspendedYield",O="executing",C="completed",x={},N={};N[w]=function(){return this};var I=Object.getPrototypeOf,R=I&&I(I(h([])));R&&R!==g&&b.call(R,w)&&(N=R);var j=a.prototype=i.prototype=Object.create(N);o.prototype=j.constructor=a,a.constructor=o,a[S]=o.displayName="GeneratorFunction",_.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},_.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,S in e||(e[S]="GeneratorFunction")),e.prototype=Object.create(j),e},_.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[k]=function(){return this},_.AsyncIterator=u,_.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return _.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(j),j[S]="Generator",j[w]=function(){return this},j.toString=function(){return"[object Generator]"},_.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},_.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=b.call(i,"catchLoc"),s=b.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,x):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),x}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),x}}}(function(){return this}()||Function("return this")())},520:function(e,t,n){"use strict";function r(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function T(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?x(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(){var e=vc.exec(document.cookie);return e?e[1]:null}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){te(e,t,n[t])})}return e}function H(e,t){if(null==e)return{};var n,r,i=V(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function V(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}function Y(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?ee(e):t}function Q(e,t,n){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=z(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function z(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){var t=Object.keys(e).filter(function(e){return"__trace"!==e});return e.__trace&&(e.__clientTraceId=Ec++),t.length&&t.forEach(function(t){ne(e[t])}),e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){var n,r=t.query,i=t.variables,o=t.files,a=void 0===o?null:o,s=t.optimisticResponse,u=t.configs,c=void 0===u?[]:u,l=new Promise(function(t,o){n=new cc.a.GraphQLMutation(r,i,a,e,{onSuccess:t,onFailure:function(e){return o(e.getError())}}),s&&n.applyOptimistic(r,s,c),n.commit(c)}),f=function(){return e._requests.get(n._transaction.id)};return l=l,l.abort=function(){var e=f();e&&e.abort()},l.onUploadProgress=function(e){var t=f();return t&&t.onUploadProgress(e),l},l}function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),e}function de(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?ye(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?Ee(e):t}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&Pe(e.prototype,t),n&&Pe(e,n),e}function Ce(e,t){return e.map(function(e,n){return rc.createElement(Ac,{key:n,tracking:{type:"list_index",index:n}},t(e,n))})}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ne(e,t,n[t])})}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main",r={};return Object.keys(e).forEach(function(i){r[i]=function(){t(e[i].apply(e,arguments)(n))}}),r}function Re(e){return Fe(e)||Ae(e)||je()}function je(){throw new TypeError("Invalid attempt to spread non-iterable instance")}
function Ae(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function Fe(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Me(e,t,n[t])})}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main"]}function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";return function(n){var r=Le(n.player,t);return r?e(r,n):{}}}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";return function(n){var r=Le(n.player,t);return r&&r.queue.items.length?e(r,r.queue.items[r.queue.currentIndex],n):{}}}function Be(e){var t=e.isSeeking,n=e.seekPosition,r=e.queue,i=r.items,o=r.currentIndex;return t&&null!==n?n:i.length?i[o].position:0}function Ke(e){var t=e.isPaused,n=e.isLoading,r=e.hasErrored,i=e.isBuffering,o=e.hasEnded,a=e.isSeeking;return!(!e.queue.items.length||t||n||r||i||o||a)}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t.playerIdentifier)return e;if(t.type===rl&&e.hasOwnProperty(t.playerIdentifier)){var n=De({},e);return delete n[t.playerIdentifier],n}var r=e[t.playerIdentifier],i=Ge(r,t);return r!==i?De({},e,Me({},t.playerIdentifier,i)):e}function Ve(e,t){var n=!t||t-e>Al?e:0;return{seekPosition:n,seekHistory:[],isSeekDisabled:!1,isSeeking:!!n,isLoading:!0,showBuffering:!1,isBuffering:!0,hasErrored:!1,retryCount:0,hasEnded:!1,hasSuccessfullyPlayed:!1,isPaused:!1,wasPausedByPreview:!1,latestSeekablePosition:0,hasInteracted:!0}}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De({},jl,{volume:1,hasInteracted:!1,pauseSync:!1,seekHistory:[],isSeekDisabled:!1,queue:{items:[],currentIndex:0,serverLastModified:null,dragIndex:null,upNext:null}}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dc:return De({},e,{pauseSync:t.pause});case Mc:return t.persistedState?De({},e,t.persistedState,{queue:De({},e.queue,t.persistedState.queue)}):e;case Lc:var n=t.items,r=t.currentIndex,i=e&&e.queue&&e.queue.currentIndex||0,o=e&&e.queue&&e.queue.upNext||null,a=e&&e.queue&&e.queue.items&&e.queue.items.length&&e.queue.items[i];if(a&&a.cloudcastId!==n[r].cloudcastId)return e;var s=r!==i,u=s?null:o;return De({},e,{queue:De({},e.queue,{items:n,currentIndex:r,upNext:u})});case Uc:var c=e.queue&&e.queue.items[e.queue.currentIndex],l=t.items[t.currentIndex];if(t.retainPlayStateIfPossible&&c&&l&&c.cloudcastId===t.items[t.currentIndex].cloudcastId)return De({},e,{queue:{items:t.items.map(function(e){return e.cloudcastId===c.cloudcastId?c:e}),currentIndex:Math.max(0,Math.min(t.items.length-1,t.currentIndex)),serverLastModified:t.serverLastModified,dragIndex:null,upNext:null}});var f=t.play&&t.items.length?Ve(t.items[t.currentIndex].position,t.items[t.currentIndex].duration):jl;return De({},e,f,{queue:{items:t.items,currentIndex:Math.max(0,Math.min(t.items.length-1,t.currentIndex)),serverLastModified:t.serverLastModified,dragIndex:null,upNext:null}});case Bc:var d=e.queue,p=d.items,h=d.currentIndex,m=t.play||!p.length,y=m?Ve(t.position,t.duration):{};return De({},e,y,{queue:De({},e.queue,{items:Re(p).concat([Nl(t)]),currentIndex:m?p.length:h,dragIndex:null,upNext:null})});case qc:return t.renderProps&&t.cloudcastId?t.isUpNext&&e.queue.upNext&&e.queue.upNext.item.cloudcastId===t.cloudcastId?De({},e,{queue:De({},e.queue,{upNext:De({},e.queue.upNext,{item:Il(e.queue.upNext.item,t.renderProps)})})}):De({},e,{queue:De({},e.queue,{items:e.queue.items.map(function(e){return e.cloudcastId===t.cloudcastId?Il(e,t.renderProps):e})})}):e;case Kc:return t.index===e.queue.currentIndex?e:t.index>=e.queue.items.length?e:De({},e,Ve(e.queue.items[t.index].position,e.queue.items[t.index].duration),{queue:De({},e.queue,{currentIndex:t.index,dragIndex:null,upNext:null})});case Hc:var g=e.queue,b=g.currentIndex,v=g.items;return t.index===b?e:v.length?De({},e,{queue:De({},e.queue,{items:Re(v.slice(0,t.index)).concat(Re(v.slice(t.index+1))),currentIndex:t.index>b?b:b-1})}):e;case Vc:var w=e.queue,k=w.items,S=w.currentIndex,E=w.upNext,_=S===k.length-1?E:null;return De({},e,{queue:De({},e.queue,{items:e.queue.items.filter(function(t,n){return n===e.queue.currentIndex}),currentIndex:0,upNext:_})});case Gc:var T=e.queue,P=T.dragIndex,O=T.items,C=T.upNext;if(null===P||0===P||O.length<2)return e;var x=P===O.length-1?null:C,N=e.queue.currentIndex;return N===P?N-=1:N===P-1&&(N+=1),De({},e,{queue:De({},e.queue,{dragIndex:P-1,currentIndex:N,items:Re(O.slice(0,P-1)).concat([O[P],O[P-1]],Re(O.slice(P+1))),upNext:x})});case Wc:var I=e.queue,R=I.dragIndex,j=I.items,A=I.upNext;if(null===R||R===j.length-1||j.length<2)return e;var F=R===j.length-2?null:A,D=e.queue.currentIndex;return D===R?D+=1:D===R+1&&(D-=1),De({},e,{queue:De({},e.queue,{dragIndex:R+1,currentIndex:D,items:Re(j.slice(0,R)).concat([j[R+1],j[R]],Re(j.slice(R+2))),upNext:F})});case Xc:return De({},e,{queue:De({},e.queue,{dragIndex:t.index})});case Yc:return De({},e,{queue:De({},e.queue,{dragIndex:null})});case Qc:return De({},e,{queue:De({},e.queue,{upNext:{item:Nl(t),promoted:t.promoted,branded:t.branded,mixcloudAd:t.mixcloudAd,title:t.title,hide:!1}})});case zc:return De({},e,{queue:De({},e.queue,{upNext:De({},e.queue.upNext,{hide:!0})})});case $c:var M=e.queue,L=M.items,U=M.upNext;return!U||U.hide?e:De({},e,Ve(U.item.position,U.item.duration),{queue:De({},e.queue,{items:Re(L).concat([U.item]),currentIndex:L.length,dragIndex:null,upNext:null}),seekHistory:e.seekHistory,isSeekDisabled:e.isSeekDisabled});case Jc:if(t.items.length){var q=e.queue,B=q.currentIndex,K=q.items;return De({},e,Ve(t.items[0].position,t.items[0].duration),{queue:De({},e.queue,{items:Re(K.slice(0,B+1)).concat(Re(t.items.map(function(e){return Nl(e)})),Re(K.slice(B+1))),currentIndex:K.length>0?B+1:0,dragIndex:null,upNext:null})})}break;case Zc:return e.isPaused?De({},e,{wasPausedByPreview:t.pausedByPreview}):De({},e,{isPaused:!0,hasErrored:!1,hasEnded:!1,wasPausedByPreview:t.pausedByPreview});case el:var H=e.queue,V=H.currentIndex,G=H.items;if(!e.isPaused||!G.length)return e;var W=G[V],X=W.position,Y=W.duration,Q=!Y||Y-X>Al?X:0,z=e.hasSuccessfullyPlayed?{}:{isBuffering:!0,seekPosition:Q,isSeeking:!!Q};return De({},e,{isPaused:!1,wasPausedByPreview:!1,hasErrored:!1,hasInteracted:!0,hasEnded:!1},z);case tl:var $=e.seekHistory,J=e.queue,Z=J.items,ee=J.currentIndex;if(!Z.length)return e;var te=Z[ee],ne=te.seekRestriction,re=te.duration,ie=te.position,oe=$;return oe=oe.filter(function(e){return e>Date.now()-kc.limitedForwardsMaxSeekPeriod}),"forwards_only"===ne&&t.seekPosition<ie||"limited_forwards"===ne&&(oe.length>=kc.limitedForwardsMaxSeeks||t.seekPosition<ie)?e:(e.isSeeking||(oe=Re(oe.slice(-1*kc.limitedForwardsMaxSeeks)).concat([Date.now()])),De({},e,{isPaused:!1,isBuffering:!0,hasEnded:!1,isSeeking:!0,hasInteracted:!0,seekPosition:Math.max(0,Math.min(re,t.seekPosition)),seekHistory:oe,isSeekDisabled:"limited_forwards"===ne&&oe.length>=kc.limitedForwardsMaxSeeks}));case nl:return De({},e,{volume:Math.min(1,Math.max(0,t.volume))});case il:var ae=e.queue,se=ae.items,ue=ae.currentIndex;if(t.canRetry&&e.retryCount<Rl&&se.length){var ce=se[ue],le=e.hasInteracted?Ve(ce.position,ce.duration):jl;return De({},e,le,{retryCount:e.retryCount+1})}return De({},e,{isLoading:!1,isBuffering:!1,showBuffering:!1,isSeeking:!1,isPaused:!0,hasErrored:!0,hasEnded:!1,hasSuccessfullyPlayed:!1});case ol:var fe=e.queue,de=fe.items,pe=fe.currentIndex,he=fe.upNext,me=he,ye=Re(de);if(t.shouldChangePosition){var ge=De({},de[pe],{position:de[pe].duration});ye=Re(de.slice(0,pe)).concat([ge],Re(de.slice(pe+1)))}var be=!0;if(pe===ye.length-1&&he&&!he.hide&&(ye.push(he.item),me=null,be=!1),pe<ye.length-1){var ve=ye[pe+1],we=ve.position,ke=ve.duration;return De({},e,{queue:De({},e.queue,{items:ye,currentIndex:pe+1,upNext:me})},Ve(we,ke),{seekHistory:be?[]:e.seekHistory,isSeekDisabled:!be&&e.isSeekDisabled})}return De({},e,{queue:De({},e.queue,{items:ye}),isPaused:!0,isLoading:!1,isBuffering:!1,showBuffering:!1,isSeeking:!1,hasErrored:!1,seekPosition:null,hasEnded:!0});case al:return De({},e,{isBuffering:t.isBuffering});case sl:return De({},e,{showBuffering:t.showBuffering});case ul:return De({},e,{isLoading:!1});case cl:var Se=e.queue,Ee=Se.items,_e=Se.currentIndex;if(!Ee.length)return e;var Te=Ee[_e],Pe=t.hasOwnProperty("duration")?t.duration:Te.duration,Oe=t.hasOwnProperty("latestSeekablePosition")?t.latestSeekablePosition:e.latestSeekablePosition,Ce=t.hasOwnProperty("position")?t.position:Te.position,xe=e.hasSuccessfullyPlayed;return Pe=Math.max(1,Pe||1),t.hasOwnProperty("position")&&t.position&&t.position>0&&(xe=!0),De({},e,{queue:De({},e.queue,{items:Re(Ee.slice(0,_e)).concat([De({},Te,{duration:Pe,position:Math.max(0,Math.min(Ce||0,Pe))})],Re(Ee.slice(_e+1)))}),latestSeekablePosition:Math.max(0,Math.min(Oe||0,Pe)),hasSuccessfullyPlayed:xe});case ll:case fl:return De({},e,{isSeeking:!1,seekPosition:null});case dl:return De({},e,{isSeeking:!1,seekPosition:0,hasErrored:!1,hasEnded:!1})}return e}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t,n){return t&&tt(e.prototype,t),n&&tt(e,n),e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ot(e,t,n[t])})}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){return fetch(e,t).then(function(e){return e.json()}).catch(console.error)}function st(e,t,n){var r=t,i=null;return r?(i=new FormData,Object.keys(r).forEach(function(e){null!==i&&i.append(e,r[e])}),at(e,it({method:"POST",credentials:"same-origin",body:i,headers:{"X-CSRFToken":q(),"X-Requested-With":"XMLHttpRequest"}},n))):at(e,it({method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":q(),"X-Requested-With":"XMLHttpRequest"}},n))}function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t,n){return t&&lt(e.prototype,t),n&&lt(e,n),e}function dt(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?yt(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t,n){return t&&kt(e.prototype,t),n&&kt(e,n),e}function Et(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?Ot(e):t}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nt(e,t,n[t])})}return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rt(e,t,n[t])})}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t,n){return t&&Ft(e.prototype,t),n&&Ft(e,n),e}function Mt(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?Bt(e):t}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t,n){return t&&Gt(e.prototype,t),n&&Gt(e,n),e}function Xt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?$t(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e){for(var t=[],n=atob(e),r=n.length,i=0;i<r;i++)t[i]=n.charCodeAt(i)^uf.charCodeAt(i%cf);return String.fromCharCode.apply(String,t)}function en(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t,n){return t&&tn(e.prototype,t),n&&tn(e,n),e}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(){if(null===ff){var e=document.createElement("audio");ff=!!(e.canPlayType&&e.canPlayType("audio/mpeg").replace(/no/,"")&&e.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,""))}return ff}function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t,n){return t&&un(e.prototype,t),n&&un(e,n),e}function ln(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?hn(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pn(e,t,n[t])})}return e}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t,n){return t&&vn(e.prototype,t),n&&vn(e,n),e}function kn(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?Tn(e):t}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e){return!(!e.width&&!e.height)&&e.complete}function Cn(e){return e.getBoundingClientRect().top<window.innerHeight+Tf}function xn(e){return rc.createElement("div",null,rc.createElement(Of,{className:"up-next-img loaded",picture:e.cloudcast.picture,width:90,height:90}),rc.createElement("div",{className:"up-next-img-border"}),rc.createElement("div",{className:"up-next-title"},e.cloudcast.name),rc.createElement("div",{className:"up-next-by"},"by ",rc.createElement("span",null,e.cloudcast.owner.displayName)),rc.createElement("div",{className:"up-next-play"},rc.createElement("div",{className:"up-next-play-icon"})))}function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t,n){return t&&Rn(e.prototype,t),n&&Rn(e,n),e}function An(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?Ln(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nr(e,t,n[t])})}return e}function Kn(e){return Gn(e)||Vn(e)||Hn()}function Hn(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Vn(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function Gn(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t,n){return t&&Xn(e.prototype,t),n&&Xn(e,n),e}function Qn(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?tr(e):t}function zn(e,t,n){return(zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=$n(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function $n(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jn(e)););return e}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t,n){return t&&or(e.prototype,t),n&&or(e,n),e}function sr(e,t){return!t||"object"!==rr(t)&&"function"!=typeof t?ur(e):t}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(){return pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}function hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t,n){return t&&mr(e.prototype,t),n&&mr(e,n),e}function gr(e,t){return!t||"object"!==dr(t)&&"function"!=typeof t?kr(e):t}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t,n){return t&&Tr(e.prototype,t),n&&Tr(e,n),e}function Or(e,t){return!t||"object"!==Er(t)&&"function"!=typeof t?Cr(e):t}function Cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t,n){return t&&Ar(e.prototype,t),n&&Ar(e,n),e}function Dr(e,t){return!t||"object"!==Rr(t)&&"function"!=typeof t?Mr(e):t}function Mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lr(e){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}
function Gr(e,t,n){return t&&Vr(e.prototype,t),n&&Vr(e,n),e}function Wr(e,t){return!t||"object"!==Kr(t)&&"function"!=typeof t?Xr(e):t}function Xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e,t,n){return t.WrappedComponent=e,n&&(t.displayName=n),Zf()(t,e,{WrappedComponent:!0}),t}function Jr(){return Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(this,arguments)}function Zr(){return Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zr.apply(this,arguments)}function ei(e){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ri(e,t,n){return t&&ni(e.prototype,t),n&&ni(e,n),e}function ii(e,t){return!t||"object"!==ei(t)&&"function"!=typeof t?ui(e):t}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ai(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ui(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(){return li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},li.apply(this,arguments)}function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hi(e,t,n){return t&&pi(e.prototype,t),n&&pi(e,n),e}function mi(e,t){return!t||"object"!==fi(t)&&"function"!=typeof t?vi(e):t}function yi(e){return(yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _i(e,t,n){return t&&Ei(e.prototype,t),n&&Ei(e,n),e}function Ti(e,t){return!t||"object"!==ki(t)&&"function"!=typeof t?Pi(e):t}function Pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oi(e){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ni(e){var t=e.cloudcast,n=Ff.get("cloudcast",{username:t.owner.username,slug:t.slug});return rc.createElement("a",{href:n,className:"widget-logo",title:"Mixcloud",target:"_blank"})}function Ii(e){return e.length>3?"".concat(Ii(e.slice(0,-3)),",").concat(e.slice(-3)):e}function Ri(e){return isNaN(e)||!e?"0":e<0?"-".concat(Ri(-e)):e.toString().replace(/^\d+/,Ii)}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ai(e,t,n[t])})}return e}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e,t,n){return t&&Di(e.prototype,t),n&&Di(e,n),e}function Li(e,t){if(null==e)return{};var n,r,i=Ui(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ui(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ki(e,t,n[t])})}return e}function Bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hi(e){var t=Object.keys(e).filter(function(e){return"__trace"!==e});return e.__trace&&(e.__clientTraceId=bd++),t.length&&t.forEach(function(t){Hi(e[t])}),e}function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xi(e,t,n){return t&&Wi(e.prototype,t),n&&Wi(e,n),e}function Yi(e,t){return!t||"object"!==Vi(t)&&"function"!=typeof t?Qi(e):t}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ji(e,t)}function Ji(e,t){return(Ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){co(e,t,n[t])})}return e}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t,n){return t&&no(e.prototype,t),n&&no(e,n),e}function io(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?uo(e):t}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ao(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(){return fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo.apply(this,arguments)}function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t,n){return t&&ho(e.prototype,t),n&&ho(e,n),e}function yo(e,t){return!t||"object"!==lo(t)&&"function"!=typeof t?go(e):t}function go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){So(e,t,n[t])})}return e}function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t){if(null==e)return{};var n,r,i=_o(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _o(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function To(e){var t=[],n=new Pd.a,r=new Promise(function(r,i){e(r,i,n,function(e,n){t.forEach(function(t){t(e,n)})})});return Object.assign(r,{addProgressListener:function(e){t.push(e)},removeProgressListener:function(e){t=t.filter(function(t){return e!==t})},abort:function(){return n.abort()}}),r}function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xo(e,t,n){return t&&Co(e.prototype,t),n&&Co(e,n),e}function No(e,t){return!t||"object"!==Po(t)&&"function"!=typeof t?Ao(e):t}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jo(e,t)}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Do(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{showHH:!1},n=t.showHH;if(isNaN(e))return n?"00:00:00":"00:00";var r="";e<0&&(r="-",e=Math.abs(e));var i=Math.floor(e/3600),o=Math.floor(e/60)%60,a=Math.floor(e)%60,s="";e>=36e3?s="".concat(i,":"):e>=3600?s=n?"0".concat(i,":"):"".concat(i,":"):n&&(s="00:");var u=o<10?"0".concat(o):o,c=a<10?"0".concat(a):a;return"".concat(r).concat(s).concat(u,":").concat(c)}function Mo(e,t,n){function r(e){var n=e.trackclients&&e.trackclients.trackclient&&e.trackclients.trackclient.length&&e.trackclients.trackclient[0],r={startSeconds:parseInt(e.start,10),songName:null,artistName:null,buyUrl:null,chapter:null};if(n){var i;i=n.track_mix_artist?n.track_mix_artist:n.bundle_mirror_artists&&n.bundle_mirror_artists.artist&&n.bundle_mirror_artists.artist[0]?n.bundle_mirror_artists.artist.join(", "):"",-1===kc.juno.ignoreArtists.indexOf(i)&&(r.songName=n.track_title,n.track_mix_title&&(r.songName+=" (".concat(n.track_mix_title,")")),r.songName?(r.artistName=i,r.buyUrl="".concat(t,"?timein=").concat(encodeURIComponent(e.start),"&utm_source=Mixcloud&utm_medium=html5&utm_campaign=mixcloud&ref=mixcloud&a_cid=44db7396")):delete r.songName)}return r.songName||(r.chapter="Unknown"),r}return new Promise(function(t,i){fetch("".concat(kc.urls.baseUrl).concat(kc.urls.juno,"?guid=").concat(encodeURIComponent(e)),n).then(function(e){return e.json()}).then(function(e){var n=e.results.result,i=n.filter(function(e){return parseInt(e.start,10)>=0}).map(r);t(i)}).catch(i)})}function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(){return Uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uo.apply(this,arguments)}function qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e,t,n){return t&&Bo(e.prototype,t),n&&Bo(e,n),e}function Ho(e,t){return!t||"object"!==Lo(t)&&"function"!=typeof t?Xo(e):t}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Go(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qo(e){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zo(){return zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zo.apply(this,arguments)}function $o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zo(e,t,n){return t&&Jo(e.prototype,t),n&&Jo(e,n),e}function ea(e,t){return!t||"object"!==Qo(t)&&"function"!=typeof t?ta(e):t}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){aa(e,t,n[t])})}return e}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e,t){return la(e)||ca(e,t)||ua()}function ua(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function ca(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function la(e){if(Array.isArray(e))return e}function fa(e,t,n){var r=null;if(e.length){var i=pa(e,n);r=i&&i.songName?i:da(t,n)}else r=da(t,n);return r}function da(e,t){var n=null;if(e&&e.sections&&e.sections.length&&null!==e.sections[0].startSeconds){var r=pa(e.sections,t);r&&(r.chapter&&!/^UNKNOWN$/i.test(r.chapter)||r.songName)&&(n=r)}return n}function pa(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=e.entries()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=sa(o.value,2),u=s[0],c=s[1],l=e[u+1];if(!l||null===l.startSeconds)return null;if(l.startSeconds>t)return oa({},c)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}function ha(e){return(ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(){return ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ma.apply(this,arguments)}function ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e,t,n){return t&&ga(e.prototype,t),n&&ga(e,n),e}function va(e,t){return!t||"object"!==ha(t)&&"function"!=typeof t?Ea(e):t}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ka(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}function Sa(e,t){return(Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pa(){return Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa.apply(this,arguments)}function Oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xa(e,t,n){return t&&Ca(e.prototype,t),n&&Ca(e,n),e}function Na(e,t){return!t||"object"!==Ta(t)&&"function"!=typeof t?Ia(e):t}function Ia(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ra(e){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ja(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}function Aa(e,t){return(Aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t,n){return t&&Ma(e.prototype,t),n&&Ma(e,n),e}function Ua(e,t){return!t||"object"!==Fa(t)&&"function"!=typeof t?Ha(e):t}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(){return Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wa.apply(this,arguments)}function Xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qa(e,t,n){return t&&Ya(e.prototype,t),n&&Ya(e,n),e}function za(e,t){return!t||"object"!==Ga(t)&&"function"!=typeof t?es(e):t}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ja(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function os(e,t,n){return t&&is(e.prototype,t),n&&is(e,n),e}function as(e,t){return!t||"object"!==ns(t)&&"function"!=typeof t?ls(e):t}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function us(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cs(e,t)}function cs(e,t){return(cs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ls(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ds(e){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ps(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ms(e,t,n){return t&&hs(e.prototype,t),n&&hs(e,n),e}function ys(e,t){return!t||"object"!==ds(t)&&"function"!=typeof t?gs(e):t}function gs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bs(e){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ws(e,t)}function ws(e,t){return(ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ks(e){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _s(e,t,n){return t&&Es(e.prototype,t),n&&Es(e,n),e}function Ts(e,t){return!t||"object"!==ks(t)&&"function"!=typeof t?Ps(e):t}function Ps(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Os(e){return(Os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}function xs(e,t){return(xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ns(e){return(Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function js(e,t,n){return t&&Rs(e.prototype,t),n&&Rs(e,n),e}function As(e,t){return!t||"object"!==Ns(t)&&"function"!=typeof t?Fs(e):t}function Fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ds(e){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ms(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ls(e,t)}function Ls(e,t){return(Ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Us(e){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ks(e,t,n){return t&&Bs(e.prototype,t),n&&Bs(e,n),e}function Hs(e,t){return!t||"object"!==Us(t)&&"function"!=typeof t?Vs(e):t}function Vs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gs(e){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ws(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xs(e,t)}function Xs(e,t){return(Xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ys(e,t){return $s(e)||zs(e,t)||Qs()}function Qs(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function zs(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function $s(e){if(Array.isArray(e))return e}function Js(e){var t={};return(e||"").replace(/^\?/,"").replace("+"," ").split("&").forEach(function(e){var n=e.split("="),r=Ys(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}),t}function Zs(e){return e.replace(/(_\w)/g,function(e){return e[1].toUpperCase()})}function eu(e){return ru(e)||nu(e)||tu()}function tu(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nu(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function ru(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ou(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function su(e){var t=["TEXTAREA","INPUT"];if(lp()(e)){var n=lp()(e).split(" "),r=n[n.length-1];!fp.listeners[r]||"esc"!==r&&-1!==t.indexOf(e.target.tagName)||fp.emit(r,e)}}function uu(e){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fu(e,t,n){return t&&lu(e.prototype,t),n&&lu(e,n),e}function du(e,t){return!t||"object"!==uu(t)&&"function"!=typeof t?yu(e):t}function pu(e){return(pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mu(e,t)}function mu(e,t){return(mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vu(){return vu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vu.apply(this,arguments)}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xu(e,t,n[t])})}return e}function ku(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eu(e,t,n){return t&&Su(e.prototype,t),n&&Su(e,n),e}function _u(e,t){return!t||"object"!==bu(t)&&"function"!=typeof t?Cu(e):t}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ou(e,t)}function Ou(e,t){return(Ou=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nu(e){return(Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ju(e,t,n){return t&&Ru(e.prototype,t),n&&Ru(e,n),e}function Au(e,t){return!t||"object"!==Nu(t)&&"function"!=typeof t?Lu(e):t}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Du(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}function Mu(e,t){return(Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qu(e){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bu(){return Bu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bu.apply(this,arguments)}function Ku(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vu(e,t,n){return t&&Hu(e.prototype,t),n&&Hu(e,n),e}function Gu(e,t){return!t||"object"!==qu(t)&&"function"!=typeof t?Wu(e):t}function Wu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qu(e,t)}function Qu(e,t){return(Qu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $u(e){return ec(e)||Zu(e)||Ju()}function Ju(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Zu(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function ec(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function tc(){return rc.createElement(xc,{createEnv:Up,initialEnv:qp},rc.createElement(sc.a,{store:Lp},rc.createElement(Ac,{tracking:{type:"source",referrer:document.referrer}},rc.createElement(rc.Fragment,null,rc.createElement(Ip,Hp),rc.createElement(Ep,Hp)))))}function nc(){ac.a.hydrate(rc.createElement(tc),document.getElementById("react-root"))}Object.defineProperty(t,"__esModule",{value:!0});var rc=n(3),ic=n.n(rc),oc=n(277),ac=n.n(oc),sc=n(60),uc=n(34),cc=n.n(uc),lc=function(){function e(){s(this,e),l(this,"_keys",[]),l(this,"_values",[])}return c(e,[{key:"set",value:function(e,t){var n=this.indexOf(e);n>-1?this._values[n]=t:(this._keys.push(e),this._values.push(t))}},{key:"get",value:function(e){var t=this.indexOf(e);if(t>-1)return this._values[t]}},{key:"indexOf",value:function(e){for(var t=0;t<this._keys.length;t++)if(this.keyEquals(e,this._keys[t]))return t;return-1}},{key:"keyEquals",value:function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t[o]||!t[o].equals(e[o]))return!1}return!0}},{key:"keys",value:function(){return r(this._keys)}},{key:"values",value:function(){return r(this._values)}},{key:"size",get:function(){return this._keys.length}}]),e}(),fc=function(e){function t(){var e,n;d(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=m(this,(e=y(t)).call.apply(e,[this].concat(i))),w(v(v(n)),"isomorphicQueriesMap",new lc),w(v(v(n)),"isIsomorphicRender",!1),w(v(v(n)),"isomorphicRunQuery",function(e){var t=new Promise(function(t){n.isomorphicFetchQuerySet(e,function(r){if(r.error||r.aborted||r.done){var i=n.isomorphicQueriesMap.get(e);i&&(i.readyState=r,t())}})});n.isomorphicQueriesMap.set(e,{promise:t,result:{}})}),n}return g(t,e),h(t,[{key:"isomorphicRunQueriesOrGetReadyState",value:function(e,t){var n=cc.a.getQueries(e,t),r=this.isomorphicQueriesMap.get(n);return r&&r.readyState?r.readyState:(!r&&this.isServer&&this.isomorphicRunQuery(n),null)}},{key:"isomorphicFetchQuerySet",value:function(e,t){this.primeCache(e,t)}},{key:"isomorphicQueriesPromise",get:function(){return Promise.all(this.isomorphicQueriesMap.values().map(function(e){return e.promise}))}}]),t}(cc.a.Environment),dc=n(321),pc=n.n(dc),hc=function(e){function t(){var e,n;S(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=T(this,(e=P(t)).call.apply(e,[this].concat(i))),N(x(x(n)),"_requests",new Map),n}return O(t,e),_(t,[{key:"isomorphicInjectServerData",value:function(e){var t=this;this.isIsomorphicRender=!0;var n=this.getStoreData();return e.forEach(function(e){var r={};Object.keys(e).forEach(function(t){var i=e[t],o=i.query,a=i.data,s=pc.a.Query(o);n.handleQueryPayload(s,a),r[t]=s}),t.isomorphicRunQuery(r)}),this.isomorphicQueriesPromise}}]),t}(fc),mc=function(){function e(t){var n=this;I(this,e),A(this,"handleUploadProgress",function(e){if(e=e,e.lengthComputable&&e.total>0&&!(n._xhr.readyState>=4)){var t=e,r=t.loaded,i=t.total;n.uploadProgressCallback&&n.uploadProgressCallback(r,i)}}),Object.assign(this,t),this._xhr.upload&&this._xhr.upload.addEventListener("progress",this.handleUploadProgress,!1)}return j(e,[{key:"abort",value:function(){this._xhr.abort(),this.removeSelf()}},{key:"onUploadProgress",value:function(e){this.uploadProgressCallback=e}}]),e}(),yc=mc,gc=function(e){return e.getID?e.getID():e.getVariables().input_0.clientMutationId},bc=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.graphqlUrl,i=void 0===r?"/graphql":r,o=n.headers,a=void 0===o?{}:o,s=n.withCredentials,u=void 0!==s&&s,c=n.env;D(this,e),U(this,"sendQuery",function(e){return t.send(e.getID(),"query",e)}),U(this,"_storeRequest",function(e,n){var r=function(){t.env._requests.delete(n)};["error","abort","loadend","timeout"].forEach(function(t){e.addEventListener(t,r)});var i=new yc({id:n,_xhr:e,removeSelf:r});t.env._requests.set(n,i)}),this.url=i,this.env=c,this.withCredentials=u,this.headers=F({"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",Accept:"application/json"},a)}return L(e,[{key:"supports",value:function(){}},{key:"sendQueries",value:function(e){return Promise.all(e.map(this.sendQuery))}},{key:"sendMutation",value:function(e){var t=gc(e);return this.send(t,"mutation",e)}},{key:"onError",value:function(e,t,n,r){n(new Error(JSON.stringify(r.errors)))}},{key:"getHeaders",value:function(){return this.headers}},{key:"getUrl",value:function(){return this.url}},{key:"onLoad",value:function(e,t,n){if(e.status>=400)return void n(new Error("Request failed"));if(!e.response)return void n(new Error("Invalid JSON response returned from server"));var r=e.response;if("string"==typeof r)try{r=JSON.parse(r)}catch(e){return void n(new Error("Invalid JSON response returned from server"))}var i=r,o=i.data;"errors"in r||!o?this.onError(e,t,n,r):t(o)}},{key:"send",value:function(e,t,n){var r=this;return new Promise(function(i,o){var a=new XMLHttpRequest;a.open("POST",r.getUrl(e,t,n),!0),a.responseType="json",r.withCredentials&&(a.withCredentials=!0),a.addEventListener("load",function(){r.onLoad(a,i,o)}),a.addEventListener("error",function(){o(new TypeError("Network request failed"))}),a.addEventListener("abort",function(){o({cancelled:!0})});var s,u=r.getHeaders(),c=n.getFiles&&n.getFiles();if(c){var l=new FormData;l.append("id",e),l.append("query",n.getQueryString()),l.append("variables",JSON.stringify(n.getVariables())),Object.keys(c).forEach(function(e){Array.isArray(c[e])?c[e].forEach(function(t){l.append(e,t)}):l.append(e,c[e])}),s=l,delete u["Content-Type"]}else s=JSON.stringify({id:e,query:n.getQueryString(),variables:n.getVariables()});Object.keys(u).forEach(function(e){a.setRequestHeader(e,u[e])});var f=gc(n);r._storeRequest(a,f),a.send(s)}).then(function(e){return n.resolve({response:e}),e}).catch(function(e){n.reject(e)})}}]),e}(),vc=/(?:^|;)\s*csrftoken=([^;\s]*)/,wc=n(682),kc=wc,Sc=0,Ec=0,_c=function(e){function t(e){var n;G(this,t);var r=e.on403Callback,i=e.onSpeedbarResponse,o=e.onJailedCallback,a=e.csrf,s=e.canRunNetworkRequests,u=e.onCH,c=e.onResponse,l=H(e,["on403Callback","onSpeedbarResponse","onJailedCallback","csrf","canRunNetworkRequests","onCH","onResponse"]);return n=Y(this,$(t).call(this,l)),te(ee(ee(n)),"on403Callback",null),te(ee(ee(n)),"onSpeedbarResponse",null),te(ee(ee(n)),"onJailedCallback",null),te(ee(ee(n)),"onCH",null),te(ee(ee(n)),"onResponse",null),n.csrf=!!a,n.on403Callback=r,n.onSpeedbarResponse=i,n.onJailedCallback=o,n.onCH=u,n.onResponse=c,n.canRunNetworkRequests=s,n}return J(t,e),X(t,[{key:"onLoad",value:function(e,n,r){if(403===e.status&&this.on403Callback)return this.on403Callback(new Error(e.statusText)),void r(new Error("Request failed"));Q($(t.prototype),"onLoad",this).call(this,e,n,r)}},{key:"onError",value:function(e,n,r,i){if(this.onJailedCallback){var o=!0,a=!1,s=void 0;try{for(var u,c=i.errors[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(l&&"jailed"===l.message){this.onJailedCallback();break}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}Q($(t.prototype),"onError",this).call(this,e,n,r,i)}},{key:"getHeaders",value:function(){return this.csrf?K({},this.headers,{"X-CSRFToken":q()||""}):K({},this.headers)}},{key:"getUrl",value:function(e,t,n){if(n.getMutation&&"UploadCloudcastMutation"===n.getMutation().getName())return"".concat(kc.upload.servers[Math.floor(Math.random()*kc.upload.servers.length)],"/graphql");return this.url}},{key:"send",value:function(e,n,r){var i=this;return this.canRunNetworkRequests&&!this.canRunNetworkRequests()?r.reject(new TypeError("Network request failed")):Q($(t.prototype),"send",this).call(this,e,n,r).then(function(e){var t=r.getQuery?r.getQuery().getName():r.getMutation?r.getMutation().getName():"Unknown";if(i.onSpeedbarResponse){var o=i.onSpeedbarResponse;e&&e.__speedbar&&o({requestId:"r".concat(Sc++),name:t,speedbar:e.__speedbar,trace:ne(e.__trace),query:r.getQueryString(),variables:r.getVariables(),response:e,type:n})}i.onCH&&e&&e.__ch&&i.onCH(),i.onResponse&&i.onResponse(t,e)})}}]),t}(bc),Tc=n(17),Pc=n.n(Tc),Oc=function(){function e(){var t=this;re(this,e),ae(this,"cache",{}),ae(this,"onQuerySuccess",function(e){t.garbageCollect(),t.cache[t.getKey(e)]=Date.now()}),ae(this,"shouldForceFetch",function(e,n){var r=t.getKey(e);return!(r in t.cache)||Date.now()-t.cache[r]>n})}return oe(e,[{key:"getKey",value:function(e){var t=e.name,n=e.params;return"".concat(t,"|").concat(JSON.stringify(n))}},{key:"garbageCollect",value:function(){var e=this,t=Date.now();Object.keys(this.cache).forEach(function(n){t-e.cache[n]>864e5&&delete e.cache[n]})}}]),e}(),Cc=Pc.a.shape({env:Pc.a.instanceOf(cc.a.Environment).isRequired,reset:Pc.a.func.isRequired,initialRender:Pc.a.bool.isRequired,addResetListener:Pc.a.func.isRequired,removeResetListener:Pc.a.func.isRequired,shouldForceFetch:Pc.a.func.isRequired,onQuerySuccess:Pc.a.func.isRequired,mutate:Pc.a.func.isRequired}).isRequired,xc=function(e){function t(){var e,n;ce(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=de(this,(e=pe(t)).call.apply(e,[this].concat(i))),ge(ye(ye(n)),"_resetListeners",[]),ge(ye(ye(n)),"_queryFetchCache",new Oc),ge(ye(ye(n)),"relayEnvContext",{env:n.props.initialEnv||n.props.createEnv&&n.props.createEnv(),reset:function(){n.props.createEnv&&(n.relayEnvContext.env=n.props.createEnv(),n._resetListeners.forEach(function(e){e()}))},initialRender:!0,addResetListener:function(e){n._resetListeners.push(e)},removeResetListener:function(e){n._resetListeners=n._resetListeners.filter(function(t){return t!==e})},shouldForceFetch:n._queryFetchCache.shouldForceFetch,onQuerySuccess:n._queryFetchCache.onQuerySuccess,mutate:function(e){return se(n.relayEnvContext.env,e)}}),n}return he(t,e),fe(t,[{key:"getChildContext",value:function(){return{relayEnv:this.relayEnvContext}}},{key:"componentDidMount",value:function(){this.relayEnvContext.initialRender=!1}},{key:"render",value:function(){return rc.Children.only(this.props.children)}}]),t}(rc.PureComponent);ge(xc,"propTypes",{createEnv:Pc.a.func,initialEnv:Pc.a.instanceOf(cc.a.Environment),children:Pc.a.element.isRequired}),ge(xc,"childContextTypes",{relayEnv:Cc});var Nc=n(339),Ic=n(154),Rc=n.n(Ic),jc=function(){function e(t,n){Te(this,e),this.tracking=t,this._parent=n}return Oe(e,[{key:"asArray",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this._parent){var r;return(r=this._parent.asArray()).concat.apply(r,[this._tracking].concat(t))}return this._tracking.concat(t)}},{key:"getSituation",value:function(){return{tracking:this.asArray.apply(this,arguments)}}},{key:"tracking",get:function(){return this._tracking},set:function(e){this._tracking=Array.isArray(e)?e:[e]}}]),e}(),Ac=function(e){function t(){var e,n;Te(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ve(this,(e=we(t)).call.apply(e,[this].concat(i))),_e(Ee(Ee(n)),"trackingContext",new jc(n.props.tracking,n.context.tracking)),_e(Ee(Ee(n)),"getChildContext",function(){return{tracking:n.trackingContext}}),n}return ke(t,e),Oe(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.trackingContext.tracking=e.tracking}},{key:"shouldComponentUpdate",value:function(e){return e.children!==this.props.children||!Rc()(e.tracking,this.props.tracking)}},{key:"render",value:function(){return this.props.children}}]),t}(rc.Component);_e(Ac,"contextTypes",{tracking:Pc.a.object}),_e(Ac,"childContextTypes",{tracking:Pc.a.object.isRequired}),_e(function(e){function t(){var e,n;Te(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ve(this,(e=we(t)).call.apply(e,[this].concat(i))),_e(Ee(Ee(n)),"trackingContext",new jc(n.props.tracking)),_e(Ee(Ee(n)),"getChildContext",function(){return{tracking:n.trackingContext}}),n}return ke(t,e),Oe(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.trackingContext.tracking=e.tracking}},{key:"render",value:function(){var e=this.props,t=e.modalId,n=e.children;return rc.createElement(Ac,{tracking:{type:"modal",id:t}},n)}}]),t}(rc.PureComponent),"childContextTypes",{tracking:Pc.a.object.isRequired});var Fc=(Object(Nc.withRouter)(function(e){function t(){return Te(this,t),ve(this,we(t).apply(this,arguments))}return ke(t,e),Oe(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.location,r=null;return n.state&&n.state.linkTracking&&(r=n.state.linkTracking.filter(function(e){return"previous_page"!==e.type})),rc.createElement(Ac,{tracking:{type:"previous_page",tracking:r}},t)}}]),t}(rc.PureComponent)),n(278)),Dc="PLAYER.SET_PAUSE_SYNC",Mc="PLAYER.REHYDRATE",Lc="PLAYER.REORDER_QUEUE",Uc="PLAYER.SET_QUEUE",qc="PLAYER.SET_QUEUE_ITEM_RENDER_PROPS",Bc="PLAYER.ADD_TO_QUEUE",Kc="PLAYER.SET_CURRENT_INDEX",Hc="PLAYER.REMOVE_AT",Vc="PLAYER.CLEAR_QUEUE",Gc="PLAYER.DRAG_LEFT",Wc="PLAYER.DRAG_RIGHT",Xc="PLAYER.START_DRAG",Yc="PLAYER.STOP_DRAG",Qc="PLAYER.SET_UP_NEXT",zc="PLAYER.HIDE_UP_NEXT",$c="PLAYER.PLAY_UP_NEXT",Jc="PLAYER.PLAY",Zc="PLAYER.PAUSE",el="PLAYER.RESUME",tl="PLAYER.SEEK",nl="PLAYER.SET_VOLUME",rl="PLAYER.UNMOUNT",il="PLAYER.ERROR",ol="PLAYER.ENDED",al="PLAYER.SET_BUFFERING",sl="PLAYER.SHOW_BUFFERING",ul="PLAYER.LOADED",cl="PLAYER.SET_PROGRESS",ll="PLAYER.SEEK_FINISH",fl="PLAYER.SEEK_REJECT",dl="PLAYER.CANT_PLAY_NEXT",pl=function(e,t,n,r,i){return function(o){return{type:Uc,playerIdentifier:o,items:e.map(function(e){var t=e.streamInfo,n=e.cloudcastId,r=e.position,i=e.duration,o=e.situation,a=e.seekRestriction,s=e.renderProps,u=void 0===s?{}:s;return{streamInfo:t,cloudcastId:n,position:r||0,duration:i||1,situation:o,seekRestriction:a||null,upNext:null,renderProps:u}}),currentIndex:t||0,serverLastModified:n,play:!!r,retainPlayStateIfPossible:!!i}}},hl=function(e){return function(t){return{type:Kc,playerIdentifier:t,index:e}}},ml=function(e,t,n,r,i,o,a){return function(s){return{type:Jc,playerIdentifier:s,items:[{streamInfo:e,cloudcastId:t,position:n||0,duration:r||1,situation:i,seekRestriction:o||null,upNext:a||null,renderProps:{}}]}}},yl=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return{type:Zc,playerIdentifier:t,pausedByPreview:e}}},gl=function(){return function(e){return{type:el,playerIdentifier:e}}},bl=function(e){return function(t){return{type:tl,playerIdentifier:t,seekPosition:e}}},vl=function(e){return function(t){return{type:nl,playerIdentifier:t,volume:e}}},wl=function(){return function(e){return{type:rl,playerIdentifier:e}}},kl=function(e){return function(t){return{type:il,playerIdentifier:t,canRetry:!!e}}},Sl=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){return{type:ol,playerIdentifier:t,shouldChangePosition:e}}},El=function(e){return function(t){return{type:al,playerIdentifier:t,isBuffering:e}}},_l=function(e){return function(t){return{type:sl,playerIdentifier:t,showBuffering:e}}},Tl=function(){return function(e){return{type:ul,playerIdentifier:e}}},Pl=function(e){return function(t){return xe({type:cl,playerIdentifier:t},e)}},Ol=function(){return function(e){return{type:ll,playerIdentifier:e}}},Cl=function(){return function(e){return{type:fl,playerIdentifier:e}}},xl=function(){return function(e){return{type:dl,playerIdentifier:e}}},Nl=function(e){var t=e.streamInfo,n=e.cloudcastId,r=e.position,i=e.duration,o=e.situation,a=e.seekRestriction,s=e.upNext,u=e.renderProps;return{streamInfo:t,cloudcastId:n,position:r,duration:i,situation:o,seekRestriction:a,upNext:s,renderProps:void 0===u?{}:u}},Il=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Nl(De({},e,{renderProps:De({},e.renderProps,t)}))},Rl=3,jl={seekPosition:null,isSeeking:!1,isLoading:!1,showBuffering:!1,isBuffering:!1,hasErrored:!1,retryCount:0,hasEnded:!1,hasSuccessfullyPlayed:!1,isPaused:!0,wasPausedByPreview:!1,latestSeekablePosition:0},Al=30,Fl=Object(Fc.b)({player:He}),Dl=n(77),Ml=n.n(Dl),Ll=n(45),Ul=n.n(Ll),ql=function(e){return function(t){var n=cc.a.createContainer(t,e);return n.WrappedComponent=t,n}},Bl=Promise,Kl=6e4,Hl=function(){function e(t){var n=this;We(this,e),Qe(this,"_socketPromise",null),Qe(this,"reconnectIfNecessary",function(){return n._socketPromise?n._socketPromise:n._createWebsocket(kc.urls.websocket)}),Qe(this,"send",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.reconnectIfNecessary().then(function(){var r=JSON.stringify({stream:e,payload:t});n.instance.send(r)})}),Qe(this,"startHeartbeat",function(){n.sendHeartbeat(),n.hb=setInterval(n.sendHeartbeat,Kl)}),Qe(this,"sendHeartbeat",function(){n.send("hb")}),Qe(this,"stopHeartbeat",function(){n.hb&&(clearInterval(n.hb),n.hb=null)}),Qe(this,"parseMessage",function(e){return JSON.parse(e)}),Qe(this,"onmessage",function(e){var t=e.toString(),r=n.parseMessage(t),i=r.stream,o=r.payload,a=n.streams.get(i);a&&a.onmessage&&a.onmessage(o)}),Qe(this,"onclose",function(){n.streams.forEach(function(e){e.onclose&&e.onclose()})}),Qe(this,"onerror",function(){n.streams.forEach(function(e){e.onerror&&e.onerror()})}),Qe(this,"onreset",function(){n.streams.forEach(function(e){e.onreset&&e.onreset()})}),Qe(this,"registerStream",function(e,t){if(n.streams.has(e),!1)throw Error("Websocket stream ".concat(e," will be overwritten by registering it more than once"));n.streams.set(e,t)}),Qe(this,"unregisterStream",function(e){n.streams.delete(e)}),Qe(this,"reset",function(){n.stopHeartbeat(),n.instance.onclose=function(){},n.instance.onerror=function(){},n.instance.close(),n._createWebsocket(kc.urls.websocket).then(n.onreset).catch(function(){})}),this.streams=new Map,this._createWebsocket(t).catch(function(){})}return Ye(e,[{key:"_createWebsocket",value:function(e){var t=this;return this._socketPromise=new Bl(function(n,r){var i=function(e){return function(){e(),t.stopHeartbeat(),r({ok:!1}),t._socketPromise=null}},o=function(){t.startHeartbeat(),n({ok:!0})};if("undefined"!=typeof window){if(!WebSocket)return void i(t.onerror)();var a=new WebSocket(e);a.onopen=o,a.onerror=i(t.onerror),a.onclose=i(t.onclose),a.onmessage=t.onmessage,t.instance=a}}),this._socketPromise}}]),e}(),Vl=new Hl(kc.urls.websocket),Gl=function(){function e(t,n){ze(this,e),Ze(this,"onmessage",function(){}),Ze(this,"onclose",function(){}),Ze(this,"onerror",function(){}),this.stream=t,Object.assign(this,n),this.socket=Vl,Vl.registerStream(t,this)}return Je(e,[{key:"destructor",value:function(){this.socket.unregisterStream(this.stream)}},{key:"sendEvent",value:function(e){return this.socket.send(this.stream,e)}}]),e}(),Wl=Gl,Xl=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];et(this,e),rt(this,"timeout",null),rt(this,"isActive",!1),rt(this,"startTimeout",function(){}),rt(this,"delay",0),rt(this,"nextDelay",0),rt(this,"timeAtLastCall",0),this.delay=t,this.nextDelay=t,this.startTimeout=function(){r.timeAtLastCall=Date.now(),r.timeout=setTimeout(function(){r.timeout=null,n(),r.nextDelay=r.delay,r.isActive&&r.startTimeout()},r.nextDelay)},i&&(this.isActive=!0,this.startTimeout())}return nt(e,[{key:"stop",value:function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.nextDelay=this.delay-(Date.now()-this.timeAtLastCall)),this.isActive=!1}},{key:"start",value:function(){this.isActive||(this.isActive=!0,this.startTimeout())}}]),e}(),Yl=Xl,Ql=(n(694),function(e){function t(){var e,n;ct(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=dt(this,(e=pt(t)).call.apply(e,[this].concat(i))),gt(yt(yt(n)),"state",{}),gt(yt(yt(n)),"trackingUrl",kc.urls.player.trackingUrl),gt(yt(yt(n)),"startPlay",function(e){e||!n.timer?(n.getDetailsAndPoll(),n.startPolling()):n.timer.start()}),gt(yt(yt(n)),"stopPlay",function(){n.timer&&n.timer.stop()}),gt(yt(yt(n)),"getDetailsAndPoll",function(){var e=n.props,t=e.position,r=e.cloudcastId,i=e.pingSessionId,o=e.situation;n._poll({cloudcastId:r,position:t,pingSessionId:i,situation:o})}),n}return ht(t,e),ft(t,[{key:"startPolling",value:function(){this.timer=new Yl(6e4,this.getDetailsAndPoll,!0)}},{key:"_poll",value:function(e){var t=e.cloudcastId,n=e.position,r=e.pingSessionId,i=e.situation,o={cloudcast_id:t,pos_ms:"".concat(Math.floor(1e3*n)),ping_session_id:r,situation:JSON.stringify(i)};st(this.trackingUrl,o)}},{key:"componentDidMount",value:function(){this.props.isPlaying&&this.startPlay(!0)}},{key:"componentWillUnmount",value:function(){this.stopPlay()}},{key:"render",value:function(){return null}}]),t}(rc.Component)),zl=Ql,$l=1e4,Jl=function(e){function t(){var e,n;wt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Et(this,(e=_t(t)).call.apply(e,[this].concat(i))),Ct(Ot(Ot(n)),"state",{failed:!1}),Ct(Ot(Ot(n)),"debouncedPlayStart",null),Ct(Ot(Ot(n)),"playState",0),Ct(Ot(Ot(n)),"hasSentPlay",!1),Ct(Ot(Ot(n)),"newPingSessionId",!0),Ct(Ot(Ot(n)),"fail",function(){n.mounted&&(n.setState({failed:!0}),n.hasSentPlay=!1)}),Ct(Ot(Ot(n)),"clearDebounce",function(){n.debouncedPlayStart&&(clearTimeout(n.debouncedPlayStart),n.debouncedPlayStart=null)}),Ct(Ot(Ot(n)),"startPlay",function(e){n.clearDebounce(),e?(n.hasSentPlay&&n.stopPlay(),n.sendPlay()):!1===n.state.failed?n.debouncedPlayStart=setTimeout(function(){n.sendPlay($l)},$l):n.fallback&&n.fallback.startPlay(!1),n.newPingSessionId=!1}),Ct(Ot(Ot(n)),"sendPlay",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.props,r=t.cloudcastId,i=t.position,o=t.situation,a=t.pingSessionId,s=1e3*i,u={pingSessionId:a,startPosition:s,debounceDelay:e,cloudcastId:r,situation:o};n.state.failed||n.ws.sendEvent({event:"start",data:u}).catch(n.fail),n.hasSentPlay=!0,n.clearDebounce()}),Ct(Ot(Ot(n)),"stopPlay",function(){n.state.failed?n.fallback&&n.fallback.stopPlay():n.debouncedPlayStart||n.ws.sendEvent({event:"stop"}).catch(n.fail),n.hasSentPlay=!1,n.clearDebounce()}),Ct(Ot(Ot(n)),"setRef",function(e){n.fallback=e}),n}return Tt(t,e),St(t,[{key:"getPlayState",value:function(e){this.newPingSessionId=this.newPingSessionId||this.props.pingSessionId!==e.pingSessionId;var t=!this.props.isPlaying&&e.isPlaying;return this.newPingSessionId&&e.isPlaying||t?1:this.props.isPlaying&&!e.isPlaying?2:0}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.playState=this.getPlayState(e),1===this.playState&&this.state.failed&&this.newPingSessionId&&(this.setState({failed:!1}),this.hasSentPlay=!1)}},{key:"componentDidUpdate",value:function(e,t){!this.state.failed&&t.failed?this.startPlay(!0):1===this.playState?this.startPlay(this.newPingSessionId):2===this.playState&&this.stopPlay(),this.playState=0}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=new Wl("play_tracking",{onerror:this.fail,onclose:this.fail,onreset:function(){e.startPlay(!0)}});this.ws=t,this.props.isPlaying&&this.startPlay(!0)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.clearDebounce(),this.ws&&(this.stopPlay(),this.ws.destructor())}},{key:"render",value:function(){return this.state.failed?rc.createElement(zl,vt({ref:this.setRef},this.props)):null}}]),t}(rc.Component),Zl=Jl,ef=Ul()(Object(sc.b)(function(e,t){var n=t.playerIdentifier,r=void 0===n?"main":n,i=qe(function(e,t){return{isPaused:e.isPaused,isLoading:e.isLoading,hasErrored:e.hasErrored,isBuffering:e.isBuffering,hasEnded:e.hasEnded,isSeeking:e.isSeeking,queue:e.queue,cloudcastId:t.cloudcastId,position:t.position,streamInfo:t.streamInfo,situation:t.situation}},r)(e),o=!1,a=Le(e.player,r);a&&(o=Ke(a));var s="";return i.streamInfo&&(s=i.streamInfo.uuid),xt({},i,{isPlaying:o,
pingSessionId:s})}))(Zl),tf="undefined"==typeof window||window.mockRaven?null:n(344),nf={config:function(e,t){return tf?tf.config(e,t):{install:function(){}}},captureBreadcrumb:function(e){tf&&tf.captureBreadcrumb(It({level:"info"},e))},captureException:function(e,t){tf&&tf.captureException(e,t)},setUserContext:function(e){tf&&tf.setUserContext(e)},captureMessage:function(e,t){if(tf)try{throw new Error(e)}catch(e){tf.captureException(e,t)}}},rf=function(e){function t(){var e,n,r=this;At(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=Mt(this,(e=Lt(t)).call.apply(e,[this].concat(o))),Kt(Bt(Bt(n)),"error",!1),Kt(Bt(Bt(n)),"offline",!1),Kt(Bt(Bt(n)),"onRelayEnvReset",function(){n.forceUpdate()}),Kt(Bt(Bt(n)),"_relayRender",function(e){var t=e.error,i=e.props,o=e.retry;return i?(n.context.relayEnv.onQuerySuccess(n.props.queryConfig.name,n.props.queryConfig.params),n.error=!1,n.offline=!1,n.props.renderComponent?n.props.renderComponent(i):rc.createElement(r.props.Container,i)):t?"TypeError: Network request failed"===t.toString()?(n.offline=!0,n.props.renderOffline(o,!1)):(nf.captureException(t),n.error=!0,n.props.renderError(t,o,!1)):n.error?n.props.renderError(null,o,!0):n.offline?n.props.renderOffline(o,!0):n.props.renderLoading()}),n}return Ut(t,e),Dt(t,[{key:"componentDidMount",value:function(){this.context.relayEnv.addResetListener(this.onRelayEnvReset)}},{key:"componentWillUnmount",value:function(){this.context.relayEnv.removeResetListener(this.onRelayEnvReset)}},{key:"render",value:function(){var e=this.context.relayEnv,t=e.env,n=e.initialRender,r=this.props,i=r.Container,o=r.queryConfig;if(t.isIsomorphicRender&&(t.isServer||n)){var a=t.isomorphicRunQueriesOrGetReadyState(i,o);if(a)return rc.createElement(cc.a.ReadyStateRenderer,{Container:i,queryConfig:o,environment:t,render:this._relayRender,readyState:a});if(t.isServer)return null}return rc.createElement(cc.a.Renderer,{forceFetch:this.props.forceFetch,Container:i,queryConfig:o,environment:t,render:this._relayRender})}}]),t}(rc.Component);Kt(rf,"defaultProps",{forceFetch:!1,renderOffline:function(){return null},renderLoading:function(){return null},renderError:function(){return null}}),Kt(rf,"contextTypes",{relayEnv:Pc.a.object});var of=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return function(t){var n=t.player,r=Le(n,e);if(r&&r.queue.items.length){var i=r.isPaused,o=r.wasPausedByPreview,a=r.volume,s=r.isSeeking,u=r.seekPosition,c=r.isLoading,l=r.isBuffering,f=r.showBuffering,d=r.hasErrored,p=r.retryCount,h=r.hasEnded,m=r.hasSuccessfullyPlayed,y=r.latestSeekablePosition,g=r.queue,b=g.items,v=g.currentIndex,w=r.hasInteracted,k=r.pauseSync;return{isPaused:i,wasPausedByPreview:o,volume:a,isSeeking:s,seekPosition:u,isLoading:c,isBuffering:l,showBuffering:f,hasErrored:d,retryCount:p,hasEnded:h,hasSuccessfullyPlayed:m,latestSeekablePosition:y,currentIndex:v,cloudcastId:b[v].cloudcastId,position:b[v].position,duration:b[v].duration,streamInfo:b[v].streamInfo,seekRestriction:b[v].seekRestriction,situation:b[v].situation,hasInteracted:w,pauseSync:k}}return{}}},af=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return function(t){return Ie({setVolume:vl,onSeekFinish:Ol,onSeekReject:Cl,onUnmount:wl,onError:kl,onEnded:Sl,setIsBuffering:El,setShowBuffering:_l,setCurrentIndex:hl,seek:bl,onLoaded:Tl,setProgress:Pl,pause:yl,play:ml,resume:gl,onCantPlayNext:xl},t,e)}},sf=function(e){function t(){var e,n;Vt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Xt(this,(e=Yt(t)).call.apply(e,[this].concat(i))),Jt($t($t(n)),"unblock",null),Jt($t($t(n)),"_onBeforeUnload",function(e){return e.returnValue=n.props.message,n.props.message}),n}return Qt(t,e),Wt(t,[{key:"enable",value:function(){var e=this;this.unblock&&this.unblock(),window.addEventListener("beforeunload",this._onBeforeUnload),this.unblock=function(){window.removeEventListener("beforeunload",e._onBeforeUnload)}}},{key:"disable",value:function(){this.unblock&&(this.unblock(),this.unblock=null)}},{key:"componentDidMount",value:function(){this.props.when&&this.enable()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.when?this.props.when&&this.props.message===e.message||this.enable():this.disable()}},{key:"componentWillUnmount",value:function(){this.disable()}},{key:"render",value:function(){return null}}]),t}(rc.Component);Jt(sf,"defaultProps",{when:!1,message:"Are you sure?"});var uf=function(){return"IFYOUWANTTHEARTISTSTOGETPAID".concat("DONOTDOWNLOADFROMMIXCLOUD")}(),cf=uf.length,lf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;en(this,e),rn(this,"handle",null),this.callback=t,this.interval=n}return nn(e,[{key:"schedule",value:function(){this.cancel(),this.handle=setTimeout(this.callback,this.interval)}},{key:"scheduleIfNotScheduled",value:function(){null===this.handle&&this.schedule()}},{key:"cancel",value:function(){null!==this.handle&&(clearTimeout(this.handle),this.handle=null)}}]),e}(),ff=null,df=/\.(.{3})($|\?)/,pf={m4a:'audio/mp4; codecs="mp4a.40.2"',mp3:"audio/mpeg"},hf={m4a:!0,mp3:!1},mf={manifest:{retryParameters:{maxAttempts:4}},streaming:{retryParameters:{maxAttempts:8},bufferingGoal:240}},yf=1100,gf=5e3,bf=function(e){function t(e){var n;if(sn(this,t),n=ln(this,fn(t).call(this,e)),mn(hn(hn(n)),"SMALL_POSITION_CHANGE",.1),mn(hn(hn(n)),"SUCCESSFUL_SEEK_RANGE",10),mn(hn(hn(n)),"shakaError",!1),mn(hn(hn(n)),"checkTimeout",new lf(function(){n.matchAudioTagStateToProps(n.props)})),mn(hn(hn(n)),"isAndroidDevice",function(){return/(android)/i.test(navigator.userAgent.toLowerCase())}),mn(hn(hn(n)),"lastPausedState",!0),mn(hn(hn(n)),"currentSourceIsSeekable",null),mn(hn(hn(n)),"seekableRanges",null),mn(hn(hn(n)),"SHOW_BUFFERING_DELAY",2e3),mn(hn(hn(n)),"bufferingStart",null),mn(hn(hn(n)),"currentSeekPosition",null),mn(hn(hn(n)),"lastCheck",null),mn(hn(hn(n)),"endedTriggered",!1),mn(hn(hn(n)),"audioTagEventListeners",{play:function(){n.props.hasSuccessfullyPlayed||n.props.setIsBuffering(!0),n.props.isPaused&&(n.checkTimeout.cancel(),n.props.resume())},pause:function(){n.props.isPaused||n.props.isLoading||(n.checkTimeout.cancel(),n.props.pause())},canplay:function(){!n.props.isPaused&&n.audioTag.paused&&n.play(),n.matchAudioTagStateToProps(n.props)},durationchange:function(){n.audioTagEventListeners.progress()},timeupdate:function(){n.audioTagEventListeners.progress()},progress:function(){n.endedTriggered=!1,n.audioTag.currentTime===n.audioTag.duration&&n.audioTag.duration>0?n.audioTagEventListeners.ended():n.matchAudioTagStateToProps(n.props)},stalled:function(){n.matchAudioTagStateToProps(n.props)},error:function(e){n.props.hasErrored||(n.checkTimeout.cancel(),n.onError(e))},ended:function(){n.props.hasEnded||n.endedTriggered||n.props.isLoading||(n.endedTriggered=!0,n.checkTimeout.cancel(),n.props.onEnded())},volumechange:function(){n.props.setVolume(n.audioTag.volume)}}),mn(hn(hn(n)),"bufferingShouldTriggerError",!1),mn(hn(hn(n)),"bufferingErrorTimeout",new lf(n.audioTagEventListeners.error,gf)),mn(hn(hn(n)),"retryTimeout",null),mn(hn(hn(n)),"onError",function(){if(!on())return void n.props.onError();if(null===n.retryTimeout){var e=n.props.position;n.retryTimeout=setTimeout(function(){n.retryTimeout=null;var t=n.props,r=t.position,i=t.retryCount,o=t.onError;if(r>e&&n.audioTag&&!n.audioTag.paused)return void(n.bufferingShouldTriggerError=!0);if(o(!0),i===Rl-1){var a=n.props;a.duration,a.isPaused,a.isLoading,a.isSeeking,a.seekPosition,a.hasEnded,a.hasSuccessfullyPlayed,a.hasInteracted}},yf)}}),mn(hn(hn(n)),"playSuccess",!1),mn(hn(hn(n)),"_shaka",null),mn(hn(hn(n)),"currentSrc",null),"undefined"==typeof window)return ln(n);if(n.containerDiv=document.createElement("div"),!document.body)return ln(n);document.body.appendChild(n.containerDiv),n.audioTag=document.createElement("audio"),n.audioTag.setAttribute("preload","auto"),n.containerDiv.appendChild(n.audioTag);var r=!!(n.audioTag&&n.audioTag.canPlayType&&n.audioTag.canPlayType("application/vnd.apple.mpegURL").replace(/no/,""));return n.useHls=r&&!n.isAndroidDevice(),n.audioTag.volume=e.volume||0===e.volume?e.volume:1,n}return dn(t,e),cn(t,[{key:"render",value:function(){var e=this.props,t=e.isPaused;return e.showUnloadWarning?rc.createElement(sf,{when:!t,message:"You still have a show playing! Are you sure you want it to stop?"}):null}},{key:"componentDidMount",value:function(){this.matchAudioTagStateToProps(this.props,{retryCount:0})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.hasEnded&&!e.hasEnded&&(this.endedTriggered=!1),this.matchAudioTagStateToProps(e,this.props)}},{key:"componentWillUnmount",value:function(){this.unload(),this.props.onUnmount(),this.shakaPlayer&&this.shakaPlayer.destroy(),this.containerDiv.parentNode&&this.containerDiv.parentNode.removeChild(this.containerDiv)}},{key:"matchAudioTagStateToProps",value:function(e,t){var n=this;if(this.checkTimeout.cancel(),t=t||e,e.hasErrored||e.hasEnded)return void(this.audioTag.paused||(this.audioTag.pause(),this.checkTimeout.schedule()));if(e.streamInfo!==t.streamInfo||e.retryCount>t.retryCount){if(e.streamInfo)return void this.load(e).then(function(){n.matchAudioTagStateToProps(e)});this.unload()}var r=Date.now(),i=this.lastPausedState;if(this.lastPausedState=this.audioTag.paused,!e.isLoading){if(this.audioTag.paused&&!i&&!e.isPaused)return void e.pause();if(!this.audioTag.paused&&i&&e.isPaused)return void e.resume()}if(e.volume||0===e.volume){var o=Math.max(0,Math.min(1,e.volume));this.audioTag.volume!==o&&(this.audioTag.volume=o)}if(this.checkShowBuffering(e),e.isLoading)this.audioTagHasLoaded()&&e.onLoaded();else if(e.isPaused)this.audioTag.paused||this.audioTag.pause();else{if(this.shakaError&&!e.hasErrored)return void e.onError();this.audioTag.paused&&(e.hasSuccessfullyPlayed||e.setIsBuffering(!0),this.play()),this.setSeekableRanges();var a=e.duration||1,s=this.audioTag.duration||a,u=this.getLatestSeekablePosition(),c=e.latestSeekablePosition||0,l=this.audioTag.currentTime||0,f=e.position||0,d={},p=!1;if(Math.abs(s-a)>this.SMALL_POSITION_CHANGE&&(p=!0,d.duration=s),Math.abs(u-c)>this.SMALL_POSITION_CHANGE&&(p=!0,d.latestSeekablePosition=u),Math.abs(l-f)>this.SMALL_POSITION_CHANGE&&(p=!0,d.position=l),p&&e.setProgress(d),e.isSeeking&&this.playSuccess){var h=e.seekPosition||0,m=this.hasSeekSucceeded(h);this.currentSeekPosition===h?m?(this.currentSeekPosition=null,this.setLastCheckPosition(l),e.onSeekFinish()):this.audioTag.seeking||(this.currentSeekPosition=null,e.onSeekReject()):m||(this.canSeekTo(h,l,e.seekRestriction)?(this.currentSeekPosition=h,this.audioTag.currentTime=h):(this.currentSeekPosition=null,e.onSeekReject()))}else{var y=this.lastCheck;if(y)if(e.isBuffering)y.position!==l&&(e.setIsBuffering(!1),this.bufferingShouldTriggerError=!1,this.bufferingErrorTimeout.cancel());else{var g=y.position===l&&r-y.time>1e3;g&&(e.setIsBuffering(!0),this.bufferingShouldTriggerError&&this.bufferingErrorTimeout.scheduleIfNotScheduled())}this.setLastCheckPosition(l)}}e.isPaused&&this.audioTag.paused||this.checkTimeout.schedule()}},{key:"setSeekableRanges",value:function(){this.seekableRanges!==this.audioTag.seekable&&this.seekableRanges!==this.audioTag.buffered&&(this.seekableRanges=this.currentSourceIsSeekable?this.audioTag.seekable:this.audioTag.buffered)}},{key:"getLatestSeekablePosition",value:function(){return this.seekableRanges&&this.seekableRanges.length&&this.seekableRanges.end(0)||0}},{key:"hasSeekSucceeded",value:function(e){return Math.abs(this.audioTag.currentTime-e)<this.SUCCESSFUL_SEEK_RANGE}},{key:"checkShowBuffering",value:function(e){var t=Date.now(),n=e.isPaused,r=e.isBuffering,i=e.showBuffering,o=e.setShowBuffering;r&&!n?i||(this.bufferingStart?t-this.bufferingStart>=this.SHOW_BUFFERING_DELAY&&(this.bufferingStart=null,o(!0)):this.bufferingStart=t):(this.bufferingStart=null,i&&o(!1))}},{key:"setLastCheckPosition",value:function(e){this.lastCheck&&this.lastCheck.position===e||(this.lastCheck={position:e,time:Date.now()})}},{key:"play",value:function(){var e=this,t=this.audioTag.play();t&&t.then?t.then(function(){e.playSuccess=!0}).catch(function(){!e.props.hasErrored&&e.audioTagHasSourceError()?(e.checkTimeout.cancel(),e.props.onError()):e.props.isPaused||(e.checkTimeout.cancel(),e.props.pause())}):this.playSuccess=!0}},{key:"createShakaPlayer",value:function(){var e=this,t=new this.shaka.Player(this.audioTag);return t.configure(mf),t.addEventListener("error",function(t){var n=t.detail,r=n.severity,i=n.code,o=n.category;e.audioTagEventListeners.error({shaka:{severity:r,code:i,category:o}})}),t}},{key:"loadSource",value:function(e){var t,n,r=this,i=!1;if(e.hlsUrl&&this.useHls)t=Zt(e.hlsUrl),n="application/vnd.apple.mpegURL",this.currentSourceIsSeekable=!0;else if(e.dashUrl&&this.shaka.Player.isBrowserSupported())t=Zt(e.dashUrl),this.currentSourceIsSeekable=!0,i=!0;else{t=Zt(e.url);var o=df.exec(t),a=o&&o[1]||"mp3";this.currentSourceIsSeekable=!!hf[a],n=pf[a]}if(this.currentSrc=t,i)return this.shakaPlayer||(this.shakaPlayer=this.createShakaPlayer()),this.shakaPlayer.load(t).catch(function(e){var t=e.severity,n=e.code,i=e.category;9002!==n&&7e3!==n&&(r.shakaError=!0,r.audioTagEventListeners.error({shaka:{severity:t,code:n,category:i}}))}),Promise.resolve();var s=this.shakaPlayer?this.shakaPlayer.destroy():Promise.resolve();this.shakaPlayer=null;var u=function(){r.audioTag.setAttribute("type",n),r.audioTag.setAttribute("src",t)};return s.then(u).catch(function(){u(),nf.captureMessage("Shaka Destroy Failed")})}},{key:"load",value:function(e){var t=this;this.unload();var n=e.streamInfo,r=e.isPaused;return n?this.loadSource(n).then(function(){t.lastPausedState=t.audioTag.paused,Object.keys(t.audioTagEventListeners).forEach(function(e){t.audioTag.addEventListener(e,t.audioTagEventListeners[e])}),t.audioTag.load(),t.audioTag.readyState>=t.audioTag.HAVE_ENOUGH_DATA&&!r&&t.play()}):Promise.resolve()}},{key:"unload",value:function(){var e=this;this.checkTimeout.cancel(),this.seekableRanges=null,this.lastCheck=null,this.currentSeekPosition=null,this.currentSourceIsSeekable=null,this.playSuccess=!1,this.bufferingShouldTriggerError=!1,this.bufferingErrorTimeout.cancel(),this.shakaError=!1,null!==this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=null),Object.keys(this.audioTagEventListeners).forEach(function(t){e.audioTag.removeEventListener(t,e.audioTagEventListeners[t])})}},{key:"canSeekTo",value:function(e,t,n){return!("forwards_only"===n&&t>e)&&!!(this.seekableRanges&&this.seekableRanges.length&&this.seekableRanges.start(0)<=e&&e<=this.seekableRanges.end(0))}},{key:"audioTagHasSourceError",value:function(){return!!this.audioTag.currentSrc&&this.audioTag.networkState===this.audioTag.NETWORK_NO_SOURCE}},{key:"audioTagHasLoaded",value:function(){return this.audioTag.readyState===this.audioTag.HAVE_ENOUGH_DATA&&this.audioTag.networkState>=this.audioTag.NETWORK_IDLE||!!this.audioTag.currentTime&&this.audioTag.currentTime>0}},{key:"shaka",get:function(){return this._shaka||(this._shaka=n(700),this._shaka.polyfill.installAll()),this._shaka}}]),t}(rc.Component);mn(bf,"defaultProps",{isPaused:!0,isSeeking:!1,seekPosition:null,isLoading:!1,showBuffering:!1,isBuffering:!1,hasErrored:!1,hasEnded:!1,hasSuccessfullyPlayed:!1,position:0,duration:1,latestSeekablePosition:0,showUnloadWarning:!0,hasInteracted:!1});var vf=bf,wf=n(25),kf=function(e){return function(t){var n=Object(wf.createFragmentContainer)(t,e);return n.WrappedComponent=t,n}},Sf=function(e,t,n){if(!e)return"";var r="";t&&(r="/".concat(t.width?t.width:"","x").concat(t.height?t.height:""));var i="";if(n){var o=n.blur,a=n.watermark;if(o&&(i+="blur(".concat(o,")")),a){var s=t&&t.width?parseInt((t.width-600)/2,10):0,u=t&&t.height?parseInt((t.height-600)/2,10):0;i+="watermark(graphics/play-button-scaled.png,".concat(s,",").concat(u,",0)")}i&&(i="/filters:".concat(i))}return"".concat(kc.thumbnails.proxy,"/unsafe").concat(r).concat(i,"/").concat(e)},Ef=[1,2,3],_f=50,Tf=100,Pf=function(e){function t(){var e,n;bn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kn(this,(e=Sn(t)).call.apply(e,[this].concat(i))),Pn(Tn(Tn(n)),"state",{opacity:1,transition:"",loaded:!0,fillBackground:!0}),Pn(Tn(Tn(n)),"_loadStartTO",null),Pn(Tn(Tn(n)),"onRef",function(e){e&&(On(e)||(n._loadStartTO=setTimeout(function(){n._loadStartTO=null,n.setState({opacity:0,transition:"",loaded:!1,fillBackground:!0})},_f)))}),Pn(Tn(Tn(n)),"onLoad",function(e){if(n._clearLoadTimeout(),!n.state.loaded){var t=Cn(e.target)?"opacity 0.25s ease-in-out":"";n.setState({opacity:1,transition:t,loaded:!0}),setTimeout(function(){n.setState({fillBackground:!1})},250)}}),n}return En(t,e),wn(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.picture&&(e.picture.urlRoot&&!this.props.picture||e.picture.urlRoot!==this.props.picture.urlRoot)&&(this._clearLoadTimeout(),this.setState({opacity:1,transition:"",loaded:!0}))}},{key:"componentWillUnmount",value:function(){this._clearLoadTimeout()}},{key:"_clearLoadTimeout",value:function(){null!==this._loadStartTO&&(clearTimeout(this._loadStartTO),this._loadStartTO=null)}},{key:"render",value:function(){if(!this.props.picture)return null;var e=this.props.picture,t=e.primaryColor,n=e.urlRoot,r=this.props,i=r.height,o=r.width,a=r.className,s=r.blur,u=r.sizes,c=r.fullWidth,l=this.state,f=l.opacity,d=l.transition,p=l.fillBackground,h=Ef.map(function(e){var t=o*e,r={width:t};return i&&(r.height=i*e),{url:Sf(n,r,{blur:s}),width:t,density:e}}),m=h.map(function(e){return u?"".concat(e.url," ").concat(e.width,"w"):"".concat(e.url," ").concat(e.density,"x")}),y=gn({backgroundColor:p?t:null,width:o,height:i},this.props.style);c&&(y.width="100%",y.height=null);var g={display:"block",opacity:f,transition:d};return rc.createElement("div",{style:y,className:a},rc.createElement("img",{alt:this.props.alt,style:g,src:h[0].url,srcSet:h[0].url?m:void 0,sizes:u,height:i,width:o,onLoad:this.onLoad,ref:this.onRef}))}}]),t}(rc.Component),Of=kf({picture:{modern:function(){return n(710)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"urlRoot",kind:"Field",metadata:{},type:"String"},{fieldName:"primaryColor",kind:"Field",metadata:{},type:"String"}],id:e.__id(),kind:"Fragment",metadata:{},name:"UGCImage_picture",type:"Picture"}}()}}}})(Pf),Cf=kf({cloudcast:{modern:function(){return n(711)},classic:function(e){var t=Of.getFragment("picture");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"displayName",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{children:[].concat.apply([],[e.__frag(t)]),fieldName:"picture",kind:"Field",metadata:{canHaveSubselections:!0},type:"Picture"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"UpNextItem_cloudcast",type:"Cloudcast"}}()}}}})(xn),xf=110,Nf=function(e){function t(){var e,n;In(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=An(this,(e=Fn(t)).call.apply(e,[this].concat(i))),Un(Ln(Ln(n)),"state",{slideLeft:0}),Un(Ln(Ln(n)),"furthestLeft",function(){return-xf*(n.props.cloudcasts.edges.length-1)}),Un(Ln(Ln(n)),"slide",function(e){var t=n.state.slideLeft,r=Math.min,i=Math.max,o=e?-xf:xf,a=r(i(t+o,n.furthestLeft()),0);n.setState({slideLeft:a})}),n}return Dn(t,e),jn(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.currentCloudcast,r=e.cloudcasts,i=e.onSelect,o=this.state.slideLeft,a=Ml()("next",{disabled:o<=this.furthestLeft()}),s=Ml()("back",{disabled:o>=0});return rc.createElement("div",{className:"modal up-next cf"},rc.createElement("div",{className:"close",onClick:t}),rc.createElement("div",{className:s,onClick:this.slide.bind(this,!1)}),rc.createElement("div",{className:a,onClick:this.slide.bind(this,!0)}),rc.createElement("div",{className:"up-next-cloudcast-container"},rc.createElement("div",{className:"up-next-cloudcast-container-inner",style:{left:o}},Ce(r.edges,function(e,t){var r=e&&e.node,o=Ml()("up-next-cloudcast",{"now-playing":n.id===(r&&r.id)});return rc.createElement("div",{className:o,onClick:function(){return i(t)}},rc.createElement(Cf,{cloudcast:r}))}))))}}]),t}(rc.Component),If=kf({cloudcasts:{modern:function(){return n(712)},classic:function(e){var t=Cf.getFragment("cloudcast");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},e.__frag(t)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Cloudcast"},{fieldName:"cursor",kind:"Field",metadata:{isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"CloudcastEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],id:e.__id(),kind:"Fragment",metadata:{},name:"UpNext_cloudcasts",type:"CloudcastConnection"}}()}}},currentCloudcast:{modern:function(){return n(713)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"UpNext_currentCloudcast",type:"Cloudcast"}}()}}}})(Nf),Rf=new Set(["user","cloudcast","user:playlist","messages:conversation"]),jf=function(e){function t(){var e,n;Wn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Qn(this,(e=Jn(t)).call.apply(e,[this].concat(i))),nr(tr(tr(n)),"_relayIdCache",{}),nr(tr(tr(n)),"relayIdCacheEnabled",!1),n}return Zn(t,e),Yn(t,[{key:"_validateRelayIdCache",value:function(){}},{key:"setRelayId",value:function(e,t,n){this._validateRelayIdCache(e,t);for(var r=[e].concat(Kn(this.getExpectedParams(e).map(function(e){return t[e]}))),i=this._relayIdCache,o=0;o<r.length-1;o++)i=i[r[o]]=i[r[o]]||{};i[r[r.length-1]]=n}},{key:"getRelayId",value:function(e,t){return this.relayIdCacheEnabled?(this._validateRelayIdCache(e,t),this._relayIdCache.hasOwnProperty(e)?this.getExpectedParams(e).reduce(function(e,n){return(e||{})[t[n]]||null},this._relayIdCache[e]):null):null}},{key:"resetRelayIdCache",value:function(){this._relayIdCache={}}},{key:"makeLocation",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.tracking,i=e.state;return nf.captureBreadcrumb({category:"cachingUrls",level:"info",data:Bn({event:"makeLocation"},e)}),zn(Jn(t.prototype),"makeLocation",this).call(this,Bn({},e,{state:!n&&r?Bn({},i,{linkTracking:r.asArray()}):i}))}},{key:"match",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=zn(Jn(t.prototype),"match",this).call(this,e,n,r);return i&&Rf.has(i.urlName)&&(i.relayId=this.getRelayId(i.urlName,i.params)),i}},{key:"renderMatch",value:function(e,t){var n=e.match;return n?rc.createElement(Ac,{tracking:{type:"view",view_name:n.urlName,params:n.params}},t):t}}]),t}(Nc.Urls),Af={home:"/",feed:"/","dashboard:shelves":"/home/","password-reset":"/password-reset/","soundcloud:import":"/soundcloud/import/","soundcloud:complete":"/soundcloud/complete/",dashboard:"/dashboard/","dashboard:new-uploads":"/dashboard/new-uploads/","dashboard:listen-later":"/dashboard/listen-later/","dashboard:favorites":"/dashboard/favorites/","dashboard:history":"/dashboard/history/","dashboard:hot":"/dashboard/hot/","dashboard:hot:country":"/dashboard/hot/:country/","dashboard:notifications":"/dashboard/notifications/","dashboard:playlists":"/dashboard/playlists/","dashboard:profile":"/dashboard/profile/",downloads:"/downloads/",user:"/:username/","user:favorites":"/:username/favorites/","user:listens":"/:username/listens/","user:stream":"/:username/stream/","user:select":"/:username/select/","user:playlists":"/:username/playlists/","user:playlists:create":"/playlists/create/","user:playlist":"/:username/playlists/:slug/","user:playlist:edit":"/playlists/:slug/edit/","user:uploads":"/:username/uploads/","user:highlighted":"/:username/highlighted/","user:followers":"/:username/followers/","user:following":"/:username/following/","user:shared-following":"/:username/shared-following/",settings:"/settings/","settings:profile":"/settings/profile/","settings:account":"/settings/account/","settings:connections":"/settings/connections/","settings:devices":"/settings/download-devices/","settings:downloads":"/settings/downloads/","settings:applications":"/settings/applications/","settings:notifications":"/settings/notifications/","settings:notifications:unsubscribe":"/settings/notifications/unsubscribe/","settings:delete-account":"/settings/delete-account/","settings:payments":"/settings/payments/",stats:"/stats/","stats:competition":"/stats/competition/:competitionId/","stats:competition:csv":"/stats/competition/:competitionId/csv/","stats:user":"/stats/:username/","stats:user:csv":"/stats/:username/csv/","stats:cloudcast":"/stats/:username/:slug/","stats:cloudcast:csv":"/stats/:username/:slug/csv/",cloudcast:"/:username/:slug/","cloudcast:favorites":"/:username/:slug/favorites/","cloudcast:listeners":"/:username/:slug/listeners/","cloudcast:reposts":"/:username/:slug/reposts/","cloudcast:related":"/:username/:slug/related/","cloudcast:comments":"/:username/:slug/comments/","cloudcast:legacy_edit":"/:username/:slug/edit/",upload:"/upload/","upload:join":"/upload/join/","cloudcast:edit":"/upload/:username/:slug/edit/","cloudcast:slicinator":"/upload/:username/:slug/slicinator/","upload:complete":"/upload/:username/:slug/complete/",discover:"/discover/","discover:featured":"/discover/featured/","discover:tag":"/discover/:slug/","discover:tag:featured":"/discover/:slug/featured/","discover:tag:country":"/discover/:slug/:country/",pro:"/pro/","pro:welcome":"/pro/welcome/",premium:"/premium/",compare:"/compare/","premium:welcome":"/premium/welcome/","subscription:cancel":"/subscription/cancel/",promotions:"/promote/",developers:"/developers/","developers:create":"/developers/create/","developers:edit":"/developers/:consumerId/edit/","developers:detail":"/developers/:consumerId/","developers:widget":"/developers/widget/",competitions:"/competitions/","competition:details":"/competitions/:competitionSlug/","competition:terms":"/competitions/:competitionSlug/terms/","competition:entries":"/competitions/:competitionSlug/entries/","competition:enter":"/competitions/:competitionSlug/enter/","competition:stats":"/competitions/:competitionSlug/stats/",messages:"/messages/","messages:conversation":"/messages/:conversationSlug/","messages:compose":"/messages/new/",partners:"/partners/",eventbrite:"/promoters/",jobs:"/jobs/",about:"/about/",apps_page:"/apps/",branding:"/branding/",logout:"/logout/",mobile:"/mobile/",sonos:"/apps/sonos/",tvos:"/apple-tv/",soundcloud:"/soundcloud/join/",select_homepage:"/select/creators/",select_creators:"/select/",terms:"/terms/",privacy:"/privacy/",dmca:"/dmca/",subs_terms:"/subscription-terms/",select_terms:"/select-terms/",feedback:"/feedback/",oembed:"/oembed/","widget:iframe":"/widget/iframe/","gracenote-tool":"/admin_tools/gracenote/","manual-study":"/admin_tools/manual-study/","widgets-showcase":"/admin_tools/widgets/",oauth:"/oauth/",pigeon:"/pigeon/","sonos-app":"/sonos-app/","notifications:unsubscribe":"/notifications_unsubscribe/","notifications:unsubscribe:signed":"/:username/disable_notifications_signed/","follow:signed":"/:username/follow_signed/"},Ff=new jf(Af),Df=function(e){function t(){return ir(this,t),sr(this,cr(t).apply(this,arguments))}return lr(t,e),ar(t,[{key:"render",value:function(){var e=this.props.cloudcast,t=Ff.get("cloudcast",{username:e.owner.username,slug:e.slug});return rc.createElement("div",{className:"widget-cloudcast-image"},rc.createElement("a",{href:t,target:"_blank"},rc.createElement(Of,{className:"widget-cloudcast-cover-container",picture:e.picture,width:180,height:180,style:{backgroundColor:null}})))}}]),t}(rc.Component),Mf=kf({cloudcast:{modern:function(){return n(714)},classic:function(e){var t=Of.getFragment("picture");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"slug",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"username",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{children:[].concat.apply([],[e.__frag(t)]),fieldName:"picture",kind:"Field",metadata:{canHaveSubselections:!0},type:"Picture"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"CloudcastImage_cloudcast",type:"Cloudcast"}}()}}}})(Df),Lf=function(e){return function(t){var n=t.postId,r=t.contentId,i=t.tracking;return e({query:function(){return{calls:[{kind:"Call",metadata:{},name:"facebookShare",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"id",kind:"Field",metadata:{},type:"ID"},{fieldName:"clientMutationId",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],kind:"Mutation",metadata:{inputType:"FacebookShareMutationInput!"},name:"UnknownFile",responseType:"FacebookShareMutationPayload"}}(),variables:{input:{postId:n,contentId:r,tracking:JSON.stringify(i)}}})}},Uf=new Promise(function(e){"undefined"!=typeof window&&(window.fbAsyncInit=function(){window.FB&&(window.FB.init({status:!1,oauth:!0,xfbml:!0,version:"v2.12",appId:kc.facebook.appId}),e(window.FB))})}),qf=function(e,t){var n=e.href,r=e.ref,i=e.popup,o=e.contentId,a=e.tracking;return Uf.then(function(e){return new Promise(function(s,u){try{var c={method:"share",ref:r,href:n};i&&(c.display="popup"),r&&r.length>14&&(r=r.substring(0,14)),e.ui(c,function(e){e&&e.post_id?(Lf(t.mutate)({postId:e.post_id,contentId:o,tracking:a}),s()):u(e&&e.error_message||"Error while posting.")})}catch(e){u(e)}})})},Bf=function(e){function t(){var e,n;hr(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gr(this,(e=br(t)).call.apply(e,[this].concat(i))),Sr(kr(kr(n)),"_ref",null),Sr(kr(kr(n)),"_assignRef",function(e){e&&(n._ref=e)}),Sr(kr(kr(n)),"_onClick",function(){n._ref&&n._ref.select()}),n}return vr(t,e),yr(t,[{key:"render",value:function(){return rc.createElement("input",pr({ref:this._assignRef,onClick:this._onClick},this.props))}}]),t}(rc.Component),Kf=Bf,Hf=function(){return window.location.href},Vf=function(e){function t(){return _r(this,t),Or(this,xr(t).apply(this,arguments))}return Nr(t,e),Pr(t,[{key:"iframeString",value:function(){return'<iframe width="100%" height="120" src="'.concat(Hf(),'" frameborder="0"></iframe>')}},{key:"_renderSocialButtons",value:function(e){var t=this,n=this.props.cloudcast,r=this.context,i=r.relayEnv,o=r.tracking,a=encodeURIComponent(this.iframeString()),s=encodeURIComponent(n.name),u=encodeURIComponent(e);return[{text:"Share",class:"fb",onClick:function(){qf({href:e,ref:"player-widget-share",contentId:n.id,tracking:o.asArray()},i)}},{text:"Twitter",class:"twitter",onClick:function(){return window.open("https://web.archive.org/web/20190211223927/https://twitter.com/share?related=mixcloud&url=".concat(u))}},{text:"Google+",
class:"gplus",onClick:function(){return window.open("https://web.archive.org/web/20190211223927/https://plus.google.com/share?url=".concat(u))}},{text:"Tumblr",class:"tumblr",onClick:function(){return window.open("https://web.archive.org/web/20190211223927/http://www.tumblr.com/share/video/?caption=".concat(a,"&tags=Mixcloud%2C+low+light+mixes"))}},{text:"Email",class:"email last",onClick:function(){return window.open("mailto:?body=Check+out+%22".concat(s,"%22+on+Mixcloud+").concat(u,"&subject=").concat(s,"+-+Mixcloud"))}}].map(function(e,n){return rc.createElement("div",{className:"share-icon ".concat(e.class),key:n,onClick:e.onClick.bind(t)},rc.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.cloudcast,r=Ff.get("cloudcast",{username:n.owner.username,slug:n.slug}),i="".concat(kc.urls.baseUrl).concat(r);return rc.createElement("div",{className:"modal share-modal cf"},rc.createElement("div",{className:"close",onClick:t}),rc.createElement("div",{className:"share-container cf"},rc.createElement("h4",{className:"share-title"},"Share"),this._renderSocialButtons(i)),rc.createElement("div",{className:"share-container cf"},rc.createElement("h4",{className:"share-title"},"URL"),rc.createElement(Kf,{className:"embed-input",type:"text",readOnly:"readonly",value:i})),rc.createElement("div",{className:"share-container cf"},rc.createElement("h4",{className:"share-title"},"Embed"),rc.createElement(Kf,{className:"embed-input",type:"text",readOnly:"readonly",value:this.iframeString()})))}}]),t}(rc.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Vf,"contextTypes",{tracking:Pc.a.object.isRequired,relayEnv:Pc.a.object});var Gf=Ul()(kf({cloudcast:{modern:function(){return n(715)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"slug",kind:"Field",metadata:{},type:"String"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"username",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"}],id:e.__id(),kind:"Fragment",metadata:{},name:"ShareModal_cloudcast",type:"Cloudcast"}}()}}}}))(Vf),Wf=function(e){function t(){return jr(this,t),Dr(this,Lr(t).apply(this,arguments))}return Ur(t,e),Fr(t,[{key:"render",value:function(){var e=this.props,t=e.pause,n=e.resume,r=e.baseClass,i=e.children,o=e.playerState,a=o.showBuffering,s=o.isPaused;return rc.createElement("div",{className:Ml()(r,{"widget-loading spin":a,"widget-pause-button":!s&&!a}),onClick:function(){s?n():t()}},i)}}]),t}(rc.Component);Br(Wf,"contextTypes",{tracking:Pc.a.object}),Br(Wf,"defaultProps",{playerState:{showBuffering:!1,isPaused:!1}});var Xf=Object(sc.b)(Ue(function(e){return{playerState:{isPaused:e.isPaused,showBuffering:e.showBuffering}}}),function(e){return Ie({pause:yl,resume:gl},e)})(Wf),Yf=function(e){function t(){return Hr(this,t),Wr(this,Yr(t).apply(this,arguments))}return Qr(t,e),Gr(t,[{key:"render",value:function(){var e=this.props,t=e.cloudcast,n=e.closeCover,r=null;t.picture&&(r="url(".concat(Sf(t.picture.urlRoot,{width:600,height:600}),")"));var i=Ff.get("cloudcast",{username:t.owner.username,slug:t.slug},!0),o=Ff.get("user",{username:t.owner.username},!0);return rc.createElement("div",{className:"cover-image",style:{backgroundImage:r}},rc.createElement("div",{className:"cover-title-background"},rc.createElement("a",{className:"cover-title",target:"_blank",href:i},t.name),rc.createElement("a",{className:"cover-by",target:"_blank",href:o},"by ",t.owner.displayName)),rc.createElement("div",{onClick:n},rc.createElement(Xf,{cloudcast:t,baseClass:"cover-play cover-play-border-full larger-play-button-test"})),rc.createElement("a",{href:i,target:"_blank",className:"cover-image-logo"}))}}]),t}(rc.Component),Qf=kf({cloudcast:{modern:function(){return n(716)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"slug",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"username",kind:"Field",metadata:{},type:"String"},{fieldName:"displayName",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{children:[{fieldName:"urlRoot",kind:"Field",metadata:{},type:"String"}],fieldName:"picture",kind:"Field",metadata:{canHaveSubselections:!0},type:"Picture"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"CoverImage_cloudcast",type:"Cloudcast"}}()}}}})(Yf),zf=n(348),$f=n.n(zf),Jf=n(196),Zf=n.n(Jf),ed=n(349),td=n.n(ed),nd=function(e){return function(t){function n(n,r){var i=Object.keys(e).reduce(function(t,n){return t[n]=e[n](r.relayEnv.mutate),t},{});return rc.createElement(t,Jr({},n,i))}return n.contextTypes={relayEnv:Cc},$r(t,n,"WithRelayMutations(".concat(t.displayName||t.name||t.constructor.name,")"))}},rd=function(e){return function(t,n,r){var i=t.id,o=t.repostCount;return e({query:function(){return{calls:[{kind:"Call",metadata:{},name:"changeRepost",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"totalCount",kind:"Field",metadata:{},type:"Int"}],fieldName:"reposts",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"UserWithProvidedTotalConnection"},{fieldName:"isReposted",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"__typename",kind:"Field",metadata:{},type:"String"}],fieldName:"cloudcast",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Cloudcast"},{fieldName:"clientMutationId",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],kind:"Mutation",metadata:{inputType:"ChangeRepostMutationInput!"},name:"UnknownFile",responseType:"ChangeRepostMutationPayload"}}(),variables:{input:{cloudcastId:i,isReposted:n,tracking:JSON.stringify(r)}},optimisticResponse:{cloudcast:{id:i,reposts:{totalCount:o+(n?1:-1)},isReposted:n,__typename:"Cloudcast"}}})}},id=function(e){return $r(e,Ul()(nd({changeRepost:rd}),td()({tracking:Pc.a.object}))(function(t){var n=t.changeRepost,r=t.tracking,i=function(e){var t=e.loggedIn,i=e.cloudcastId,o=e.repostCount,a=e.isReposted,s=e.onLoggedOutUser;if(t)n({id:i,repostCount:o},!a,r.asArray());else{if(!s)return;s()}};return rc.createElement(e,Zr({},t,{handleClickOnRepost:i}))}))},od=function(e){function t(){var e,n;ti(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ii(this,(e=oi(t)).call.apply(e,[this].concat(i))),ci(ui(ui(n)),"handleClick",function(){var e=n.props,t=e.cloudcast,r=e.viewer,i=e.handleClickOnRepost,o=Ff.get("cloudcast",{username:t.owner.username,slug:t.slug},!0);i({loggedIn:!!r.me,cloudcastId:t.id,repostCount:t.reposts.totalCount,isReposted:t.isReposted,onLoggedOutUser:function(){return window.open("".concat(o,"#repost"))}})}),ci(ui(ui(n)),"throttledHandleClick",$f()(300,!0,n.handleClick)),n}return ai(t,e),ri(t,[{key:"render",value:function(){var e=this.props.cloudcast,t=e.isReposted;return e.owner.isViewer?null:rc.createElement("div",{className:Ml()("repost",{reposted:t}),onClick:this.throttledHandleClick},rc.createElement("span",{className:"tooltip"}))}}]),t}(rc.Component),ad=Ul()(kf({cloudcast:{modern:function(){return n(720)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"slug",kind:"Field",metadata:{},type:"String"},{fieldName:"isReposted",kind:"Field",metadata:{},type:"Boolean"},{children:[{fieldName:"totalCount",kind:"Field",metadata:{},type:"Int"}],fieldName:"reposts",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"UserWithProvidedTotalConnection"},{children:[{fieldName:"isViewer",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"username",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"}],id:e.__id(),kind:"Fragment",metadata:{},name:"RepostButton_cloudcast",type:"Cloudcast"}}()}}},viewer:{modern:function(){return n(721)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"me",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"RepostButton_viewer",type:"Viewer"}}()}}}}),id)(od),sd=function(e){return function(t,n,r,i){var o=n.id,a=n.favoriteCount;return e({query:function(){return{calls:[{kind:"Call",metadata:{},name:"changeFavorite",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{},type:"String"}],fieldName:"me",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"totalCount",kind:"Field",metadata:{},type:"Int"}],fieldName:"favorites",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"UserWithProvidedTotalConnection"},{fieldName:"isFavorited",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"__typename",kind:"Field",metadata:{},type:"String"}],fieldName:"cloudcast",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Cloudcast"},{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Cloudcast"},{fieldName:"__typename",kind:"Field",metadata:{isRequisite:!0},type:"String"}],fieldName:"newFavoriteEdge",kind:"Field",metadata:{canHaveSubselections:!0,isAbstract:!0},type:"CloudcastEdgeInterface"},{fieldName:"clientMutationId",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],kind:"Mutation",metadata:{inputType:"ChangeFavoriteMutationInput!"},name:"UnknownFile",responseType:"ChangeFavoriteMutationPayload"}}(),variables:{input:{cloudcastId:o,isFavorited:r,tracking:JSON.stringify(i)}},optimisticResponse:{cloudcast:{id:o,favorites:{totalCount:a+(r?1:-1)},isFavorited:r,__typename:"Cloudcast"},me:{id:t,__typename:"User"},newFavoriteEdge:r?{node:{id:o},__typename:"Cloudcast"}:null},configs:[r?{type:"RANGE_ADD",parentName:"me",parentID:t,connectionName:"favorites",edgeName:"newFavoriteEdge",rangeBehaviors:{"":"prepend"}}:{type:"RANGE_DELETE",parentName:"me",parentId:t,connectionName:"favorites",deletedIDFieldName:["cloudcast"],pathToConnection:["me","favorites"]}]})}},ud=function(e){return $r(e,Ul()(nd({changeFavorite:sd}),td()({tracking:Pc.a.object}))(function(t){var n=t.changeFavorite,r=t.tracking,i=function(e){var t=e.me,i=e.cloudcastId,o=e.cloudcastFavoriteCount,a=e.isFavorited,s=e.onLoggedOutUser;return t?n(t.id,{id:i,favoriteCount:o},!a,r.asArray()):new Promise(function(e){s&&s(),e()})};return rc.createElement(e,li({handleClickOnFavorite:i},t))}))},cd=function(e){function t(){var e,n;di(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mi(this,(e=yi(t)).call.apply(e,[this].concat(i))),wi(vi(vi(n)),"handleClick",function(){var e=n.props,t=e.cloudcast,r=e.viewer,i=e.handleClickOnFavorite,o=Ff.get("cloudcast",{username:t.owner.username,slug:t.slug},!0);i({me:r.me,cloudcastId:t.id,cloudcastFavoriteCount:t.favorites.totalCount,isFavorited:t.isFavorited,onLoggedOutUser:function(){return window.open("".concat(o,"#favorite"))}})}),wi(vi(vi(n)),"throttledHandleClick",$f()(300,!0,n.handleClick)),n}return gi(t,e),hi(t,[{key:"render",value:function(){var e=this.props.cloudcast.isFavorited;return rc.createElement("div",{className:Ml()("fave",{faved:e}),onClick:this.throttledHandleClick},rc.createElement("span",{className:"tooltip"}))}}]),t}(rc.Component),ld=Ul()(kf({cloudcast:{modern:function(){return n(722)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"isFavorited",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"slug",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"username",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{children:[{fieldName:"totalCount",kind:"Field",metadata:{},type:"Int"}],fieldName:"favorites",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"UserWithProvidedTotalConnection"}],id:e.__id(),kind:"Fragment",metadata:{},name:"FavoriteButton_cloudcast",type:"Cloudcast"}}()}}},viewer:{modern:function(){return n(723)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"me",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"FavoriteButton_viewer",type:"Viewer"}}()}}}}),ud)(cd),fd=function(e){function t(){return Si(this,t),Ti(this,Oi(t).apply(this,arguments))}return Ci(t,e),_i(t,[{key:"render",value:function(){return rc.createElement("div",{onClick:this.props.onClick,className:"share"},rc.createElement("span",{className:"tooltip"},"Share"))}}]),t}(rc.Component),dd=fd,pd=kf({cloudcast:{modern:function(){return n(724)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"slug",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"username",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"WidgetLogo_cloudcast",type:"Cloudcast"}}()}}}})(Ni),hd=function(e){var t=e.cloudcast,n=t.plays,r=t.favorites,i=t.reposts;return t.hiddenStats?null:rc.createElement("div",{className:"widget-cloudcast-play-stats"},rc.createElement("span",{className:"play-count","data-tooltip":"Listens"},n?Ri(n):"0"),rc.createElement("span",{className:"favourite-count","data-tooltip":"Favorites"},Ri(r.totalCount)),i.totalCount>0&&rc.createElement("span",{className:"repost-count","data-tooltip":"Reposts"},Ri(i.totalCount)))},md=kf({cloudcast:{modern:function(){return n(725)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"plays",kind:"Field",metadata:{},type:"Int"},{fieldName:"hiddenStats",kind:"Field",metadata:{},type:"Boolean"},{children:[{fieldName:"totalCount",kind:"Field",metadata:{},type:"Int"}],fieldName:"favorites",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"UserWithProvidedTotalConnection"},{children:[{fieldName:"totalCount",kind:"Field",metadata:{},type:"Int"}],fieldName:"reposts",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"UserWithProvidedTotalConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"Stats_cloudcast",type:"Cloudcast"}}()}}}})(hd),yd=function(){function e(){Fi(this,e)}return Mi(e,[{key:"request",value:function(e){var t=e.url,n=e.query,r=e.variables,i=void 0===r?{}:r,o=e.withCredentials,a=void 0!==o&&o,s=e.headers,u=void 0===s?{}:s,c=e.uploadables,l=e.onUploadProgress,f=e.aborter,d=ji({"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},u);return new Promise(function(e){var r=new XMLHttpRequest;if(f&&f.setAbortHook(function(){r.abort(),e({cancelled:!0})}),r.open("POST",t,!0),r.responseType="json",a&&(r.withCredentials=!0),r.addEventListener("load",function(){var t=r.status,n=null;if(t<400&&r.response&&"string"==typeof(n=r.response))try{n=JSON.parse(n)}catch(e){n=null}e({status:t,response:n})}),r.addEventListener("error",function(){e()}),r.addEventListener("abort",function(){e({cancelled:!0})}),Object.keys(d).forEach(function(e){r.setRequestHeader(e,d[e])}),c){var o=new FormData;o.append("query",n),o.append("variables",JSON.stringify(i)),Object.keys(c).forEach(function(e){var t=c[e];(Array.isArray(t)?t:[t]).forEach(function(t){o.append(e,t)})}),l&&r.upload&&r.upload.addEventListener("progress",function(e){if(e.lengthComputable&&e.total>0&&!(r.readyState>=4)){var t=e.loaded,n=e.total;l(t,n)}}),r.send(o)}else r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({query:n,variables:i}))})}}]),e}(),gd=0,bd=0,vd=function e(t){var n=this,r=t.path,i=t.csrf,o=void 0!==i&&i,a=t.headers,s=void 0===a?{}:a,u=t.withCredentials,c=void 0!==u&&u,l=t.on403Callback,f=t.onSpeedbarResponse,d=t.onCH,p=t.onJailedCallback,h=t.canRunNetworkRequests,m=t.networkCache,y=t.graphqlRequester;Bi(this,e),Ki(this,"fetchQuery",function(e,t,r,i){var o=e.name,a=e.text,s=e.operationKind,u=n.networkCache;if(u&&!r.force){var c=u.getResponse(o,t);if(c)return c}if(n.canRunNetworkRequests&&!n.canRunNetworkRequests())throw new TypeError("Network request failed");var l=n.csrf?qi({},n.headers,{"X-CSRFToken":q()||""}):n.headers,f=n.path,d=i||{},p=d._onProgress,h=d._aborter,m=d._useUploadServers,y=Li(d,["_onProgress","_aborter","_useUploadServers"]);if(m){f="".concat(kc.upload.servers[Math.floor(Math.random()*kc.upload.servers.length)]).concat(f)}return n.graphqlRequester.request({url:f,query:a,withCredentials:n.withCredentials,variables:t,headers:l,uploadables:i?y:void 0,isomorphic:r.metadata&&r.metadata.isomorphic,onUploadProgress:p,aborter:h}).then(function(e){var r=e.status,i=e.response,c=e.cancelled;if(c)return Promise.reject({cancelled:c});if(!r)throw new TypeError("Network request failed");if(r>=400)throw 403===r&&n.on403Callback&&n.on403Callback(),new Error("Request failed");if(!i)throw new Error("Invalid JSON response returned from server");var l=i.data;if("errors"in i||!l){if(i.errors&&n.onJailedCallback){var f=!0,d=!1,p=void 0;try{for(var h,m=i.errors[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){var y=h.value;if(y&&"jailed"===y.message){n.onJailedCallback();break}}}catch(y){d=!0,p=y}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}}throw new Error(JSON.stringify(i.errors))}u&&u.setResponse(o,t,i);var g=n.onSpeedbarResponse;return g&&l.__speedbar&&g({requestId:"r".concat(gd++),name:o,speedbar:l.__speedbar,trace:Hi(l.__trace),query:a,variables:t,response:l,type:s}),n.onCH&&l.__ch&&n.onCH(),nf.captureBreadcrumb({category:"graphql",level:"info",data:{queryName:o,requestId:l&&l.__requestId}}),i})}),this.path=r||"/graphql",this.csrf=o,this.headers=s,this.withCredentials=c,this.on403Callback=l,this.onSpeedbarResponse=f,this.onCH=d,this.onJailedCallback=p,this.canRunNetworkRequests=h,this.networkCache=m,this.graphqlRequester=y||new yd},wd=n(18),kd=n(341),Sd=n.n(kd),Ed=function(e){function t(){return Gi(this,t),Yi(this,zi(t).apply(this,arguments))}return $i(t,e),Xi(t,[{key:"remove",value:function(){}}]),t}(wd.RecordSource),_d=(function(){var e=[],t=[]}(),rc.createContext()),Td=_d.Consumer;co(function(e){function t(){var e,n;to(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=io(this,(e=oo(t)).call.apply(e,[this].concat(i))),co(uo(uo(n)),"state",{context:n.getRelayContext()}),co(uo(uo(n)),"reset",function(){n.setState({context:n.getRelayContext(!0)})}),n}return ao(t,e),ro(t,[{key:"getRelayContext",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props,r=n.recordSourceOpts,i=n.RecordSourceClass,o=new i(void 0,eo({},r,{reset:t}));return o.ready?(o.ready.then(function(){e.setState({context:e.getRelayContextForRecordSource(o)})}),null):this.getRelayContextForRecordSource(o)}},{key:"getRelayContextForRecordSource",value:function(e){var t=this.props,n=t.graphqlUrl,r=t.csrf,i=t.headers,o=t.withCredentials,a=t.on403Callback,s=t.onSpeedbarResponse,u=t.onCH,c=t.onJailedCallback,l=t.canRunNetworkRequests,f=t.networkCache,d=t.graphqlRequester,p=new vd({path:n,csrf:r,headers:i,withCredentials:o,on403Callback:a,onSpeedbarResponse:s,onCH:u,onJailedCallback:c,canRunNetworkRequests:l,networkCache:f,graphqlRequester:d});return{environment:new wd.Environment({network:wd.Network.create(p.fetchQuery),store:new wd.Store(e)}),reset:this.reset}}},{key:"render",value:function(){var e=this.state.context;return e?rc.createElement(_d.Provider,{value:e},rc.Children.only(this.props.children)):null}}]),t}(rc.Component),"defaultProps",{RecordSourceClass:Ed});var Pd=n(726),Od=function(e,t){return function(n){return To(function(r,i,o,a){var s=t(n),u=s.uploadables,c=s.useUploadServers,l=Eo(s,["uploadables","useUploadServers"]);Object(wf.commitMutation)(e,ko({},l,{uploadables:u?ko({},u,{_onProgress:a,_aborter:o,_useUploadServers:c}):void 0,onCompleted:r,onError:i}))})}},Cd={modern:function(){return n(730)},classic:function(){return{kind:"OperationDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"input"}],name:"changeFollowingMutation",operation:"mutation",node:function(){return{calls:[{kind:"Call",metadata:{},name:"changeFollowing",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"totalCount",kind:"Field",metadata:{},type:"Int"}],fieldName:"followers",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"FollowersConnection"},{fieldName:"isFollowing",kind:"Field",metadata:{},type:"Boolean"}],fieldName:"user",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{fieldName:"clientMutationId",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],kind:"Mutation",metadata:{inputType:"ChangeFollowingMutationInput!"},name:"ChangeFollowingMutation",responseType:"ChangeFollowingMutationPayload"}}()}}},xd=function(e){var t=e.userId,n=e.isFollowing,r=e.followersTotalCount,i=e.tracking;return{mutation:Cd,variables:{input:{userId:t,isFollowing:n,tracking:JSON.stringify(i)}},optimisticResponse:{changeFollowing:{user:{id:t,followers:{totalCount:r+(n?1:-1)},isFollowing:n}}}}},Nd=(function(e,t){}(xd,function(e,t,n,r){return{userId:e,isFollowing:t,followersTotalCount:n,tracking:r}}),function(e){function t(){var e,n;Oo(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=No(this,(e=Io(t)).call.apply(e,[this].concat(i))),Fo(Ao(Ao(n)),"_onClick",function(){var e=n.props,t=e.user,r=e.viewer,i=e.changeFollowing;if(r.me){if(t.isViewer)return;i({userId:t.id,isFollowing:!t.isFollowing,followersTotalCount:t.followers.totalCount,tracking:n.context.tracking.asArray()})}else{var o=Ff.get("user",{username:t.username},!0);window.open("".concat(o,"#follow"))}}),n}return Ro(t,e),xo(t,[{key:"render",value:function(){var e=this.props,t=e.user.isFollowing,n=e.className;return rc.createElement("span",{className:n,onClick:this._onClick},t?"Unfollow":"Follow")}}]),t}(rc.Component));Fo(Nd,"contextTypes",{tracking:Pc.a.object});var Id=Ul()(kf({user:{modern:function(){return n(731)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"isFollowing",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"username",kind:"Field",metadata:{},type:"String"},{fieldName:"isViewer",kind:"Field",metadata:{},type:"Boolean"},{children:[{fieldName:"totalCount",kind:"Field",metadata:{},type:"Int"}],fieldName:"followers",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"FollowersConnection"}],id:e.__id(),kind:"Fragment",metadata:{},name:"FollowToggleButton_user",type:"User"}}()}}},viewer:{modern:function(){return n(732)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"me",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"FollowToggleButton_viewer",type:"Viewer"}}()}}}}),function(e){return function(t){var n,r;return $r(t,(r=n=function(n){function r(){return po(this,r),yo(this,bo(r).apply(this,arguments))}return vo(r,n),mo(r,[{key:"renderComponent",value:function(n){var r=Object.keys(e).reduce(function(t,r){return t[r]=Od(n,e[r]),t},{});return rc.createElement(t,fo({},this.props,r))}},{key:"render",value:function(){var e=this;return this.useClassic?this.renderComponent(this.context.relayEnv.env):rc.createElement(Td,null,function(t){return e.renderComponent(t.environment)})}},{key:"useClassic",get:function(){return!!this.context.relayEnv}}]),r}(rc.PureComponent),So(n,"contextTypes",{relayEnv:function(){return null}}),r))}}({changeFollowing:xd}))(Nd),Rd=function(e){var t=e.cloudcast,n=e.viewer,r=Ff.get("cloudcast",{username:t.owner.username,slug:t.slug},!0),i=Ff.get("user",{username:t.owner.username});return rc.createElement("div",{className:"widget-title-container"},rc.createElement("a",{className:"widget-title",href:r,target:"_blank"},t.name),rc.createElement("div",{className:"widget-by"},rc.createElement("span",{className:"widget-by-word"},"by"),rc.createElement("a",{className:"widget-by-user",href:i,target:"_blank"},t.owner.displayName),rc.createElement(Id,{user:t.owner,viewer:n,className:"follow-button"})))},jd=kf({cloudcast:{modern:function(){return n(733)},classic:function(e){var t=Id.getFragment("user");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"slug",kind:"Field",metadata:{},type:"String"},{children:[].concat.apply([],[{fieldName:"displayName",kind:"Field",metadata:{},type:"String"},{fieldName:"username",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},e.__frag(t)]),fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"Title_cloudcast",type:"Cloudcast"}}()}}},viewer:{modern:function(){return n(734)},classic:function(e){var t=Id.getFragment("viewer");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},e.__frag(t)]),id:e.__id(),kind:"Fragment",metadata:{},name:"Title_viewer",type:"Viewer"}}()}}}})(Rd),Ad=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return"".concat(Math.min(Math.max(0,100*e/t),100).toFixed(n),"%")},Fd=Ad,Dd=function(e){return $r(e,function(t){function n(){var e,t;qo(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ho(this,(e=Vo(n)).call.apply(e,[this].concat(i))),Yo(Xo(Xo(t)),"state",{junoSections:[]}),Yo(Xo(Xo(t)),"fetchJunoSections",function(e){e&&e.guid&&e.chartUrl&&Mo(e.guid,e.chartUrl).then(function(e){t.setState({junoSections:e})}).catch(function(){})}),t}return Go(n,t),Ko(n,[{key:"componentDidMount",value:function(){var e=this.props.cloudcast;e&&this.fetchJunoSections(e.juno)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=this.props.cloudcast&&this.props.cloudcast.juno&&this.props.cloudcast.juno.guid,r=e.cloudcast&&e.cloudcast.juno&&e.cloudcast.juno.guid;r&&n!==r&&this.setState({junoSections:[]},function(){t.fetchJunoSections(e.cloudcast.juno)})}},{key:"render",value:function(){return rc.createElement(e,Uo({},this.props,{junoSections:this.state.junoSections}))}}]),n}(rc.PureComponent))},Md=function(){return{children:[{children:[{fieldName:"guid",kind:"Field",metadata:{},type:"String"},{fieldName:"chartUrl",kind:"Field",metadata:{},type:"String"}],fieldName:"juno",kind:"Field",metadata:{canHaveSubselections:!0},type:"JunoDetails"},{children:[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},{children:[{fieldName:"artistName",kind:"Field",metadata:{},type:"String"},{fieldName:"songName",kind:"Field",metadata:{},type:"String"},{fieldName:"startSeconds",kind:"Field",metadata:{},type:"Int"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:cc.a.QL.__id(),kind:"Fragment",metadata:{},name:"TrackSection",type:"TrackSection"},{children:[{fieldName:"chapter",kind:"Field",metadata:{},type:"String"},{fieldName:"startSeconds",kind:"Field",metadata:{},type:"Int"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:cc.a.QL.__id(),kind:"Fragment",metadata:{},name:"ChapterSection",type:"ChapterSection"},{children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],id:cc.a.QL.__id(),kind:"Fragment",metadata:{isAbstract:!0},name:"IdFragment",type:"Node"}],fieldName:"sections",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isAbstract:!0,isPlural:!0},type:"Section"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:cc.a.QL.__id(),kind:"Fragment",metadata:{},name:"UnknownFileRelayQL",type:"Cloudcast"}}(),Ld=function(e){return $r(e,Dd(function(t){function n(){return $o(this,n),ea(this,na(n).apply(this,arguments))}return ra(n,t),Zo(n,[{key:"render",value:function(){var t=this.props,n=t.cloudcast,r=t.position,i=t.junoSections,o=fa(i,n,r);return rc.createElement(e,zo({},this.props,{currentTrack:o}))}}]),n}(rc.PureComponent)))},Ud=n(735),qd=n.n(Ud),Bd=function(e){return e.touches?e.touches[0].clientX:e.clientX},Kd=function(e){function t(){return Oa(this,t),Na(this,Ra(t).apply(this,arguments))}return ja(t,e),xa(t,[{key:"render",value:function(){return ic.a.createElement("svg",Pa({xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10"},this.props),ic.a.createElement("path",{className:"cls-1",d:"M6.44 5l3.29 3.3a1 1 0 0 1-1.42 1.41L5 6.42 1.71 9.71A1 1 0 0 1 .29 8.3L3.61 5 .31 1.7A1 1 0 0 1 1.72.29L5 3.6 8.29.3a1 1 0 0 1 1.44 1.41z"}))}}]),t}(ic.a.Component),Hd=function(e){function t(){var e,n;Da(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
;return n=Ua(this,(e=qa(t)).call.apply(e,[this].concat(i))),Va(Ha(Ha(n)),"openSelectUrl",function(){var e=n.props.cloudcast,t=Ff.get("user:select",{username:e.owner.username},!0);window.open(t)}),n}return Ba(t,e),La(t,[{key:"render",value:function(){var e=this.props,t=e.cloudcast,n=e.seekWarning,r=e.closeSeekWarning;if(!n)return null;var i=null,o="",a=null;return"backwards"===n&&"forwards_only"===t.seekRestriction?(o="Due to licensing issues in your country it is not possible to seek backwards.",a="https://web.archive.org/web/20190211223927/http://support.mixcloud.com/customer/portal/articles/1595564-us-licensing-seeking-rules"):(i="forwards"===n?"You have reached your seeking limit":"Seeking backwards is now restricted",o="forwards"===n?"Seeking forward is now limited to six times per hour due to licensing restrictions.":"You are now unable to seek backwards due to new licencing restrictions."),rc.createElement("div",{className:"seek-warning"},i&&rc.createElement("div",{className:"popover-title"},i),rc.createElement("div",{className:"popover-text"},o," ",t.owner.isSelect&&rc.createElement("a",{className:"btn-select-trigger",onClick:this.openSelectUrl},"Subscribe to ",t.owner.displayName)),a&&rc.createElement("a",{className:"license-faq-link",href:"{explanationLink}",target:"_blank"},"Why is this?"),rc.createElement("span",{onClick:r,className:"modal-close"},rc.createElement(Kd,null)))}}]),t}(rc.Component),Vd=kf({cloudcast:{modern:function(){return n(736)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{children:[{fieldName:"displayName",kind:"Field",metadata:{},type:"String"},{fieldName:"isSelect",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"username",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{fieldName:"seekRestriction",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"SeekWarning_cloudcast",type:"Cloudcast"}}()}}}})(Hd),Gd=function(e){var t=e.artistName,n=e.songName,r=e.chapter,i=e.buyUrl,o=e.playing;if(!n&&!r)return null;var a,s=i?rc.createElement("a",{target:"_blank",href:i,style:{whiteSpace:"pre"},className:"buy-current-track"}," ","— Buy"," "):null,u=Ml()("current-track-title",{playing:o});return r?a=rc.createElement("span",{className:"current-track-text"},rc.createElement("strong",{className:u},r)):(n||t)&&(a=rc.createElement("span",{className:"current-track-text"},rc.createElement("strong",{className:u},n),rc.createElement("span",{className:"current-track-artist"},rc.createElement("span",{style:{whiteSpace:"pre"}}," by "),rc.createElement("span",null,t)),s)),rc.createElement("div",{className:"current-track"},a)},Wd=function(e){function t(){var e,n;Xa(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=za(this,(e=$a(t)).call.apply(e,[this].concat(i))),ts(es(es(n)),"scrubber",rc.createRef()),n}return Ja(t,e),Qa(t,[{key:"componentDidMount",value:function(){var e=this.props.startTouchDrag;this.scrubber.current&&(this.scrubber.current.ontouchstart=e)}},{key:"render",value:function(){var e=this.props,t=e.setContainerRef,n=e.seekWarning,r=e.closeSeekWarning,i=e.position,o=e.duration,a=e.latestSeekablePosition,s=e.hideTrack,u=e.isPaused,c=e.isDragging,l=e.startDrag,f=e.currentTrack,d=e.cloudcast;if(!d)return null;var p=Fd(a,o);return rc.createElement(rc.Fragment,null,!s&&rc.createElement(Gd,Wa({playing:!u},f)),rc.createElement("div",{className:Ml()("widget-scrubber-container",{"disable-selection":!!c,"current-track-show":!s&&!!f})},rc.createElement(Vd,{cloudcast:d,seekWarning:n,closeSeekWarning:r}),rc.createElement("span",{className:"current"},Do(i)),rc.createElement("div",{className:"widget-scrubber",ref:this.scrubber},rc.createElement("div",{className:"widget-scrubber-bar",ref:t,onMouseDown:l},rc.createElement("div",{className:"widget-buffer-bar",style:{width:p}},rc.createElement("div",{className:"widget-progress",style:{width:Fd(i,a||o)}},rc.createElement("div",{className:"widget-current-position"}))))),rc.createElement("span",{className:"remaining"},rc.createElement("span",null,"-".concat(Do(o-i))))))}}]),t}(rc.Component),Xd=Ul()(ql({fragments:{cloudcast:function(){return function(e,t){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},cc.a.QL.__frag(e),cc.a.QL.__frag(t)]),id:cc.a.QL.__id(),kind:"Fragment",metadata:{},name:"UnknownFile_CloudcastRelayQL",type:"Cloudcast"}}(Vd.getFragment("cloudcast"),Md)}}}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{playerIdentifier:"main",tracklistRequired:!1},t=e.tracklistRequired,n=e.playerIdentifier;return function(e){var r=function(t){function n(){var e,t;ya(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=va(this,(e=wa(n)).call.apply(e,[this].concat(i))),_a(Ea(Ea(t)),"state",{isDragging:!1,containerLeft:null,containerRight:null,draggingPosition:null,seekWarning:null}),_a(Ea(Ea(t)),"container",null),_a(Ea(Ea(t)),"setContainerRef",function(e){t.container=e}),_a(Ea(Ea(t)),"closeSeekWarning",function(e){e.stopPropagation(),t.setState({seekWarning:null})}),_a(Ea(Ea(t)),"startDrag",function(e){var n=t.container;if(!(!n||e.key||e.metaKey||e.ctrlKey||e.button>0)){document.addEventListener("mouseup",t.stopDrag),document.addEventListener("mouseleave",t.stopDrag);var r=Bd(e),i=n.getBoundingClientRect(),o=i.left,a=i.right;t.setState({isDragging:!0,containerLeft:o,containerRight:a},function(){t.onDragMove(r),document.addEventListener("mousemove",t.onDocumentMouseMove)})}}),_a(Ea(Ea(t)),"startTouchDrag",function(e){e.preventDefault();var n=t.container;if(n&&!e.metaKey&&!e.ctrlKey){document.addEventListener("touchend",t.stopTouchDrag);var r=Bd(e),i=n.getBoundingClientRect(),o=i.left,a=i.right;t.setState({isDragging:!0,containerLeft:o,containerRight:a},function(){t.onDragMove(r),document.addEventListener("touchmove",t.onDocumentMouseMove)})}}),_a(Ea(Ea(t)),"stopDrag",function(){document.removeEventListener("mousemove",t.onDocumentMouseMove),document.removeEventListener("mouseup",t.stopDrag),document.removeEventListener("mouseleave",t.stopDrag),t.finishDrag()}),_a(Ea(Ea(t)),"stopTouchDrag",function(){document.removeEventListener("touchmove",t.onDocumentMouseMove),document.removeEventListener("touchend",t.stopTouchDrag),t.finishDrag()}),_a(Ea(Ea(t)),"finishDrag",function(){var e=t.props,n=e.playerPosition,r=e.seek,i=e.isPaused,o=e.resume,a=t.state.draggingPosition;i&&o(),null!==a&&a!==n&&r(a),t.setState({isDragging:!1,draggingPosition:null})}),_a(Ea(Ea(t)),"onDocumentMouseMove",function(e){var n=Bd(e);t.onDragMove(n)}),_a(Ea(Ea(t)),"onDragMove",function(e){var n=t.props,r=n.duration,i=n.playerPosition,o=n.seekRestriction,a=n.latestSeekablePosition,s=n.isSeekDisabled,u=t.state,c=u.containerLeft,l=u.containerRight;if(null!==c&&null!==l){var f=(e-c)/(l-c),d=null,p=0;if("forwards_only"===o||"limited_forwards"===o){p=i;f<p/r-.05?d="backwards":s&&(d="forwards")}var h=s?null:Math.round(Math.max(p,Math.min(a,r*f)));t.setState({draggingPosition:h,seekWarning:d})}}),t}return ka(n,t),ba(n,[{key:"render",value:function(){var t=this.props,n=t.isSeeking,r=t.latestSeekablePosition,i=t.position,o=t.duration,a=t.isPaused,s=t.currentTrack,u=this.state,c=u.isDragging,l=u.draggingPosition,f=u.seekWarning;return rc.createElement(e,ma({},this.props,{position:null===l?i:l,duration:o,latestSeekablePosition:r,isPaused:a,hideTrack:c||n,isDragging:c,seekWarning:f,startDrag:this.startDrag,startTouchDrag:this.startTouchDrag,setContainerRef:this.setContainerRef,closeSeekWarning:this.closeSeekWarning,currentTrack:s}))}}]),n}(rc.PureComponent);return _a(r,"WrappedComponent",e),_a(r,"defaultProps",{position:0,duration:1,latestSeekablePosition:0,isSeeking:!1,isPaused:!0}),Ul()(Object(sc.b)(qe(function(e,t){var n=t.cloudcastId,r=t.position,i=t.duration,o=t.seekRestriction,a=e.latestSeekablePosition,s=e.isSeeking,u=e.isPaused,c=e.isSeekDisabled;return{cloudcastId:n,position:Be(e),playerPosition:r,duration:i,seekRestriction:o,latestSeekablePosition:a,isSeeking:s,isPaused:u,isSeekDisabled:c}}),function(e){return Ie({seek:bl,resume:gl},e,n)}),qd()(function(){return t},Ld))(r)}}({tracklistRequired:!0}))(Wd),Yd=function(e){var t=e.restrictedReason;return"repeat_play"===t?rc.createElement("span",null,"Due to licensing restrictions in the USA this show can only be played three times in a two week period."):"tracklist"===t?rc.createElement("span",null,"This upload is unavailable in your country ",rc.createElement("br",null),"due to licensing restrictions. ",rc.createElement("a",{target:"_blank",href:"https://web.archive.org/web/20190211223927/http://support.mixcloud.com/customer/portal/articles/1595566-us-licensing-sound-recording-complement-rule"},"Why?")):rc.createElement("span",null,"Due to licensing restrictions this show can not played now.")},Qd=function(e){function t(){var e,n;rs(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=as(this,(e=ss(t)).call.apply(e,[this].concat(i))),fs(ls(ls(n)),"_playAttempted",function(){return null===n.props.seekPosition}),n}return us(t,e),os(t,[{key:"render",value:function(){var e=this.props,t=e.hasErrored,n=e.cloudcast,r=n.restrictedReason,i=n.isAwaitingAudio,o=this._playAttempted();return t?on()?rc.createElement("div",{className:"playback-error-message"},rc.createElement("h5",{className:"player-error-title"},"Oh snap, there was a playback error!"),rc.createElement("p",{className:"player-error-desc"},"Press play to try again.")):rc.createElement("div",{className:"playback-error-message playback-error-html5"},rc.createElement("h5",{className:"player-error-title"},"Sorry - your browser is not supported."),rc.createElement("p",{className:"player-error-desc"},"Please update your browser or install another such as"," ",rc.createElement("a",{href:"https://web.archive.org/web/20190211223927/https://www.google.com/chrome/",target:"_blank"},"Google Chrome"),".",rc.createElement("br",null),"Mixcloud requires HTML5 audio with MP3 and MP4 support.")):rc.createElement("div",null,o&&i&&rc.createElement("div",{className:"playback-error-message"},rc.createElement("h5",{className:"player-error-title"},"Audio not yet ready!"),rc.createElement("p",{className:"player-error-desc"},"This upload is being prepared and will be available soon.")),o&&r&&rc.createElement("div",{className:"playback-error-message playback-license-message"},rc.createElement("div",{className:"playback-license-icon license-icon-info"}),rc.createElement("p",{className:"player-error-desc"},rc.createElement(Yd,{restrictedReason:r}))))}}]),t}(rc.Component);fs(Qd,"defaultProps",{hasErrored:!1,seekPosition:null});var zd=Ul()(kf({cloudcast:{modern:function(){return n(737)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"restrictedReason",kind:"Field",metadata:{},type:"String"},{fieldName:"isAwaitingAudio",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"WidgetErrorMessage_cloudcast",type:"Cloudcast"}}()}}}}),Object(sc.b)(Ue(function(e){return{hasErrored:e.hasErrored,seekPosition:e.seekPosition}})))(Qd),$d=function(e){function t(){return ps(this,t),ys(this,bs(t).apply(this,arguments))}return vs(t,e),ms(t,[{key:"render",value:function(){var e=this.props,t=e.cloudcast,n=e.toggleShare,r=e.isLastCloudcast,i=e.viewer,o=e.playNextCloudcast;return rc.createElement("div",null,!t.isUnlisted&&rc.createElement("div",{className:"mini-share-container"},rc.createElement(ld,{cloudcast:t,viewer:i}),rc.createElement(ad,{cloudcast:t,viewer:i}),rc.createElement(dd,{onClick:n})),!r&&rc.createElement("div",{onClick:function(){return o()},className:"next-mix"}))}}]),t}(rc.Component),Jd=kf({cloudcast:{modern:function(){return n(738)},classic:function(e){var t=ld.getFragment("cloudcast"),n=ad.getFragment("cloudcast");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[].concat.apply([],[{fieldName:"isUnlisted",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},e.__frag(t),e.__frag(n)]),id:e.__id(),kind:"Fragment",metadata:{},name:"MiniControls_cloudcast",type:"Cloudcast"}}()}}},viewer:{modern:function(){return n(739)},classic:function(e){var t=ld.getFragment("viewer"),n=ad.getFragment("viewer");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},e.__frag(t),e.__frag(n)]),id:e.__id(),kind:"Fragment",metadata:{},name:"MiniControls_viewer",type:"Viewer"}}()}}}})($d),Zd=function(e){function t(){return Ss(this,t),Ts(this,Os(t).apply(this,arguments))}return Cs(t,e),_s(t,[{key:"render",value:function(){var e=this.props,t=e.cloudcast,n=e.viewer,r=e.toggleShare,i=e.toggleUpNext,o=e.playNextCloudcast,a=e.isLastCloudcast,s=e.upNext;return rc.createElement("div",{className:"widget-controls"},rc.createElement("div",{className:"widget-controls-top"},rc.createElement(zd,{cloudcast:t}),rc.createElement(Xf,{cloudcast:t,baseClass:"widget-play-button"}),rc.createElement(jd,{cloudcast:t,viewer:n}),rc.createElement(Jd,{viewer:n,cloudcast:t,playNextCloudcast:o,isLastCloudcast:a,toggleShare:r}),rc.createElement(pd,{cloudcast:t})),rc.createElement("div",{className:"widget-controls-mid"},rc.createElement(Xd,{cloudcast:t}),rc.createElement("div",{className:"widget-controls-mid-icon-container"},rc.createElement(ad,{cloudcast:t,viewer:n}),rc.createElement(dd,{onClick:r}),rc.createElement(ld,{cloudcast:t,viewer:n}))),rc.createElement("div",{className:"widget-controls-bottom cf"},rc.createElement(md,{cloudcast:t}),s.edges.length>1&&rc.createElement("div",{className:"show-list",onClick:i},"Up Next")))}}]),t}(rc.Component),ep=kf({cloudcast:{modern:function(){return n(740)},classic:function(e){var t=pd.getFragment("cloudcast"),n=Xd.getFragment("cloudcast"),r=Jd.getFragment("cloudcast"),i=zd.getFragment("cloudcast"),o=jd.getFragment("cloudcast"),a=md.getFragment("cloudcast"),s=ad.getFragment("cloudcast"),u=ld.getFragment("cloudcast");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},e.__frag(t),e.__frag(n),e.__frag(r),e.__frag(i),e.__frag(o),e.__frag(a),e.__frag(s),e.__frag(u)]),id:e.__id(),kind:"Fragment",metadata:{},name:"WidgetControls_cloudcast",type:"Cloudcast"}}()}}},viewer:{modern:function(){return n(741)},classic:function(e){var t=ld.getFragment("viewer"),n=ad.getFragment("viewer"),r=Jd.getFragment("viewer"),i=jd.getFragment("viewer");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},e.__frag(t),e.__frag(n),e.__frag(r),e.__frag(i)]),id:e.__id(),kind:"Fragment",metadata:{},name:"WidgetControls_viewer",type:"Viewer"}}()}}}})(Zd),tp=function(e){var t=e.index,n=e.section;return n?rc.createElement("div",{className:"widget-tracklist-row"},rc.createElement("div",{className:"widget-tracklist-number"},t),n.chapter?rc.createElement("div",{className:"widget-tracklist-chapter"},rc.createElement("div",{className:"widget-title"},n.chapter)):rc.createElement("div",{className:"widget-tracklist-song"},rc.createElement("div",{className:"widget-title"},n.songName),rc.createElement("div",{className:"widget-by"},rc.createElement("span",{className:"widget-by-word"},"by")," ",rc.createElement("span",{className:"widget-by-user"},n.artistName)),n.buyUrl?rc.createElement("a",{href:n.buyUrl,className:"buy-link"},rc.createElement("span",{className:"tooltip left",style:{marginTop:-10}},"Buy track")):null)):null},np=function(e){function t(){return Is(this,t),As(this,Ds(t).apply(this,arguments))}return Ms(t,e),js(t,[{key:"getAvailableSections",value:function(e){var t=this.props.position;return e.filter(function(e){var n=t;return null!==e.startSeconds&&void 0!==e.startSeconds&&e.startSeconds<=n})}},{key:"getSectionsToDisplay",value:function(){var e=this.props,t=e.cloudcast,n=e.junoSections;if(!t)return[];var r=t.sections,i=r&&r.length?r:n;return i?t.canShowTracklist?i:this.getAvailableSections(i):[]}},{key:"render",value:function(){var e=this.props,t=e.cloudcast,n=e.hasSuccessfullyPlayed,r=t.canShowTracklist,i=t.sections,o=this.getSectionsToDisplay();if(!i||!i.length)return null;if(!n)return null;var a=r?null:rc.createElement("div",{className:"widget-by tracklist-not-visible"},"Keep listening to reveal the tracklist. ",rc.createElement("a",{href:"https://web.archive.org/web/20190211223927/http://support.mixcloud.com/customer/portal/articles/1595557-us-licensing-tracklist-rules"},rc.createElement("strong",null,"Why?")));return rc.createElement("div",{className:"widget-tracklist-container"},rc.createElement("div",{className:"widget-tracklist-row widget-notracklist-row"},rc.createElement("div",{className:"widget-tracklist-song"},a)),o.map(function(e,t){return rc.createElement(tp,{key:t,section:e,index:t+1})}))}}]),t}(rc.Component),rp=Ul()(kf({cloudcast:{modern:function(){return n(742)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"featuringArtistList",kind:"Field",metadata:{isPlural:!0},type:"String"},{fieldName:"moreFeaturingArtists",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"canShowTracklist",kind:"Field",metadata:{},type:"Boolean"},{children:[{fieldName:"guid",kind:"Field",metadata:{},type:"String"},{fieldName:"chartUrl",kind:"Field",metadata:{},type:"String"}],fieldName:"juno",kind:"Field",metadata:{canHaveSubselections:!0},type:"JunoDetails"},{children:[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},{children:[{fieldName:"songName",kind:"Field",metadata:{},type:"String"},{fieldName:"artistName",kind:"Field",metadata:{},type:"String"},{fieldName:"startSeconds",kind:"Field",metadata:{},type:"Int"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"TrackSection",type:"TrackSection"},{children:[{fieldName:"chapter",kind:"Field",metadata:{},type:"String"},{fieldName:"startSeconds",kind:"Field",metadata:{},type:"Int"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"ChapterSection",type:"ChapterSection"},{children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],id:e.__id(),kind:"Fragment",metadata:{isAbstract:!0},name:"IdFragment",type:"Node"}],fieldName:"sections",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isAbstract:!0,isPlural:!0},type:"Section"}],id:e.__id(),kind:"Fragment",metadata:{},name:"TrackList_cloudcast",type:"Cloudcast"}}()}}}}),Object(sc.b)(qe(function(e,t){return{hasSuccessfullyPlayed:e.hasSuccessfullyPlayed,position:t.position}})),Dd)(np),ip=function(e){function t(){return qs(this,t),Hs(this,Gs(t).apply(this,arguments))}return Ws(t,e),Ks(t,[{key:"render",value:function(){var e=this.props.light;return rc.createElement("div",{className:Ml()("widget-404",{dark:!e})},rc.createElement("a",{href:"/",target:"_blank",className:"widget-logo"}),rc.createElement("a",{href:"/",target:"_blank",className:"message-404"},"Sorry we can't find that content"))}}]),t}(rc.Component),op=n(743),ap=n.n(op),sp=function(e,t){var n=new ap.a(e,{},!0);return n.query.order=t,n.toString()},up=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};iu(this,e),ou(this,"listeners",{}),ou(this,"firstItemAdded",function(){}),ou(this,"onItemAdded",function(){}),ou(this,"lastItemRemoved",function(){}),ou(this,"on",function(e,n){return 0===Object.keys(t.listeners).length&&t.firstItemAdded(),t.listeners.hasOwnProperty(e)||(t.listeners[e]=[]),t.listeners[e].push({fn:n}),t.onItemAdded(e),function(){t.off(e,n)}}),ou(this,"addEventListener",function(e,n){return t.on(e,n)}),ou(this,"off",function(e,n){t.listeners.hasOwnProperty(e)&&(n?t.listeners[e]=t.listeners[e].filter(function(e){return e.fn!==n}):delete t.listeners[e]),0===Object.keys(t.listeners).length&&t.lastItemRemoved()}),ou(this,"removeEventListener",function(e,n){return t.off(e,n)}),ou(this,"once",function(e,n){var r=function r(){return t.off(e,r),n.apply(void 0,arguments)};t.on(e,r)}),ou(this,"emit",function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=t.listeners[e]||[],a=t.listeners["*"]||[];return eu(o).concat(eu(a)).reduce(function(e,t){return eu(e).concat([t.fn.apply(t,r)])},[])}),ou(this,"listenable",function(){return{on:t.on,addEventListener:t.addEventListener,off:t.off,removeEventListener:t.removeEventListener,once:t.once}}),ou(this,"emittable",function(){return{emit:t.emit}}),n.firstItemAdded&&(this.firstItemAdded=n.firstItemAdded),n.onItemAdded&&(this.onItemAdded=n.onItemAdded),n.lastItemRemoved&&(this.lastItemRemoved=n.lastItemRemoved)},cp=n(746),lp=n.n(cp),fp=new up({firstItemAdded:function(){"undefined"!=typeof window&&window.addEventListener("keydown",su)},lastItemRemoved:function(){"undefined"!=typeof window&&window.removeEventListener("keydown",su)}}),dp=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){au(e,t,n[t])})}return e}({},fp.listenable(),fp.emittable()),pp=dp,hp=["progress","buffering","play","pause","ended","error"],mp=function(e){function t(){var e,n;cu(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=du(this,(e=pu(t)).call.apply(e,[this].concat(i))),gu(yu(yu(n)),"sendingEvent",!1),gu(yu(yu(n)),"hostWindow","undefined"!=typeof window&&window.parent),gu(yu(yu(n)),"SEEK_FAILURE_TIMEOUT",5e3),gu(yu(yu(n)),"SUCCESSFUL_SEEK_RANGE",10),gu(yu(yu(n)),"lastSeekPosition",null),gu(yu(yu(n)),"seekAttemptResolver",null),gu(yu(yu(n)),"setWidgetOption",function(e,t){n.props.setWidgetOption(Zs(e),!!t)}),gu(yu(yu(n)),"send",function(e,t){n.hostWindow.postMessage(JSON.stringify({type:e,data:t,mixcloud:"playerWidget"}),"*")}),gu(yu(yu(n)),"triggerEvent",function(e,t){n.send("event",{eventName:e,args:t})}),gu(yu(yu(n)),"publicMethods",{load:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.props.updateFeed(e,t)},play:function(){n.props.resume()},setOption:n.setWidgetOption,pause:function(){n.props.pause()},togglePlay:function(){var e=n.props,t=e.pause,r=e.resume;e.isPaused?r():t()},seek:function(e){return new Promise(function(t){n.lastSeekPosition=e,n.seekAttemptResolver=t,n.props.seek(e),setTimeout(function(){n.seekAttemptResolver&&(n.seekAttemptResolver=null,t(!1))},n.SEEK_FAILURE_TIMEOUT)})},getPosition:function(){return n.props.position},getDuration:function(){return n.props.duration},getIsPaused:function(){return n.props.isPaused},enableHotkeys:function(){pp.on("space",function(){return n.publicMethods.togglePlay()})},getVolume:function(){return n.props.volume},setVolume:function(e){n.props.setVolume(e)},getCurrentKey:function(){return n.props.feed}}),gu(yu(yu(n)),"callMethod",function(e){var t=n.publicMethods[e.methodName].apply(yu(yu(n)),e.args);t&&t.then?t.then(function(t){n.send("methodResponse",{methodId:e.methodId,value:t})}):n.send("methodResponse",{methodId:e.methodId,value:t})}),gu(yu(yu(n)),"sendApi",function(){var e=Object.keys(n.publicMethods);n.send("api",{methods:e,events:hp}),"undefined"!=typeof window&&(window.Mixcloud.load=n.publicMethods.load),n.sendingEvent=!0}),gu(yu(yu(n)),"onReceiveMessage",function(e){var t;try{t=JSON.parse(e.data)}catch(e){return}n.hostWindow=e.source,"getApi"===t.type?n.sendApi():"method"===t.type&&n.callMethod(t.data)}),n}return hu(t,e),fu(t,[{key:"componentDidMount",value:function(){"undefined"!=typeof window&&(window.Mixcloud={setWidgetOption:this.setWidgetOption}),this.init()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onReceiveMessage)}},{key:"hasSeekSucceeded",value:function(e){return Math.abs(this.props.position-e)<this.SUCCESSFUL_SEEK_RANGE}},{key:"init",value:function(){this.hostWindow&&(this.hostWindow!==window||window.testingPlayerApi)&&(window.addEventListener("message",this.onReceiveMessage),this.send("ready"))}},{key:"componentDidUpdate",value:function(e){if(this.sendingEvent){var t=this.props,n=t.isPaused,r=t.hasEnded,i=t.hasErrored,o=t.position,a=t.duration,s=t.isBuffering;e.position!==o&&this.triggerEvent("progress",[o,a]),e.isPaused!==n&&(n?this.triggerEvent("pause"):n||this.triggerEvent("play")),e.hasEnded!==r&&r&&this.triggerEvent("ended"),e.isBuffering!==s&&(s?this.triggerEvent("buffering"):n||this.triggerEvent("play")),e.hasErrored!==i&&i&&this.triggerEvent("error"),this.seekAttemptResolver&&this.lastSeekPosition&&e.position===this.lastSeekPosition&&(this.seekAttemptResolver(!0),this.seekAttemptResolver=null)}}},{key:"render",value:function(){return null}}]),t}(rc.Component),yp=Object(sc.b)(qe(function(e,t){var n=e.hasEnded,r=e.isBuffering,i=e.isPaused,o=e.hasErrored;return{volume:e.volume,position:t.position,duration:t.duration,hasEnded:n,isPaused:i,hasErrored:o,isBuffering:r,cloudcastId:t.cloudcastId}}),function(e){return Ie({seek:bl,pause:yl,resume:gl,setVolume:vl},e)})(mp),gp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return Object(sc.b)(of(e),af(e))}()(vf),bp=function(e){function t(){var e,n;ku(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_u(this,(e=Tu(t)).call.apply(e,[this].concat(i))),xu(Cu(Cu(n)),"state",{showShareModal:!1,showUpNext:!1,showCover:!n.props.hideCover}),xu(Cu(Cu(n)),"toggleShare",function(){n.setState({showShareModal:!n.state.showShareModal})}),xu(Cu(Cu(n)),"toggleUpNext",function(){n.setState({showUpNext:!n.state.showUpNext})}),xu(Cu(Cu(n)),"closeCover",function(){n.setState({showCover:!n.state.showCover})}),xu(Cu(Cu(n)),"updatePlayQueue",function(e,t){var r=n.props.setQueue,i=n.context.tracking.getSituation();r(e.map(function(e){return{cloudcastId:e.id,streamInfo:e.streamInfo,position:"forwards_only"!==e.seekRestriction&&e.currentPosition?e.currentPosition:null,duration:e.audioLength,seekRestriction:e.seekRestriction,situation:i}}),null,null,t)}),xu(Cu(Cu(n)),"getCloudcastsStartFrom",function(e){var t=n.props.viewer.playerWidgetFeed;return t&&t.edges?t.edges.filter(function(t,n){return n>=e}).map(function(e){return e.node}).filter(function(e){return!!(e&&e.isPlayable&&e.streamInfo)}):[]}),xu(Cu(Cu(n)),"selectNewCloudcast",function(e){var t=n.getCloudcastsStartFrom(e);n.setState({showUpNext:!1}),n.updatePlayQueue(t,!0)}),xu(Cu(Cu(n)),"getCurrentCloudcastIndex",function(){var e=n.props,t=e.cloudcastId,r=e.viewer.playerWidgetFeed;return t&&r&&r.edges?r.edges.findIndex(function(e){return e.node&&e.node.id===t}):0}),xu(Cu(Cu(n)),"playNextCloudcast",function(){var e=n.props.isPaused,t=n.getCloudcastsStartFrom(n.getCurrentCloudcastIndex()+1);n.updatePlayQueue(t,!e)}),n}return Pu(t,e),Eu(t,[{key:"componentDidMount",value:function(){var e=this.props.autoplay,t=this.getCloudcastsStartFrom(0);this.updatePlayQueue(t,e)}},{key:"render",value:function(){var e=this.props,t=e.viewer,n=e.isPaused,r=e.cloudcastId,i=e.mini,o=e.light,a=e.hideArtwork,s=e.feed,u=e.hideCover,c=e.hideTracklist,l=e.setWidgetOption,f=e.updateFeed,d=t.playerWidgetFeed;if(!d||!d.edges||0===d.edges.length)return rc.createElement(ip,{light:o});var p=this.state,h=p.showShareModal,m=p.showUpNext,y=p.showCover,g=d.edges.map(function(e){return e.node}).find(function(e){return e.id===r})||d.edges[0].node,b=d.edges.length===this.getCurrentCloudcastIndex()+1,v=!(g.owner&&g.owner.isViewer),w=Ml()("widget tracklist",{blur:!!h||!!m,dark:!o,repostable:v,"hide-artwork":a,"show-artwork":!a,"widget-mini":i,"not-widget-mini":!i,"mini-next":i&&d.edges.length>1,"widget-is-playing":!n});return rc.createElement("div",{className:"widget-container"},rc.createElement("div",{className:w},!u&&y&&rc.createElement(Qf,{cloudcast:g,closeCover:this.closeCover}),rc.createElement("div",{className:"widget-header"},!a&&rc.createElement(Mf,{cloudcast:g}),rc.createElement(ep,{cloudcast:g,viewer:t,toggleShare:this.toggleShare,toggleUpNext:this.toggleUpNext,isLastCloudcast:b,playNextCloudcast:this.playNextCloudcast,upNext:t.playerWidgetFeed})),h&&rc.createElement(Gf,{cloudcast:g,onClose:this.toggleShare}),!c&&rc.createElement(rp,{cloudcast:g}),m&&rc.createElement(If,{cloudcasts:t.playerWidgetFeed,currentCloudcast:g,onClose:this.toggleUpNext,onSelect:this.selectNewCloudcast})),rc.createElement(yp,{feed:s,setWidgetOption:l,updateFeed:f}),rc.createElement(gp,{reporting:!0}))}}]),t}(rc.Component);xu(bp,"contextTypes",{tracking:Pc.a.object}),xu(bp,"defaultProps",{isPaused:!0});var vp=Ul()(Object(sc.b)(qe(function(e,t){return{isPaused:e.isPaused,cloudcastId:t.cloudcastId}}),function(e){return Ie({setQueue:pl},e)}),ql({initialVariables:{feed:null,cloudcastCount:20},fragments:{viewer:function(){return function(e,t,n,r,i,o,a,s){return{children:[].concat.apply([],[{calls:[{kind:"Call",metadata:{},name:"feed",value:{kind:"CallVariable",callVariableName:"feed"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallVariable",callVariableName:"cloudcastCount"}}],children:[].concat.apply([],[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"isViewer",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{fieldName:"isPlayable",kind:"Field",metadata:{},type:"Boolean"},{children:[{fieldName:"hlsUrl",kind:"Field",metadata:{},type:"String"},{fieldName:"dashUrl",kind:"Field",metadata:{},type:"String"},{fieldName:"url",kind:"Field",metadata:{},type:"String"},{fieldName:"uuid",kind:"Field",metadata:{},type:"String"}],fieldName:"streamInfo",kind:"Field",metadata:{canHaveSubselections:!0},type:"StreamInfo"},{fieldName:"currentPosition",kind:"Field",metadata:{},type:"Int"},{fieldName:"audioLength",kind:"Field",metadata:{},type:"Int"},{fieldName:"seekRestriction",kind:"Field",metadata:{},type:"String"},cc.a.QL.__frag(e),cc.a.QL.__frag(t),cc.a.QL.__frag(n),cc.a.QL.__frag(r),cc.a.QL.__frag(i),cc.a.QL.__frag(o)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Cloudcast"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"CloudcastEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"},cc.a.QL.__frag(a)]),fieldName:"playerWidgetFeed",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"CloudcastConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},cc.a.QL.__frag(s)]),id:cc.a.QL.__id(),
kind:"Fragment",metadata:{},name:"UnknownFile_ViewerRelayQL",type:"Viewer"}}(If.getFragment("currentCloudcast"),rp.getFragment("cloudcast"),Qf.getFragment("cloudcast"),ep.getFragment("cloudcast"),Mf.getFragment("cloudcast"),Gf.getFragment("cloudcast"),If.getFragment("cloudcasts"),ep.getFragment("viewer"))}}}))(bp),wp=function(e){function t(){return ku(this,t),_u(this,Tu(t).apply(this,arguments))}return Pu(t,e),t}(cc.a.Route);xu(wp,"routeName","PlayerWidget"),xu(wp,"queries",{viewer:function(e,t){var n=t.feed,r=t.cloudcastCount;return function(e){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},cc.a.QL.__frag(e)]),fieldName:"viewer",kind:"Query",metadata:{},name:"UnknownFile",type:"Viewer"}}(e.getFragment("viewer",{feed:n,cloudcastCount:r}))}}),xu(wp,"paramDefinitions",{feed:{required:!0},cloudcastCount:{required:!0}});var kp=["light","mini","hideCover","hideTracklist","hideArtwork"],Sp=function(e){var t=wu({},e);return!0===t.footerWidget&&(t.mini=!0,t.hideCover=!0,t.hideTracklist=!0),"undefined"!=typeof window&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)&&(t.autoplay=!1),!0===t.autoplay&&(t.hideCover=!0),t.feed&&t.order&&(t.feed=sp(t.feed,t.order)),t},Ep=function(e){function t(){var e,n;ku(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_u(this,(e=Tu(t)).call.apply(e,[this].concat(i))),xu(Cu(Cu(n)),"state",{autoplay:n.props.autoplay,feed:n.props.feed,light:n.props.light,hideCover:n.props.hideCover,mini:n.props.mini,hideTracklist:n.props.hideTracklist,hideArtwork:n.props.hideArtwork}),xu(Cu(Cu(n)),"updateFeed",function(e,t){n.setState({feed:e,autoplay:t})}),xu(Cu(Cu(n)),"setWidgetOption",function(e,t){kp.indexOf(e)>-1&&n.setState(xu({},e,t))}),n}return Pu(t,e),Eu(t,[{key:"render",value:function(){var e=this,t=Sp(wu({},this.props,this.state)),n=t.limit,r=t.feed,i=t.light,o=r?rc.createElement(rf,{Container:vp,queryConfig:new wp({feed:r,cloudcastCount:n}),renderComponent:function(n){return rc.createElement(vp,vu({},t,n,{updateFeed:e.updateFeed,setWidgetOption:e.setWidgetOption}))}}):rc.createElement(ip,{light:i});return rc.createElement(Ac,{tracking:{type:"platform",platform:"widget"}},o,rc.createElement(ef,null))}}]),t}(rc.Component);xu(Ep,"defaultProps",{autoplay:!1,hideCover:!1,light:!1,mini:!1,hideArtwork:!1,hideTracklist:!1,limit:20});var _p,Tp,Pp=n(747),Op=n.n(Pp),Cp=function(e){function t(e){var n;Iu(this,t),n=Au(this,Fu(t).call(this,e)),Uu(Lu(Lu(n)),"pageView",function(){var e=window.location.pathname+window.location.search;Op.a.set({page:e}),Op.a.pageview(e)});var r=e.trackingId,i=e.userId,o=e.accountType;return Op.a.initialize(r,{debug:!1}),Op.a.set({userId:i,dimension1:o}),n}return Du(t,e),ju(t,[{key:"componentDidMount",value:function(){this.pageView()}},{key:"render",value:function(){return null}}]),t}(rc.Component),xp=kf({viewer:{modern:function(){return n(757)},classic:function(e){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"hasPremiumFeatures",kind:"Field",metadata:{},type:"Boolean"}],fieldName:"me",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"User"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:e.__id(),kind:"Fragment",metadata:{},name:"GoogleAnalytics_viewer",type:"Viewer"}}()}}}})((Tp=_p=function(e){function t(){return Ku(this,t),Gu(this,Xu(t).apply(this,arguments))}return Yu(t,e),Vu(t,[{key:"render",value:function(){var e,t=this.props,n=t.viewer,r=t.footerWidget,i=n.me&&n.me.id,o=r?"UA-4415034-31":"UA-4415034-18";return e=n.me?n.me.hasPremiumFeatures?"premium":"basic":"anonymous",rc.createElement(Cp,{trackingId:o,accountType:e,userId:i})}}]),t}(rc.Component),zu(_p,"defaultProps",{footerWidget:!1}),Tp)),Np=function(e){function t(){return Ku(this,t),Gu(this,Xu(t).apply(this,arguments))}return Yu(t,e),t}(cc.a.Route);zu(Np,"routeName","GoogleAnalytics"),zu(Np,"queries",{viewer:function(e){return function(e){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},cc.a.QL.__frag(e)]),fieldName:"viewer",kind:"Query",metadata:{},name:"UnknownFile",type:"Viewer"}}(e.getFragment("viewer"))}});var Ip=function(e){return rc.createElement(rf,{Container:xp,queryConfig:new Np,renderComponent:function(t){return rc.createElement(xp,Bu({},t,e))}})},Rp={commit:"d931921bdd2a4b6aa1e80ee21b504b0be90a124c"},jp=n(344),Ap=n.n(jp),Fp=function(){function e(){try{if(window._phantom||window.callPhantom)return!0;if(document.$cdc_||document.$wdc_)return!0;if(navigator.webdriver||window.document.documentElement.getAttribute("webdriver"))return!0;if(navigator.userAgent.match(n))return!0;if($u(Object.keys(window)).concat($u(Object.keys(document))).find(function(e){return e.match(r)}))return!0}catch(e){}return!1}var t=Date.now(),n=/(HeadlessChrome|PhantomJS)/,r=/(selenium|webdriver)/i,i=null;return function(){return null===i&&(i=e()),!(!i&&Date.now()-t>12e4)&&i}}();window.mixcloudCH=function(e){if(e&&!Fp()){var t=function(){},n={b:function(e){t=e},c:function(e,n){e===this.a&&t(n)}},r=function(e){document.cookie="ch=".concat(e,";path=/"),st(kc.urls.ch)},i=e(n);return i.then?i.then(r):Promise.resolve()}};var Dp=null,Mp={confirm:function(){null===Dp&&(n(758)(kc.urls.chChallenge,function(){Dp&&(clearTimeout(Dp),Dp=null)}),Dp=setTimeout(function(){Dp=null},2e4))}};Ap.a.config("https://web.archive.org/web/20190211223927/https://81b122406cea4339b6a60324526d22a3@sentry.io/143843",{release:"player-widget-react-".concat(Rp.commit)}).install();var Lp=function(e){return Object(Fc.c)(Fl,e)}(),Up=function(){var e=new hc,t=new _c({withCredentials:!0,csrf:!0,env:e,onCH:function(){return Mp.confirm()}});return e.injectNetworkLayer(t),e},qp=Up(),Bp=document.getElementById("relay-data"),Kp=Bp?JSON.parse(function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">")}(Bp.textContent)):null,Hp=function(e){var t=Js(new ap.a(e).query||""),n={};if(Object.keys(t).forEach(function(e){var r=t[e];"1"===r||"true"===r?r=!0:"0"!==r&&"false"!==r||(r=!1),n[Zs(e)]=r}),!n.limit&&n.feed){var r=Js(new ap.a(n.feed).query||"");n.limit=r.limit}return n.limit&&(n.limit=parseInt(n.limit,10),isNaN(n.limit)&&delete n.limit),n}(window.location.href);Kp&&Kp.length?qp.isomorphicInjectServerData(Kp).then(nc):nc()},523:function(e,t,n){"use strict";e.exports=n(524)},524:function(e,t){"use strict";function n(){if(!p){var e=c.expirationTime;h?_():h=!0,E(o,e)}}function r(){var e=c,t=c.next;if(c===t)c=null;else{var r=c.previous;c=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=l,o=d;l=e,d=t;try{var a=r(y)}finally{l=i,d=o}if("function"==typeof a)if(a={callback:a,priorityLevel:e,expirationTime:t,next:null,previous:null},null===c)c=a.next=a.previous=a;else{r=null,e=c;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==c);null===r?r=c:r===c&&(c=a,n()),t=r.previous,t.next=r.previous=a,a.next=r,a.previous=t}}function i(){if(-1===f&&null!==c&&1===c.priorityLevel){p=!0,y.didTimeout=!0;try{do{r()}while(null!==c&&1===c.priorityLevel)}finally{p=!1,null!==c?n():h=!1}}}function o(e){p=!0,y.didTimeout=e;try{if(e)for(;null!==c;){var o=t.unstable_now();if(!(c.expirationTime<=o))break;do{r()}while(null!==c&&c.expirationTime<=o)}else if(null!==c)do{r()}while(null!==c&&0<T()-t.unstable_now())}finally{p=!1,null!==c?n():h=!1,i()}}function a(e){s=w(function(t){v(u),e(t)}),u=b(function(){k(s),e(t.unstable_now())},100)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=null,l=3,f=-1,d=-1,p=!1,h=!1,m="object"==typeof performance&&"function"==typeof performance.now,y={timeRemaining:m?function(){if(null!==c&&c.expirationTime<d)return 0;var e=T()-performance.now();return 0<e?e:0}:function(){if(null!==c&&c.expirationTime<d)return 0;var e=T()-Date.now();return 0<e?e:0},didTimeout:!1},g=Date,b="function"==typeof setTimeout?setTimeout:void 0,v="function"==typeof clearTimeout?clearTimeout:void 0,w="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,k="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;if(m){var S=performance;t.unstable_now=function(){return S.now()}}else t.unstable_now=function(){return g.now()};var E,_,T;if("undefined"!=typeof window&&window._schedMock){var P=window._schedMock;E=P[0],_=P[1],T=P[2]}else if("undefined"==typeof window||"function"!=typeof window.addEventListener){var O=null,C=-1,x=function(e,t){if(null!==O){var n=O;O=null;try{C=t,n(e)}finally{C=-1}}};E=function(e,t){-1!==C?setTimeout(E,0,e,t):(O=e,setTimeout(x,t,!0,t),setTimeout(x,1073741823,!1,1073741823))},_=function(){O=null},T=function(){return 1/0},t.unstable_now=function(){return-1===C?0:C}}else{"undefined"!=typeof console&&("function"!=typeof w&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof k&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var N=null,I=!1,R=-1,j=!1,A=!1,F=0,D=33,M=33;T=function(){return F};var L="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===L){I=!1,e=N;var n=R;N=null,R=-1;var r=t.unstable_now(),i=!1;if(0>=F-r){if(!(-1!==n&&n<=r))return j||(j=!0,a(U)),N=e,void(R=n);i=!0}if(null!==e){A=!0;try{e(i)}finally{A=!1}}}},!1);var U=function(e){if(null!==N){a(U);var t=e-F+M;t<M&&D<M?(8>t&&(t=8),M=t<D?D:t):D=t,F=e+M,I||(I=!0,window.postMessage(L,"*"))}else j=!1};E=function(e,t){N=e,R=t,A||0>t?window.postMessage(L,"*"):j||(j=!0,a(U))},_=function(){N=null,I=!1,R=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:break;default:e=3}var r=l,o=f;l=e,f=t.unstable_now();try{return n()}finally{l=r,f=o,i()}},t.unstable_scheduleCallback=function(e,r){var i=-1!==f?f:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=i+r.timeout;else switch(l){case 1:r=i+-1;break;case 2:r=i+250;break;case 4:r=i+1073741823;break;default:r=i+5e3}if(e={callback:e,priorityLevel:l,expirationTime:r,next:null,previous:null},null===c)c=e.next=e.previous=e,n();else{i=null;var o=c;do{if(o.expirationTime>r){i=o;break}o=o.next}while(o!==c);null===i?i=c:i===c&&(c=e,n()),r=i.previous,r.next=i.previous=e,e.next=i,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)c=null;else{e===c&&(c=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=l;return function(){var r=l,o=f;l=n,f=t.unstable_now();try{return e.apply(this,arguments)}finally{l=r,f=o,i()}}},t.unstable_getCurrentPriorityLevel=function(){return l}},525:function(e,t,n){"use strict";function r(){}var i=n(526);e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},526:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},527:function(e){"use strict";var t=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=t},529:function(e,t,n){"use strict";(function(e,r){var i,o=n(531);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(t,n(31),n(530)(e))},530:function(e){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},531:function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.a=n},533:function(e,t,n){e.exports={default:n(534),__esModule:!0}},543:function(e,t,n){e.exports={default:n(544),__esModule:!0}},555:function(e,t,n){e.exports={default:n(556),__esModule:!0}},590:function(e,t,n){e.exports={default:n(591),__esModule:!0}},596:function(e,t,n){e.exports={default:n(597),__esModule:!0}},606:function(e,t,n){e.exports={default:n(607),__esModule:!0}},610:function(e,t,n){e.exports={default:n(611),__esModule:!0}},668:function(e,t,n){n(669),e.exports=self.fetch.bind(self)},682:function(e){e.exports={restrictions:{artistByCountry:{USA:{maxTotal:4,maxConsecutive:3}},artist:{default:{max_total:4,max_consecutive:3},select:{max_total:8,max_consecutive:3}}},ch:{protectTimeout:1e3},relay:{ttl:72e5},thumbnails:{proxy:"https://web.archive.org/web/20190211223927/https://thumbnailer.mixcloud.com"},juno:{ignoreArtists:["Merrick Lowell"]},offline:{downloadDeviceLimit:3},limitedForwardsMaxSeekPeriod:36e5,recaptcha:{publicKey:"6Ldm6gYUAAAAACfwSMTCIuHYSlfv2ptnauPKtl07"},dfp:{accountId:"4090634"},upload:{servers:["//web.archive.org/web/20190211223927/https://upload7.mixcloud.com","//web.archive.org/web/20190211223927/https://upload8.mixcloud.com","//web.archive.org/web/20190211223927/https://upload9.mixcloud.com","//web.archive.org/web/20190211223927/https://upload10.mixcloud.com"]},useExternalScripts:!0,selectPreviewLength:300,facebook:{perms:["email","user_friends","public_profile"],version:"v3.2",xfbml:!0,language:"en_US",appId:"49631911630"},iPhone:{clientId:"hfo9as78yfo94bkbcv",appId:401206431},urls:{widget:{baseUrl:"/widget/iframe/",profileBaseUrl:"/widget/follow/"},favicons:{paused:"/media/images/www/global/pause-favicon.png",uploading:"/media/images/www/global/uploading-favicon.png",normal:"/media/images/www/global/play-favicon.png"},websocket:"wss://websocket.mixcloud.com",juno:"/tracklist/",settings:{soundcloud_connection:"/settings/soundcloud-connect/",twitter_connection:"/settings/twitter-connect/",facebook_connection:"/settings/facebook-connect/",twitter_configure:"/settings/twitter-configure/",facebook_pages:"/settings/facebook-pages/"},ch:"/ch/challenge/response/",mobileBaseDomain:"m.mixcloud.com",baseUrl:"https://web.archive.org/web/20190211223927/https://www.mixcloud.com",chChallenge:"/ch/challenge.js",player:{trackingUrl:"/play_tracking/play_ping/"},baseDomain:"www.mixcloud.com",authentication:{set_password:"/authentication/set-password/",facebook_access_token:"/authentication/facebook-access-token/",logout:"/authentication/logout/",refresh_user_state:"/authentication/refresh-user/",email_password_reset:"/authentication/password/reset/",facebook_login:"/authentication/facebook-login/",email_login:"/authentication/email-login/",email_register:"/authentication/email-register/"},staticMediaCdnUrl:"https://web.archive.org/web/20190211223927/https://www.mixcloud.com/media/",canonicalBaseUrl:"https://web.archive.org/web/20190211223927/https://www.mixcloud.com",androidMetaUrlPrefix:"mc://mixcloud.com",iPhoneMetaUrlPrefix:"mc:/",jailRelease:"/jail/release/",noProtocolBaseUrl:"//web.archive.org/web/20190211223927/https://www.mixcloud.com",selectMicrositeBaseUrl:"https://web.archive.org/web/20190211223927/https://select.mixcloud.com"},highlight:{maxCount:10},android:{clientId:"jdh35hg8fn4vn85bn7"},subscription:{proTrialDays:30},uploadLimits:{maxUploadSizeMp3:524288e3,maxUploadSizeImage:10485760},limitedForwardsMaxSeeks:6,stripe:{image:"https://web.archive.org/web/20190211223927/https://www.mixcloud.com/media/images/www/global/stripe-logo.png",key:"pk_live_vfgF0zO1WBUegocT4l5wZRfY"}}},683:function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(340),u=n(684),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=/%2B/g,f=/%3A/g,d=function(){function e(t){i(this,e),this._getCompileCache={},this._matchCompileCache={},this._expectedParamsCache={},this.urlConf=t}return a(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.pattern(e);this._getCompileCache.hasOwnProperty(e)||(this._getCompileCache[e]=c.default.compile(n));var r=this._getCompileCache[e](t);return r=decodeURI(r),r.replace(l,"+").replace(f,":")}},{key:"buildSearch",value:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t].toString())}).join("&")}},{key:"makeLocation",value:function(e){var t=e.urlName,n=e.params,r=e.query,i=e.state,a=e.to,u=e.hash;arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return o({},(0,s.parsePath)(a),{state:i});if(!t)throw Error("urlName not provided to makeLocation");var c={pathname:this.get(t,n||{})};return u&&(c.hash=u),i&&(c.state=i),r&&(c.search="?"+this.buildSearch(r)),c}},{key:"pattern",value:function(e){return this.urlConf[e]}},{key:"_getMatchCompiled",value:function(e,t,n){var r=this.pattern(e),i=""+(t?1:0)+(n?1:0);if(i in this._matchCompileCache||(this._matchCompileCache[i]={}),!(e in this._matchCompileCache[i])){var o=[],a=(0,c.default)(r,o,{end:t,strict:n});this._matchCompileCache[i][e]={re:a,keys:o}}return this._matchCompileCache[i][e]}},{key:"match",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0===a||a,u=this._getMatchCompiled(t,o,s),c=u.re,l=u.keys,f=c.exec(e);if(!f)return null;var d=r(f),p=d[0],h=d.slice(1),m=e===p;return o&&!m?null:{urlName:t,params:l.reduce(function(e,t,n){return e[t.name]=decodeURIComponent(h[n]),e},{})}}},{key:"getAllUrlNames",value:function(){return Object.keys(this.urlConf)}},{key:"getExpectedParams",value:function(e){if(!(e in this._expectedParamsCache)){var t=this.pattern(e),n=c.default.parse(t),r=new Set;n.forEach(function(e){e.name&&r.add(e.name)}),this._expectedParamsCache[e]=Array.from(r)}return this._expectedParamsCache[e]}},{key:"renderMatch",value:function(e,t){return t}}]),e}();t.default=d},686:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return Object.keys(e).filter(function(e){return v.has(e)||e.match(b)}).reduce(function(t,n){return t[n]=e[n],t},{})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),d=r(f),p=n(341),h=r(p),m=n(134),y=r(m),g=n(116),b=/^(data-|on[A-Z])/,v=new Set(["target","style","className","rel","title","children"]),w=function(e){function t(){var e,n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onClick=function(e){var t=r.props,n=t.onClick,i=t.location,o=t.history,a=t.target,s=t.replace,u=t.navigate;n&&n(e),e.defaultPrevented||0!==e.button||a||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),o.replace(c({},i,{state:c({},i.state,{scrollY:window.pageYOffset})})),u(r.props,s))},r.isActive=function(){var e=r.props,t=e.urls,n=e.location,i=e.urlName,o=e.params,a=e.exact,s=e.strict,u=e.isActive;if(!i)return!1;var c=t.match(n.pathname,i,{exact:a,strict:s});return u?u(c,n):c&&o?(0,h.default)(c.params,o):!!c},i=n,a(r,i)}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.urls,r=e.activeClassName,o=e.activeStyle,a=i(e,["history","urls","activeClassName","activeStyle"]),s=!(!r&&!o)&&this.isActive(),l=c({},u(a),{href:t.createHref(n.makeLocation(this.props,!0)),onClick:this.onClick});return s&&(r&&(l.className=(l.className||"")+" "+r),o&&(l.style=c({},l.style,o))),d.default.createElement("a",l)}}]),t}(d.default.PureComponent),k=function(e){function t(){var e,n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.renderWithMiddleware=r.context.router.linkMiddleware.reduceRight(function(e,t){return function(n){return t(n,e)}},function(e){return d.default.createElement(w,e)}),i=n,a(r,i)}return s(t,e),l(t,[{key:"render",value:function(){return this.renderWithMiddleware(this.props)}}]),t}(d.default.PureComponent);k.contextTypes={router:g.RouterContextPropType},k.defaultProps={state:{},params:{},replace:!1},t.default=(0,y.default)(k)},689:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),l=n(134),f=r(l),d=n(116),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.context.router.serverResult;if(e){var t=this.props.urls.makeLocation(this.props),n=t.pathname,r=t.search,i=t.hash;e.redirect=""+n+(r||"")+(i||"")}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.replace;(0,e.navigate)(this.props,t)}},{key:"render",value:function(){return null}}]),t}(c.default.Component);p.contextTypes={router:d.RouterContextPropType},p.defaultProps={replace:!1},t.default=(0,f.default)(p)},690:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(244),f=n(116),d=function(e){function t(){var e,n,o,s;r(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o._listeners=new l.Listeners,o.getChildContext=function(){return{router:o.routerContext}},o.routerContext=a({},o.context.router,{location:o.props.location,match:o.props.match,listen:o._listeners.listen}),s=n,i(o,s)}return o(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.match===this.props.match&&e.location===this.props.location||(this.routerContext.match=e.match,this.routerContext.location=e.location,this._listeners.notify())}},{key:"render",value:function(){return u.Children.only(this.props.children)}}]),t}(c.default.PureComponent);d.contextTypes={router:f.RouterContextPropType},d.childContextTypes={router:f.RouterContextPropType},t.default=d},691:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),l=n(343),f=r(l),d=n(342),p=(r(d),function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement(f.default,{location:this.props.location,routes:u.Children.toArray(this.props.children).filter(function(e){return!!e}).map(function(e){return e.props})})}}]),t}(c.default.PureComponent));p.displayName="Switch",t.default=p},692:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),l=n(134),f=r(l),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.location;t!==e.location&&window.scrollTo(0,t.state&&t.state.scrollY||0)}},{key:"render",value:function(){var e=this.props.children;return e?u.Children.only(e):null}}]),t}(c.default.Component);t.default=(0,f.default)(d)},693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(340);t.default=function(e){return{location:e,replace:function(){throw Error("replace() is not supported on the server")},push:function(){throw Error("push() is not supported on the server")},createHref:r.createPath,listen:function(){return function(){}}}}},700:function(e,t,n){(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var r="undefined"!=typeof window?window:e,i={};(function(e,t){function r(){r=function(){},Hu.Symbol||(Hu.Symbol=Vu)}function i(){r();var e=Hu.Symbol.iterator;e||(e=Hu.Symbol.iterator=Hu.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&Ku(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return o(this)}}),i=function(){}}function o(e){var t=0;return a(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function a(e){return i(),e={next:e},e[Hu.Symbol.iterator]=function(){return this},e}function s(e){i();var t=e[Symbol.iterator];return t?t.call(e):o(e)}function u(e,t){if(t){for(var n=Hu,r=e.split("."),i=0;i<r.length-1;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}r=r[r.length-1],i=n[r],o=t(i),o!=i&&null!=o&&Ku(n,r,{configurable:!0,writable:!0,value:o})}}function c(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise(function(r,i){function o(e){e.done?r(e.value):Promise.resolve(e.value).then(t,n).then(o,i)}o(e.next())})}function l(e){return c(e())}function f(){this.f=!1,this.b=null,this.N=void 0,this.B=1,this.c=this.qa=0,this.h=this.a=null}function d(e){if(e.f)throw new TypeError("Generator is already running");e.f=!0}function p(e,t){e.a={pc:t,wc:!0},e.B=e.qa||e.c}function h(e,t,n){return e.B=n,{value:t}}function m(e){e.qa=0,e.c=2}function y(e){e.B=0,e.qa=0}function g(e){e.qa=0;var t=e.a.pc;return e.a=null,t}function b(e){e.h=[e.a],e.qa=0,e.c=0}function v(e){var t=e.h.splice(0)[0];(t=e.a=e.a||t)?t.wc?e.B=e.qa||e.c:void 0!=t.X&&e.c<t.X?(e.B=t.X,e.a=null):e.B=e.c:e.B=0}function w(e){this.a=new f,this.b=e}function k(e,t){d(e.a);var n=e.a.b;return n?S(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),E(e))}function S(e,t,n,r){try{var i=t.call(e.a.b,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.f=!1,i;var o=i.value}catch(t){return e.a.b=null,p(e.a,t),E(e)}return e.a.b=null,r.call(e.a,o),E(e)}function E(e){for(;e.a.B;)try{var t=e.b(e.a);if(t)return e.a.f=!1,{value:t.value,done:!1}}catch(t){e.a.N=void 0,p(e.a,t)}if(e.a.f=!1,e.a.a){if(t=e.a.a,e.a.a=null,t.wc)throw t.pc;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function _(e){this.next=function(t){return d(e.a),e.a.b?t=S(e,e.a.b.next,t,e.a.g):(e.a.g(t),t=E(e)),t},this.throw=function(t){return d(e.a),e.a.b?t=S(e,e.a.b.throw,t,e.a.g):(p(e.a,t),t=E(e)),t},this.return=function(t){return k(e,t)},i(),this[Symbol.iterator]=function(){return this}}function T(e,t){return _.prototype=e.prototype,new _(new w(t))}function P(e,t){var n=e.split("."),r=Gu;n[0]in r||!r.execScript||r.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)n.length||void 0===t?r=r[i]?r[i]:r[i]={}:r[i]=t}function O(e,t){function n(){}
n.prototype=t.prototype,e.ff=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.df=function(e,n){return t.prototype[n].apply(e,Array.prototype.slice.call(arguments,2))}}function C(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function x(e,t,n){var r=Math.pow(e.c,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.b+=t)}function N(e){return e.a/(1-Math.pow(e.c,e.b))}function I(){this.b=new C(2),this.c=new C(5),this.a=0}function R(){}function j(){}function A(e){var t;e instanceof A?(F(this,e.ha),this.Ga=e.Ga,this.ka=e.ka,D(this,e.Sa),this.ba=e.ba,M(this,K(e.a)),this.Aa=e.Aa):e&&(t=String(e).match(Wu))?(F(this,t[1]||"",!0),this.Ga=L(t[2]||""),this.ka=L(t[3]||"",!0),D(this,t[4]),this.ba=L(t[5]||"",!0),M(this,t[6]||"",!0),this.Aa=L(t[7]||"")):this.a=new B(null)}function F(e,t,n){e.ha=n?L(t,!0):t,e.ha&&(e.ha=e.ha.replace(/:$/,""))}function D(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Sa=t}else e.Sa=null}function M(e,t,n){t instanceof B?e.a=t:(n||(t=U(t,zu)),e.a=new B(t))}function L(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function U(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,q),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function q(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function B(e){this.b=e||null}function K(e){var t=new B;if(t.b=e.b,e.a){var n,r={};for(n in e.a)r[n]=e.a[n].concat();t.a=r,t.c=e.c}return t}function H(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n}function V(e,t){var n=W();this.i=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=t||!1)&&(this.a=1)}function G(t){if(t.a>=t.i){if(!t.c)return Promise.reject();t.a=1,t.b=t.f}var n=new H;return t.a?(e.setTimeout(n.resolve,t.b*(1+(2*Math.random()-1)*t.h)),t.b*=t.g):n.resolve(),t.a++,n}function W(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}}function X(e,t,n){this.severity=e,this.category=t,this.code=n,this.data=Array.prototype.slice.call(arguments,3),this.handled=!1}function Y(e,t){this.promise=e,this.b=t,this.a=!1}function Q(e){return new Y(Promise.reject(e),function(){return Promise.resolve()})}function z(){var e=Promise.reject(new X(2,7,7001));return e.catch(function(){}),new Y(e,function(){return Promise.resolve()})}function $(e){return new Y(Promise.resolve(e),function(){return Promise.resolve()})}function J(e){return new Y(e,function(){return e.catch(function(){})})}function Z(e){return new Y(Promise.all(e.map(function(e){return e.promise})),function(){return Promise.all(e.map(function(e){return e.abort()}))})}function ee(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then(function(){}).catch(function(){})})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}function te(e,t){for(var n=[],r=0;r<e.length;++r){for(var i=!1,o=0;o<n.length&&!(i=t?t(e[r],n[o]):e[r]===n[o]);++o);i||n.push(e[r])}return n}function ne(e,t,n){for(var r=0;r<e.length;++r)if(n(e[r],t))return r;return-1}function re(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function ie(e,t){var n=0;return e.forEach(function(e){n+=t(e)?1:0}),n}function oe(e,t,r,i,o){var a,s=o in i,u=!0;for(a in t){var c=o+"."+a,l=s?i[o]:r[a];s||a in e?void 0===t[a]?void 0===l||s?delete e[a]:e[a]=l:l.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=l),c=oe(e[a],t[a],l,i,c),u=u&&c):n(t[a])!=n(l)||null==t[a]||t[a].constructor!=l.constructor?u=!1:e[a]=t[a]:u=!1}return u}function ae(e){function t(e){switch(n(e)){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return e;default:if(!e)return e;if(0<=r.indexOf(e))return null;var i=e.constructor==Array;if(e.constructor!=Object&&!i)return null;r.push(e);var o,a=i?[]:{};for(o in e)a[o]=t(e[o]);return i&&(a.length=e.length),a}}var r=[];return t(e)}function se(e,t){function n(){return Promise.all(e.map(function(e){return e.destroy()}))}return Promise.resolve(t()).then(function(e){return n().then(function(){return e})},function(e){return n().then(function(){throw e})})}function ue(){this.a=[]}function ce(e,t){e.a.push(t.finally(function(){re(e.a,t)}))}function le(e){this.c=!1,this.g=new ue,this.a=[],this.b=[],this.f=e||null}function fe(e,t,n){n=n||3;var r=Ju[e];(!r||n>=r.priority)&&(Ju[e]={priority:n,me:t})}function de(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t}}function pe(e){return e.then=function(t,n){return R("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5."),e.promise.then(t,n)},e.catch=function(t){return R("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5."),e.promise.catch(t)},e}function he(e,t,n){var r=$(void 0);return e.a.forEach(function(e){r=r.V(function(){return e(t,n)})}),r.V(void 0,function(e){if(e&&7001==e.code)throw e;throw new X(2,1,1006,e)})}function me(e,t,n,r,i,o){var a=new A(n.uris[i]),s=a.ha;s||(s=location.protocol,s=s.slice(0,-1),F(a,s),n.uris[i]=a.toString());var u=(s=Ju[s])?s.me:null;if(!u)return Q(new X(2,1,1e3,a));var c;return J(G(r)).V(function(){if(e.c)return z();c=Date.now();var r=u(n.uris[i],n,t);return void 0==r.promise&&(R("The scheme plugin interface has changed!  Please update your scheme plugins to the new interface to add support for abort().  Support for the old plugin interface will be removed in v2.5."),r=J(r)),r}).V(function(e){return void 0==e.timeMs&&(e.timeMs=Date.now()-c),e},function(a){if(a&&7001==a.code)throw a;if(e.c)return z();if(a&&1==a.severity)return i=(i+1)%n.uris.length,me(e,t,n,r,i,a);throw a||o})}function ye(e,t,n){var r=$(void 0);return e.b.forEach(function(e){r=r.V(function(){return e(t,n)})}),r.V(function(){return n},function(e){if(e&&7001==e.code)throw e;var t=2;throw e instanceof X&&(t=e.severity),new X(t,1,1007,e)})}function ge(){this.a={}}function be(){this.a=new ge}function ve(e,t,n,r){e.a&&(t=new Se(t,n,r),e.a.push(n,t))}function we(e,t,n,r){ve(e,t,n,function(e){this.na(t,n),r(e)}.bind(e))}function ke(e){if(e.a){var t,n=e.a,r=[];for(t in n.a)r.push.apply(r,n.a[t]);for(n=0;n<r.length;++n)r[n].na();e.a.a={}}}function Se(e,t,n){this.target=e,this.type=t,this.a=n,this.target.addEventListener(t,n,!1)}function Ee(t,n){var r,i=n||{};for(r in i)this[r]=i[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function _e(e,t){return e.reduce(function(e,t,n){return t.catch(e.bind(null,n))}.bind(null,t),Promise.reject())}function Te(e,t){return e.concat(t)}function Pe(){}function Oe(e){return null!=e}function Ce(e,t,n){return n.indexOf(e)==t}function xe(e,t){if(0==t.length)return e;var n=t.map(function(e){return new A(e)});return e.map(function(e){return new A(e)}).map(function(e){return n.map(e.resolve.bind(e))}).reduce(Te,[]).map(function(e){return e.toString()})}function Ne(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[]}}function Ie(e){return!e||0==Object.keys(e).length}function Re(e){return Object.keys(e).map(function(t){return e[t]})}function je(e,t){return Object.keys(e).every(function(n){return t(n,e[n])})}function Ae(e,t){Object.keys(e).forEach(function(n){t(n,e[n])})}function Fe(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function De(e){if(!e)return"";e=new Uint8Array(e),239==e[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=escape(qe(e));try{return decodeURIComponent(e)}catch(e){throw new X(2,2,2004)}}function Me(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new X(2,2,2004);if(e instanceof ArrayBuffer)var r=e;else n=new Uint8Array(e.byteLength),n.set(new Uint8Array(e)),r=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),r=new DataView(r);for(var i=0;i<e;i++)n[i]=r.getUint16(2*i,t);return qe(n)}function Le(e){var t=new Uint8Array(e);if(239==t[0]&&187==t[1]&&191==t[2])return De(t);if(254==t[0]&&255==t[1])return Me(t.subarray(2),!1);if(255==t[0]&&254==t[1])return Me(t.subarray(2),!0);var n=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,t);if(0==t[0]&&0==t[2])return Me(e,!1);if(0==t[1]&&0==t[3])return Me(e,!0);if(n(0)&&n(1)&&n(2)&&n(3))return De(e);throw new X(2,2,2003)}function Ue(e){e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}function qe(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t}function Be(e){this.a=null,this.b=function(){this.a=null,e()}.bind(this)}function Ke(e){e.cancel(),e.a=setTimeout(e.b,500)}function He(e,t){e.cancel();var n=function(){this.b(),this.a=setTimeout(n,1e3*t)}.bind(e);e.a=setTimeout(n,1e3*t)}function Ve(t,n){var r=void 0==n||n,i=e.btoa(qe(t)).replace(/\+/g,"-").replace(/\//g,"_");return r?i:i.replace(/=*$/,"")}function Ge(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function We(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n}function Xe(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function Ye(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0}function Qe(){for(var e=0,t=0;t<arguments.length;++t)e+=arguments[t].length;e=new Uint8Array(e);for(var n=t=0;n<arguments.length;++n)e.set(arguments[n],t),t+=arguments[n].length;return e}function ze(e){this.o=e,this.l=this.j=this.u=null,this.L=!1,this.b=null,this.g=new be,this.a=[],this.m=[],this.i=new H,this.f=null,this.h=function(t){this.i.reject(t),e.onError(t)}.bind(this),this.A={},this.H=new Be(this.oe.bind(this)),this.Y=this.c=!1,this.J=[],this.T=!1,this.w=new Be(this.ne.bind(this)),He(this.w,1),this.i.catch(function(){})}function $e(e,t){return Promise.all(t.map(function(e){return st(this,e).then(function(e){if(e){for(var t=new H,n=0;n<this.a.length;n++)if(this.a[n].ia==e){this.a[n].oa=t;break}return Promise.all([e.remove(),t])}}.bind(this))}.bind(e)))}function Je(e){var t=e.b?e.b.initData:[];return t.forEach(function(e){ut(this,e.initDataType,e.initData)}.bind(e)),e.m.forEach(function(e){st(this,e)}.bind(e)),t.length||e.m.length||e.i.resolve(),e.i}function Ze(e){return e.a.map(function(e){return e.ia.sessionId})}function et(t,n,r,i,o){var a=rt(t),s=it(t,n);n.periods.forEach(function(t){t.variants.forEach(function(t){a&&(t.drmInfos=[a]),s&&(t.drmInfos=s),t.drmInfos.forEach(function(n){nt(this,n),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==n.keySystem&&(n.keySystem="com.chromecast.playready");var a=i[n.keySystem];a||(a={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:r?"required":"optional",sessionTypes:[r?"persistent-license":"temporary"],label:n.keySystem,drmInfos:[]},i[n.keySystem]=a,o.push(n.keySystem)),a.drmInfos.push(n),n.distinctiveIdentifierRequired&&(a.distinctiveIdentifier="required"),n.persistentStateRequired&&(a.persistentState="required");var s=[];t.video&&s.push(t.video),t.audio&&s.push(t.audio),s.forEach(function(e){("video"==e.type?a.videoCapabilities:a.audioCapabilities).push({robustness:("video"==e.type?n.videoRobustness:n.audioRobustness)||"",contentType:Fe(e.mimeType,e.codecs)})}.bind(this))}.bind(this))}.bind(this))}.bind(t))}function tt(e,t,n,r){if(1==n.length&&""==n[0])return Promise.reject(new X(2,6,6e3));var i=new H,o=i;return[!0,!1].forEach(function(e){n.forEach(function(n){var r=t[n];r.drmInfos.some(function(e){return!!e.licenseServerUri})==e&&(0==r.audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities,o=o.catch(function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(n,[r])}.bind(this)))}.bind(this))}.bind(e)),o=o.catch(function(){return Promise.reject(new X(2,6,6001))}),o=o.then(function(e){if(this.c)return Promise.reject();var n=0<=navigator.userAgent.indexOf("Edge/"),r=e.getConfiguration();return this.u=(r.audioCapabilities||[]).concat(r.videoCapabilities||[]).map(function(e){return e.contentType}),n&&(this.u=null),n=t[e.keySystem],ot(this,e.keySystem,n,n.drmInfos),this.b.licenseServerUri?e.createMediaKeys():Promise.reject(new X(2,6,6012))}.bind(e)).then(function(e){if(this.c)return Promise.reject();this.j=e,this.L=!0}.bind(e)).catch(function(e){return this.c?Promise.resolve():(this.u=this.b=null,e instanceof X?Promise.reject(e):Promise.reject(new X(2,6,6002,e.message)))}.bind(e)),r||(o=o.catch(function(){})),i.reject(),o}function nt(e,t){var n=t.keySystem;if(n){if(!t.licenseServerUri){var r=e.f.servers[n];r&&(t.licenseServerUri=r)}t.keyIds||(t.keyIds=[]),(n=e.f.advanced[n])&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=n.persistentStateRequired),t.videoRobustness||(t.videoRobustness=n.videoRobustness),t.audioRobustness||(t.audioRobustness=n.audioRobustness),t.serverCertificate||(t.serverCertificate=n.serverCertificate))}}function rt(t){if(Ie(t.f.clearKeys))return null;var n,r=[],i=[];for(n in t.f.clearKeys){var o=t.f.clearKeys[n],a=We(n);o=We(o),a={kty:"oct",kid:Ve(a,!1),k:Ve(o,!1)},r.push(a),i.push(a.kid)}return t=JSON.stringify({keys:r}),i=JSON.stringify({kids:i}),i=[{initData:new Uint8Array(Ue(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}function it(e,t){var n=e.f,r=Object.keys(n.servers);return!r.length||t.periods.some(function(e){return e.variants.some(function(e){return e.drmInfos.length})})?null:r.map(function(e){return{keySystem:e,licenseServerUri:n.servers[e],distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]}})}function ot(e,t,n,r){var i=[],o=[],a=[],s=[];at(r,i,o,a,s),e.b={keySystem:t,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:o[0],initData:a,keyIds:s}}function at(e,t,n,r,i){function o(e,t){return!(!e.keyId||e.keyId!=t.keyId)||e.initDataType==t.initDataType&&Ye(e.initData,t.initData)}e.forEach(function(e){if(-1==t.indexOf(e.licenseServerUri)&&t.push(e.licenseServerUri),e.serverCertificate&&-1==ne(n,e.serverCertificate,Ye)&&n.push(e.serverCertificate),e.initData&&e.initData.forEach(function(e){-1==ne(r,e,o)&&r.push(e)}),e.keyIds)for(var a=0;a<e.keyIds.length;++a)-1==i.indexOf(e.keyIds[a])&&i.push(e.keyIds[a])})}function st(e,t){try{var n=e.j.createSession("persistent-license")}catch(t){var r=new X(2,6,6005,t.message);return e.h(r),Promise.reject(r)}ve(e.g,n,"message",e.Gc.bind(e)),ve(e.g,n,"keystatuseschange",e.Cc.bind(e));var i={initData:null,ia:n,loaded:!1,Ub:1/0,oa:null};return e.a.push(i),n.load(t).then(function(e){if(!this.c){if(e)return i.loaded=!0,this.a.every(function(e){return e.loaded})&&this.i.resolve(),n;this.a.splice(this.a.indexOf(i),1),this.h(new X(2,6,6013))}}.bind(e),function(e){this.c||(this.a.splice(this.a.indexOf(i),1),this.h(new X(2,6,6005,e.message)))}.bind(e))}function ut(e,t,n){try{var r=e.Y?e.j.createSession("persistent-license"):e.j.createSession()}catch(t){return void e.h(new X(2,6,6005,t.message))}ve(e.g,r,"message",e.Gc.bind(e)),ve(e.g,r,"keystatuseschange",e.Cc.bind(e)),e.a.push({initData:n,ia:r,loaded:!1,Ub:1/0,oa:null}),r.generateRequest(t,n.buffer).catch(function(e){if(!this.c){for(var t=0;t<this.a.length;++t)if(this.a[t].ia==r){this.a.splice(t,1);break}this.h(new X(2,6,6006,e.message))}}.bind(e))}function ct(e,t){for(var n,r=t.target,i=0;i<e.a.length;i++)if(e.a[i].ia==r){n=e.a[i];break}i=de([e.b.licenseServerUri],e.f.retryParameters),i.body=t.message,i.method="POST","com.microsoft.playready"!=e.b.keySystem&&"com.chromecast.playready"!=e.b.keySystem||lt(i),e.o.Oa.request(2,i).promise.then(function(e){return this.c?Promise.reject():r.update(e.data).then(function(){this.o.onEvent(new Ee("drmsessionupdate")),n&&(n.oa&&n.oa.resolve(),setTimeout(function(){n.loaded=!0,this.a.every(function(e){return e.loaded})&&this.i.resolve()}.bind(this),5e3))}.bind(this))}.bind(e),function(e){if(this.c)return Promise.resolve();e=new X(2,6,6007,e),this.h(e),n&&n.oa&&n.oa.reject(e)}.bind(e)).catch(function(e){if(this.c)return Promise.resolve();e=new X(2,6,6008,e.message),this.h(e),n&&n.oa&&n.oa.reject(e)}.bind(e))}function lt(e){var t=Me(e.body,!0,!0);if(-1==t.indexOf("PlayReadyKeyMessage"))e.headers["Content-Type"]="text/xml; charset=utf-8";else{t=(new DOMParser).parseFromString(t,"application/xml");for(var n=t.getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)e.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;e.body=Ge(t.querySelector("Challenge").textContent).buffer}}function ft(){var e=[],t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n=[{videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],r={};return"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(t){var i=navigator.requestMediaKeySystemAccess(t,n).then(function(e){var n=e.getConfiguration().sessionTypes;return n=!!n&&0<=n.indexOf("persistent-license"),0<=navigator.userAgent.indexOf("Tizen 3")&&(n=!1),r[t]={persistentState:n},e.createMediaKeys()}).catch(function(){r[t]=null});e.push(i)}),Promise.all(e).then(function(){return r})}function dt(e,t){var n=e.keySystem();return 0==t.drmInfos.length||t.drmInfos.some(function(e){return e.keySystem==n})}function pt(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem==t[i].keySystem){var o=e[r];i=t[i];var a=[];a=a.concat(o.initData||[]),a=a.concat(i.initData||[]);var s=[];s=s.concat(o.keyIds),s=s.concat(i.keyIds),n.push({keySystem:o.keySystem,licenseServerUri:o.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:o.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:o.persistentStateRequired||i.persistentStateRequired,videoRobustness:o.videoRobustness||i.videoRobustness,audioRobustness:o.audioRobustness||i.audioRobustness,serverCertificate:o.serverCertificate||i.serverCertificate,initData:a,keyIds:s});break}return n}function ht(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function mt(e,t,n){return n=void 0===n?0:n,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+n>=e.start(0)}function yt(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,r=e.length-1;0<=r&&e.end(r)>t;--r)n+=e.end(r)-Math.max(e.start(r),t);return n}function gt(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function bt(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new vt,this.position=null,this.positionAlign=tc,this.size=100,this.textAlign=nc,this.writingDirection=ac,this.lineInterpretation=sc,this.line=null,this.lineHeight="",this.lineAlign=uc,this.displayAlign=ic,this.fontSize=this.backgroundColor=this.color="",this.fontWeight=lc,this.fontStyle=fc,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}function vt(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=pc,this.scroll=hc}function wt(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function kt(t,n){return!(!e.muxjs||"mp2t"!=t.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(St(n,t)):MediaSource.isTypeSupported(St("audio",t))||MediaSource.isTypeSupported(St("video",t)))}function St(e,t){var n=t.replace("mp2t","mp4");"audio"==e&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",o=r[1],a=Number(r[2]);i=("66"==o?i+"4200":"77"==o?i+"4d00":i+"6400")+(a>>4).toString(16),i+=(15&a).toString(16),n=n.replace(r[0],i)}return n}function Et(e,t){e.f=!0,e.b=new H,e.g=[],e.c=[];var n=new Uint8Array(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new X(2,3,3018)),e.b}function _t(e){this.f=null,this.c=e,this.i=this.g=0,this.h=1/0,this.b=this.a=null}function Tt(e,t,n,r){return Promise.resolve().then(function(){if(this.f&&this.c)if(null==n||null==r)this.f.parseInit(new Uint8Array(t));else{var e={periodStart:this.g,segmentStart:this.g+n,segmentEnd:this.g+r};e=this.f.parseMedia(new Uint8Array(t),e).filter(function(e){return e.startTime>=this.i&&e.startTime<this.h}.bind(this)),this.c.append(e),null==this.a&&(this.a=Math.max(n+this.g,this.i)),this.b=Math.min(r+this.g,this.h)}}.bind(e))}function Pt(t){this.f=t,this.o=null,this.b={},this.a=null,this.c={},this.i=new be,this.m=!1,this.h={},this.l=!1,t=this.j=new H;var n=new MediaSource;we(this.i,n,"sourceopen",t.resolve),this.f.src=e.URL.createObjectURL(n),this.g=n}function Ot(){var e={};return'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").forEach(function(t){e[t]=!!mc[t]||MediaSource.isTypeSupported(t)||kt(t);var n=t.split(";")[0];e[n]=e[n]||e[t]}),e}function Ct(e,t){e.a||(e.a=new _t(e.o)),e.a.f=new mc[t]}function xt(e,t){if("text"==t)var n=e.a.a;else n=Rt(e,t),n=!n||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function Nt(e,t){return"text"==t?e.a.b:ht(Rt(e,t))}function It(e,t,n){return"text"==t?(e=e.a,null==e.b||e.b<n?0:e.b-Math.max(n,e.a)):(e=Rt(e,t),yt(e,n))}function Rt(e,t){try{return e.b[t].buffered}catch(e){return null}}function jt(e,t,n,r,i){return"text"==t?Tt(e.a,n,r,i):e.h[t]?Et(e.h[t],n).then(function(e){return this.a||Ct(this,"text/vtt"),this.l&&this.a.kc(e.cues),Dt(this,t,this.Vc.bind(this,t,e.data.buffer))}.bind(e)):Dt(e,t,e.Vc.bind(e,t,n))}function At(e,t){return"text"==t?e.a?e.a.remove(0,1/0):Promise.resolve():Dt(e,t,e.Wc.bind(e,t,0,e.g.duration))}function Ft(e,t,n,r,i){return"text"==t?(e.a.g=n,e=e.a,e.i=r,e.h=i,Promise.resolve()):Promise.all([Dt(e,t,e.bd.bind(e,t)),Dt(e,t,e.Ge.bind(e,t,n)),Dt(e,t,e.De.bind(e,t,r,i))])}function Dt(e,t,n){if(e.m)return Promise.reject();if(n={start:n,p:new H},e.c[t].push(n),1==e.c[t].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new X(2,3,3017,t)):n.p.reject(new X(2,3,3015,r)),Lt(e,t)}return n.p}function Mt(e,t){if(e.m)return Promise.reject();var n,r=[];for(n in e.b){var i=new H,o={start:function(e){e.resolve()}.bind(null,i),p:i};e.c[n].push(o),r.push(i),1==e.c[n].length&&o.start()}return Promise.all(r).then(function(){try{t()}catch(t){var e=Promise.reject(new X(2,3,3015,t))}for(var n in this.b)Lt(this,n);return e}.bind(e),function(){return Promise.reject()}.bind(e))}function Lt(e,t){e.c[t].shift();var n=e.c[t][0];if(n)try{n.start()}catch(r){n.p.reject(new X(2,3,3015,r)),Lt(e,t)}}function Ut(e,t,n){return n==t||e>=yc&&n==t.split("-")[0]||e>=gc&&n.split("-")[0]==t.split("-")[0]}function qt(e){e=e.toLowerCase().split("-");var t=bc[e[0]];return t&&(e[0]=t),e.join("-")}function Bt(e,t,n){var r=e.video;return!(r&&(r.width<t.minWidth||r.width>t.maxWidth||r.width>n.width||r.height<t.minHeight||r.height>t.maxHeight||r.height>n.height||r.width*r.height<t.minPixels||r.width*r.height>t.maxPixels)||e.bandwidth<t.minBandwidth||e.bandwidth>t.maxBandwidth)}function Kt(e,t,n){var r=!1;return e.variants.forEach(function(e){var i=e.allowedByApplication;e.allowedByApplication=Bt(e,t,n),i!=e.allowedByApplication&&(r=!0)}),r}function Ht(e,t,n,r){r.variants=r.variants.filter(function(r){return!(e&&e.L&&!dt(e,r))&&(Vt(r.audio,e,t)&&Vt(r.video,e,n))}),r.textStreams=r.textStreams.filter(function(e){return!!mc[Fe(e.mimeType,e.codecs)]})}function Vt(e,t,n){if(!e)return!0;var r=null;t&&t.L&&(r=t.u),t=Fe(e.mimeType,e.codecs);var i,o=Fe(e.mimeType,e.codecs),a=e.mimeType;for(i in ec){var s=e[i],u=ec[i];s&&(a+="; "+u+'="'+s+'"')}return!(!(mc[o]||MediaSource.isTypeSupported(a)||kt(o,e.type))||r&&e.encrypted&&0>r.indexOf(t)||n&&(e.mimeType!=n.mimeType||e.codecs.split(".")[0]!=n.codecs.split(".")[0]))}function Gt(e){var t=e.audio,n=e.video,r=t?t.codecs:null,i=n?n.codecs:null,o=[];i&&o.push(i),r&&o.push(r);var a=[];n&&a.push(n.mimeType),t&&a.push(t.mimeType),a=a[0]||null;var s=[];t&&s.push(t.kind),n&&s.push(n.kind),s=s[0]||null;var u=[];return t&&u.push.apply(u,t.roles),n&&u.push.apply(u,n.roles),u=te(u),e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:a,codecs:o.join(", "),audioCodec:r,videoCodec:i,primary:e.primary,roles:u,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null},n&&(e.videoId=n.id,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.channelsCount=t.channelsCount,e.audioBandwidth=t.bandwidth||null,e.label=t.label),e}function Wt(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null}}function Xt(e){var t=[],n=Jt(e.variants);return e=e.textStreams,n.forEach(function(e){t.push(Gt(e))}),e.forEach(function(e){t.push(Wt(e))}),t}function Yt(e,t,n){return Jt(e.variants).map(function(e){var r=Gt(e);return e.video&&e.audio?r.active=n==e.video.id&&t==e.audio.id:e.video?r.active=n==e.video.id:e.audio&&(r.active=t==e.audio.id),r})}function Qt(e,t){return e.textStreams.map(function(e){var n=Wt(e);return n.active=t==e.id,n})}function zt(e,t){for(var n=0;n<e.variants.length;n++)if(e.variants[n].id==t.id)return e.variants[n];return null}function $t(e){return e.allowedByApplication&&e.allowedByKeySystem}function Jt(e){return e.filter(function(e){return $t(e)})}function Zt(e,t,n,r,i){return e=en(e,t,n,i),tn(e,r)}function en(e,t,n,r){var i=Jt(e),o=i;e=i.filter(function(e){return e.primary}),e.length&&(o=e);var a=o.length?o[0].language:"";if(o=o.filter(function(e){return e.language==a}),t){var s=qt(t);[gc,yc,0].forEach(function(e){var t=!1;i.forEach(function(n){s=qt(s);var i=qt(n.language);Ut(e,s,i)&&(t?o.push(n):(o=[n],t=!0),r&&(r.audio=!0))})})}return n&&(t=rn(o,n),t.length)?t:(t=o.map(function(e){return(e.audio?e.audio.roles:[]).concat(e.video?e.video.roles:[])}).reduce(Te,[]),t.length?rn(o,t[0]):o)}function tn(e,t){var n=e.filter(function(e){return e.audio&&e.audio.channelsCount}).reduce(function(e,t){var n=t.audio.channelsCount;return e[n]?e[n].push(t):e[n]=[t],e},{}),r=Object.keys(n);if(0==r.length)return e;var i=r.filter(function(e){return e<=t});return i.length?n[Math.max.apply(null,i)]:n[Math.min.apply(null,r)]}function nn(e,t,n,r){var i=e,o=e.filter(function(e){return e.primary});o.length&&(i=o);var a=i.length?i[0].language:"";if(i=i.filter(function(e){return e.language==a}),t){var s=qt(t);[gc,yc,0].forEach(function(t){var n=!1;e.forEach(function(e){var o=qt(e.language);Ut(t,s,o)&&(n?i.push(e):(i=[e],n=!0),r&&(r.text=!0))})})}if(n){if(t=on(i,n),t.length)return t}else if(t=i.filter(function(e){return 0==e.roles.length}),t.length)return t;return t=i.map(function(e){return e.roles}).reduce(Te,[]),t.length?on(i,t[0]):i}function rn(e,t){return e.filter(function(e){return e.audio&&0<=e.audio.roles.indexOf(t)||e.video&&0<=e.video.roles.indexOf(t)})}function on(e,t){return e.filter(function(e){return 0<=e.roles.indexOf(t)})}function an(e,t,n){for(var r=0;r<n.length;r++)if(n[r].audio==e&&n[r].video==t)return n[r];return null}function sn(e,t,n){function r(e,t){return null==e?null==t:t.id==e}for(var i=0;i<n.length;i++)if(r(e,n[i].audio)&&r(t,n[i].video))return n[i];return null}function un(e,t){for(var n=e.periods.length-1;0<n;--n)if(t+Zu>=e.periods[n].startTime)return n;return 0}function cn(e,t){for(var n=0;n<e.periods.length;++n){var r=e.periods[n];if("text"==t.type){for(var i=0;i<r.textStreams.length;++i)if(r.textStreams[i]==t)return n}else for(i=0;i<r.variants.length;++i){var o=r.variants[i];if(o.audio==t||o.video==t||o.video&&o.video.trickModeVideo==t)return n}}return-1}function ln(){this.h=null,this.f=!1,this.b=new I,this.c=[],this.i=!1,this.a=this.g=null}function fn(e,t){return e&&(t=t.filter(function(t){return Bt(t,e,{width:1/0,height:1/0})})),t.sort(function(e,t){return e.bandwidth-t.bandwidth})}function dn(e){return JSON.stringify(e,function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof Ee){var r,i={};for(r in t){var o=t[r];o&&"object"==n(o)?"detail"==r&&(i[r]=o):r in Event||(i[r]=o)}return i}if(t instanceof TimeRanges)for(i={__type__:"TimeRanges",length:t.length,start:[],end:[]},r=0;r<t.length;++r)i.start.push(t.start(r)),i.end.push(t.end(r));else i="number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return i}})}function pn(e){return JSON.parse(e,function(e,t){return"NaN"==t?NaN:"-Infinity"==t?-1/0:"Infinity"==t?1/0:t&&"object"==n(t)&&"TimeRanges"==t.__type__?hn(t):t})}function hn(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}function mn(e,t,n,r,i,o){this.J=e,this.g=t,this.L=n,this.j=!1,this.A=r,this.H=i,this.u=o,this.b=this.h=!1,this.w="",this.i=null,this.l=this.Ac.bind(this),this.m=this.Pd.bind(this),this.a={video:{},player:{}},this.o=0,this.c={},this.f=null}function yn(e){var t=Ic;t.removeUpdateListener(e.l),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.m)}function gn(e){for(var t in e.c){var n=e.c[t];delete e.c[t],n.reject(new X(1,7,7e3))}}function bn(e){e=dn(e),Ic.sendMessage("urn:x-cast:com.google.shaka.v2",e,function(){},j)}function vn(){this.Cb=new ge,this.lb=this}function wn(e,t,n){vn.call(this),this.c=e,this.b=t,this.i=this.g=this.f=this.j=this.h=null,this.a=new mn(n,this.Le.bind(this),this.Me.bind(this),this.Ne.bind(this),this.Oe.bind(this),this.rc.bind(this)),kn(this)}function kn(e){e.a.init(),e.i=new be,vc.forEach(function(e){ve(this.i,this.c,e,this.$e.bind(this))}.bind(e)),
Ec.forEach(function(e){ve(this.i,this.b,e,this.le.bind(this))}.bind(e)),e.h={};for(var t in e.c)Object.defineProperty(e.h,t,{configurable:!1,enumerable:!0,get:e.Ze.bind(e,t),set:e.af.bind(e,t)});e.j={};for(var n in e.b)Object.defineProperty(e.j,n,{configurable:!1,enumerable:!0,get:e.ke.bind(e,n)});e.f=new vn,e.f.lb=e.h,e.g=new vn,e.g.lb=e.j}function Sn(e,t,n,r){vn.call(this),this.a=e,this.b=t,this.c=new be,this.u={video:e,player:t},this.w=n||function(){},this.A=r||function(e){return e},this.o=!1,this.h=!0,this.g=0,this.m=!1,this.j=!0,this.l=this.i=this.f=null,En(this)}function En(t){var n=cast.receiver.CastReceiverManager.getInstance();n.onSenderConnected=t.Fc.bind(t),n.onSenderDisconnected=t.Fc.bind(t),n.onSystemVolumeChanged=t.kd.bind(t),t.i=n.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.i.onMessage=t.Kd.bind(t),t.f=n.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.f.onMessage=t.Zd.bind(t),n.start(),vc.forEach(function(e){ve(this.c,this.a,e,this.Jc.bind(this,"video"))}.bind(t)),Ec.forEach(function(e){ve(this.c,this.b,e,this.Jc.bind(this,"player"))}.bind(t)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.b.bc(3840,2160):t.b.bc(1920,1080),ve(t.c,t.a,"loadeddata",function(){this.m=!0}.bind(t)),ve(t.c,t.b,"loading",function(){this.h=!1,_n(this)}.bind(t)),ve(t.c,t.a,"playing",function(){this.h=!1,_n(this)}.bind(t)),ve(t.c,t.a,"pause",function(){_n(this)}.bind(t)),ve(t.c,t.b,"unloading",function(){this.h=!0,_n(this)}.bind(t)),ve(t.c,t.a,"ended",function(){e.setTimeout(function(){this.a&&this.a.ended&&(this.h=!0,_n(this))}.bind(this),5e3)}.bind(t))}function _n(e){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new Ee("caststatuschanged")),Pn(this)||xn(this,0))}.bind(e))}function Tn(e,t,n){for(var r in t.player)e.b[r](t.player[r]);e.w(n),n=Promise.resolve();var i=e.a.autoplay;t.manifest&&(e.a.autoplay=!1,n=e.b.load(t.manifest,t.startTime)),n.then(function(){if(e.b){for(var n in t.video)e.a[n]=t.video[n];for(var r in t.playerAfterLoad)e.b[r](t.playerAfterLoad[r]);e.a.autoplay=i,t.manifest&&(e.a.play(),xn(e,0))}},function(t){e.b.dispatchEvent(new Ee("error",{detail:t}))})}function Pn(e){return!(!e.j||!e.a.duration&&!e.b.P())&&(On(e),e.j=!1,!0)}function On(e){xn(e,0,{contentId:e.b.Jb(),streamType:e.b.P()?"LIVE":"BUFFERED",duration:e.a.duration,contentType:""})}function Cn(e,t,n,r){e.o&&(e=dn(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function xn(e,t,n){var r=e.a.playbackRate,i=Rc;i=e.h?i.IDLE:e.b.vc()?i.Xc:e.a.paused?i.Zc:i.$c,r={mediaSessionId:0,playbackRate:r,playerState:i,currentTime:e.a.currentTime,supportedMediaCommands:15,volume:{level:e.a.volume,muted:e.a.muted}},n&&(r.media=n),Cn(e,{requestId:t,type:"MEDIA_STATUS",status:[r]},e.i)}function Nn(e,t){var n=In(e,t);return 1!=n.length?null:n[0]}function In(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return e instanceof Element&&e.tagName==t})}function Rn(e){return Array.prototype.filter.call(e.childNodes,function(e){return e instanceof Element&&"pssh"==e.localName&&"urn:mpeg:cenc:2013"==e.namespaceURI})}function jn(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function An(e){return Array.prototype.every.call(e.childNodes,function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE})?e.textContent.trim():null}function Fn(e,t,n,r){var i=null;return e=e.getAttribute(t),null!=e&&(i=n(e)),null==i?void 0!=r?r:null:i}function Dn(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function Mn(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function Ln(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function Un(e){return e=Number(e),0==e%1?e:null}function qn(e){return e=Number(e),0==e%1&&0<e?e:null}function Bn(e){return e=Number(e),0==e%1&&0<=e?e:null}function Kn(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1]/t[2]):Number(e),isNaN(e)?null:e}function Hn(e,t,n){e=Wn(e);var r=null,i=[],o=[],a=e.map(function(e){return e.keyId}).filter(Oe);if(a.length&&1<a.filter(Ce).length)throw new X(2,4,4010);n||(o=e.filter(function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Pc||(r=e.init||r,!1)}),o.length&&(i=Gn(r,t,o),0==i.length&&(i=[Ne("",r)]))),!e.length||!n&&o.length||(i=Re(jc).filter(function(e){return"org.w3.clearkey"!=e}).map(function(e){return Ne(e,r)}));var s=a[0]||null;return s&&i.forEach(function(e){e.initData.forEach(function(e){e.keyId=s})}),{lc:s,ef:r,drmInfos:i,qc:!0}}function Vn(e,t,n,r){var i=Hn(e,t,r);if(n.qc)e=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,t=0==i.drmInfos.length,(0==n.drmInfos.length||e&&!t)&&(n.drmInfos=i.drmInfos),n.qc=!1;else if(0<i.drmInfos.length&&(n.drmInfos=n.drmInfos.filter(function(e){return i.drmInfos.some(function(t){return t.keySystem==e.keySystem})}),0==n.drmInfos.length))throw new X(2,4,4008);return i.lc||n.lc}function Gn(e,t,n){return n.map(function(n){var r=jc[n.Pc];return r?[Ne(r,n.init||e)]:t(n.node)||[]}).reduce(Te,[])}function Wn(e){return e.map(function(e){var t=e.getAttribute("schemeIdUri"),n=jn(e,"urn:mpeg:cenc:2013","default_KID"),r=Rn(e).map(An);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),0<=n.indexOf(" ")))throw new X(2,4,4009);var i=[];try{i=r.map(function(e){return{initDataType:"cenc",initData:Ge(e),keyId:null}})}catch(e){throw new X(2,4,4007)}return{node:e,Pc:t,keyId:n,init:0<i.length?i:null}}).filter(Oe)}function Xn(t,n,r,i,o){null!=o&&(o=Math.round(o));var a={RepresentationID:n,Number:r,Bandwidth:i,Time:o};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(t,n,r,i){if("$$"==t)return"$";var o=a[n];if(null==o)return t;switch("RepresentationID"==n&&r&&(r=void 0),i){case void 0:case"d":case"i":case"u":t=o.toString();break;case"o":t=o.toString(8);break;case"x":t=o.toString(16);break;case"X":t=o.toString(16).toUpperCase();break;default:t=o.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t})}function Yn(e,t){var n=Qn(e,t,"timescale"),r=1;n&&(r=qn(n)||1),n=Qn(e,t,"duration"),(n=qn(n||""))&&(n/=r);var i=Qn(e,t,"startNumber"),o=Number(Qn(e,t,"presentationTimeOffset"))||0,a=Bn(i||"");null!=i&&null!=a||(a=1);var s=zn(e,t,"SegmentTimeline");if(i=null,s){i=r;var u=e.M.duration||1/0;s=In(s,"S");for(var c=[],l=0,f=0;f<s.length;++f){var d=s[f],p=Fn(d,"t",Bn),h=Fn(d,"d",Bn);if(d=Fn(d,"r",Un),null!=p&&(p-=o),!h)break;if(p=null!=p?p:l,0>(d=d||0))if(f+1<s.length){if(null==(d=Fn(s[f+1],"t",Bn)))break;if(p>=d)break;d=Math.ceil((d-p)/h)-1}else{if(1/0==u)break;if(p/i>=u)break;d=Math.ceil((u*i-p)/h)-1}0<c.length&&p!=l&&(c[c.length-1].end=p/i);for(var m=0;m<=d;++m)l=p+h,c.push({start:p/i,end:l/i,We:p}),p=l}i=c}return{timescale:r,R:n,Fa:a,ea:o/r||0,hc:o,I:i}}function Qn(e,t,n){return[t(e.v),t(e.U),t(e.ca)].filter(Oe).map(function(e){return e.getAttribute(n)}).reduce(function(e,t){return e||t})}function zn(e,t,n){return[t(e.v),t(e.U),t(e.ca)].filter(Oe).map(function(e){return Nn(e,n)}).reduce(function(e,t){return e||t})}function $n(e,t){var n=new DOMParser;try{var r=De(e),i=n.parseFromString(r,"text/xml")}catch(e){}if(i&&i.documentElement.tagName==t)var o=i.documentElement;return o&&0<o.getElementsByTagName("parsererror").length?null:o}function Jn(e,t,n,r,i,o){for(var a=jn(e,"http://www.w3.org/1999/xlink","href"),s=jn(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=0;u<e.attributes.length;u++){var c=e.attributes[u];"http://www.w3.org/1999/xlink"==c.namespaceURI&&(e.removeAttributeNS(c.namespaceURI,c.localName),--u)}if(5<=o)return Q(new X(2,4,4028));if("onLoad"!=s)return Q(new X(2,4,4027));var l=xe([r],[a]);return i.request(0,de(l,t)).V(function(r){if(!(r=$n(r.data,e.tagName)))return Q(new X(2,4,4001,a));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=0;s<r.attributes.length;s++){var u=r.attributes[s].nodeName,c=r.getAttribute(u);e.setAttribute(u,c)}return Zn(e,t,n,l[0],i,o+1)})}function Zn(e,t,n,r,i,o){if(o=o||0,jn(e,"http://www.w3.org/1999/xlink","href")){var a=Jn(e,t,n,r,i,o);return n&&(a=a.V(void 0,function(){return Zn(e,t,n,r,i,o)})),a}for(a=0;a<e.childNodes.length;a++){var s=e.childNodes[a];s instanceof Element&&"urn:mpeg:dash:resolve-to-zero:2013"==jn(s,"http://www.w3.org/1999/xlink","href")&&(e.removeChild(s),--a)}for(a=[],s=0;s<e.childNodes.length;s++){var u=e.childNodes[s];u.nodeType==Node.ELEMENT_NODE&&a.push(Zn(u,t,n,r,i,o))}return Z(a).V(function(){return e})}function er(e,t,n){this.c=e,this.b=t,this.a=n}function tr(e,t,n,r,i,o){this.position=e,this.startTime=t,this.endTime=n,this.c=r,this.b=i,this.a=o}function nr(e,t){this.G=e,this.b=t==Ac,this.a=0}function rr(){throw new X(2,3,3e3)}function ir(){this.c=[],this.b=[],this.a=!1}function or(e){for(;e.s.ga()&&!e.ra.a;)e.ra.zb(e.start,e.s,e.Hc)}function ar(e){for(var t=e.s.C();0<t&&!e.ra.a;--t)e.ra.zb(e.start,e.s,e.Hc)}function sr(e){return function(t){e(t.s.Ea(t.s.G.byteLength-t.s.W()))}}function ur(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t}function cr(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function lr(e,t,n,r){var i,o=(new ir).Z("sidx",function(e){i=fr(t,r,n,e)});if(e&&o.parse(e),i)return i;throw new X(2,3,3004)}function fr(e,t,n,r){var i=[];r.s.F(4);var o=r.s.C();if(0==o)throw new X(2,3,3005);if(0==r.version)var a=r.s.C(),s=r.s.C();else a=r.s.Ta(),s=r.s.Ta();r.s.F(2);var u=r.s.eb();for(e=e+r.size+s,s=0;s<u;s++){var c=r.s.C(),l=(2147483648&c)>>>31;c&=2147483647;var f=r.s.C();if(r.s.F(4),1==l)throw new X(2,3,3006);i.push(new tr(i.length,a/o-t,(a+f)/o-t,function(){return n},e,e+c-1)),a+=f,e+=c}return r.ra.stop(),i}function dr(e){this.a=e}function pr(e,t){for(;e.a.length&&e.a[e.a.length-1].startTime>=t;)e.a.pop();for(;e.a.length&&0>=e.a[0].endTime;)e.a.shift();if(0!=e.a.length){var n=e.a[e.a.length-1];e.a[e.a.length-1]=new tr(n.position,n.startTime,t,n.c,n.b,n.a)}}function hr(e){this.b=e,this.a=new nr(e,0),Fc||(Fc=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function mr(e){var t=yr(e);if(7<t.length)throw new X(2,3,3002);for(var n=0,r=0;r<t.length;r++)n=256*n+t[r];t=n,n=yr(e);e:{for(r=0;r<Fc.length;r++)if(Ye(n,Fc[r])){r=!0;break e}r=!1}if(r)n=e.b.byteLength-e.a.W();else{if(8==n.length&&224&n[1])throw new X(2,3,3001);r=n[0]&(1<<8-n.length)-1;for(var i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=e.a.W()+n<=e.b.byteLength?n:e.b.byteLength-e.a.W(),r=new DataView(e.b.buffer,e.b.byteOffset+e.a.W(),n),e.a.F(n),new gr(t,r)}function yr(e){var t,n=e.a.da();for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new X(2,3,3002);var r=new Uint8Array(t);for(r[0]=n,n=1;n<t;n++)r[n]=e.a.da();return r}function gr(e,t){this.id=e,this.a=t}function br(e){if(8<e.a.byteLength)throw new X(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new X(2,3,3001);for(var t=0,n=0;n<e.a.byteLength;n++){t=256*t+e.a.getUint8(n)}return t}function vr(){}function wr(e,t,n,r,i,o){function a(){return i}var s=[];e=new hr(e.a);for(var u=null,c=null;e.ga();){var l=mr(e);if(187==l.id){var f=kr(l);f&&(l=n*f.Xe,f=t+f.re,null!=u&&s.push(new tr(s.length,u-o,l-o,a,c,f-1)),u=l,c=f)}}return null!=u&&s.push(new tr(s.length,u-o,r-o,a,c,null)),s}function kr(e){var t=new hr(e.a);if(e=mr(t),179!=e.id)throw new X(2,3,3013);if(e=br(e),t=mr(t),183!=t.id)throw new X(2,3,3012);t=new hr(t.a);for(var n=0;t.ga();){var r=mr(t);if(241==r.id){n=br(r);break}}return{Xe:e,re:n}}function Sr(e,t){var n=zn(e,t,"Initialization");if(!n)return null;var r=e.v.fa,i=n.getAttribute("sourceURL");i&&(r=xe(e.v.fa,[i])),i=0;var o=null;return(n=Fn(n,"range",Ln))&&(i=n.start,o=n.end),new er(function(){return r},i,o)}function Er(e,t){var n=Number(Qn(e,Tr,"presentationTimeOffset"))||0,r=Qn(e,Tr,"timescale"),i=1;r&&(i=qn(r)||1),n=n/i||0,r=Sr(e,Tr);var o=e.v.contentType;if(i=e.v.mimeType.split("/")[1],"text"!=o&&"mp4"!=i&&"webm"!=i)throw new X(2,4,4006);if("webm"==i&&!r)throw new X(2,4,4005);o=zn(e,Tr,"RepresentationIndex");var a=Qn(e,Tr,"indexRange"),s=e.v.fa;if(a=Ln(a||""),o){var u=o.getAttribute("sourceURL");u&&(s=xe(e.v.fa,[u])),a=Fn(o,"range",Ln,a)}if(!a)throw new X(2,4,4002);return i=_r(e,t,r,s,a.start,a.end,i,n),{createSegmentIndex:i.createSegmentIndex,findSegmentPosition:i.findSegmentPosition,getSegmentReference:i.getSegmentReference,initSegmentReference:r,ea:n}}function _r(e,t,n,r,i,o,a,s){var u=e.presentationTimeline,c=!e.Ja||!e.M.Mb,l=e.M.index,f=e.M.duration,d=t,p=null;return{createSegmentIndex:function(){var e=[d(r,i,o),"webm"==a?d(n.c(),n.b,n.a):null];return d=null,Promise.all(e).then(function(e){var t=e[0];e=e[1]||null,t="mp4"==a?lr(t,i,r,s):(new vr).parse(t,e,r,s),u.Pa(t,0==l),p=new dr(t),c&&pr(p,f)})},findSegmentPosition:function(e){return p.find(e)},getSegmentReference:function(e){return p.get(e)}}}function Tr(e){return e.fb}function Pr(e,t){var n=Sr(e,Or),r=xr(e),i=Yn(e,Or),o=i.Fa;0==o&&(o=1);var a=0;if(i.R?a=i.R*(o-1):i.I&&0<i.I.length&&(a=i.I[0].start),r={R:i.R,startTime:a,Fa:o,ea:i.ea,I:i.I,Na:r},!r.R&&!r.I&&1<r.Na.length)throw new X(2,4,4002);if(!r.R&&!e.M.duration&&!r.I&&1==r.Na.length)throw new X(2,4,4002);if(r.I&&0==r.I.length)throw new X(2,4,4002);return o=i=null,e.ca.id&&e.v.id&&(o=e.ca.id+","+e.v.id,i=t[o]),a=Cr(e.M.duration,r.Fa,e.v.fa,r),i?(i.Qb(a),o=e.presentationTimeline.$a(),i.Gb(o-e.M.start)):(e.presentationTimeline.Pa(a,0==e.M.index),i=new dr(a),o&&e.Ja&&(t[o]=i)),e.Ja&&e.M.Mb||pr(i,e.M.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:n,ea:r.ea}}function Or(e){return e.ta}function Cr(e,t,n,r){var i=r.Na.length;r.I&&r.I.length!=r.Na.length&&(i=Math.min(r.I.length,r.Na.length));for(var o=[],a=r.startTime,s=0;s<i;s++){var u=r.Na[s],c=xe(n,[u.Fd]),l=void 0;l=null!=r.R?a+r.R:r.I?r.I[s].end:a+e,o.push(new tr(s+t,a,l,function(e){return e}.bind(null,c),u.start,u.end)),a=l}return o}function xr(e){return[e.v.ta,e.U.ta,e.ca.ta].filter(Oe).map(function(e){return In(e,"SegmentURL")}).reduce(function(e,t){return 0<e.length?e:t}).map(function(t){t.getAttribute("indexRange")&&!e.uc&&(e.uc=!0);var n=t.getAttribute("media");return t=Fn(t,"mediaRange",Ln,{start:0,end:null}),{Fd:n,start:t.start,end:t.end}})}function Nr(e,t,n,r){var i=Ar(e),o=Yn(e,Ir),a=Qn(e,Ir,"media"),s=Qn(e,Ir,"index");if(o={R:o.R,timescale:o.timescale,Fa:o.Fa,ea:o.ea,hc:o.hc,I:o.I,Pb:a,bb:s},a=o.bb?1:0,a+=o.I?1:0,0==(a+=o.R?1:0))throw new X(2,4,4002);if(1!=a&&(o.bb&&(o.I=null),o.R=null),!o.bb&&!o.Pb)throw new X(2,4,4002);if(o.bb){if("mp4"!=(n=e.v.mimeType.split("/")[1])&&"webm"!=n)throw new X(2,4,4006);if("webm"==n&&!i)throw new X(2,4,4005);r=Xn(o.bb,e.v.id,null,e.bandwidth||null,null),r=xe(e.v.fa,[r]),e=_r(e,t,i,r,0,null,n,o.ea)}else o.R?(r||e.presentationTimeline.Sb(o.R),e=Rr(e,o)):(a=t=null,e.ca.id&&e.v.id&&(a=e.ca.id+","+e.v.id,t=n[a]),s=jr(e,o),r=!e.Ja||!e.M.Mb,t?(r&&pr(new dr(s),e.M.duration),t.Qb(s),n=e.presentationTimeline.$a(),t.Gb(n-e.M.start)):(e.presentationTimeline.Pa(s,0==e.M.index),t=new dr(s),a&&e.Ja&&(n[a]=t)),r&&pr(t,e.M.duration),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,initSegmentReference:i,ea:o.ea}}function Ir(e){return e.hb}function Rr(e,t){var n=e.M.duration,r=t.R,i=t.Fa,o=t.timescale,a=t.Pb,s=e.bandwidth||null,u=e.v.id,c=e.v.fa;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/r)},getSegmentReference:function(e){var t=e*r,l=t+r;return n&&(l=Math.min(l,n)),0>l||n&&t>=n?null:new tr(e,t,l,function(){var n=Xn(a,u,e+i,s,t*o);return xe(c,[n])},0,null)}}}function jr(e,t){for(var n=[],r=0;r<t.I.length;r++){var i=r+t.Fa;n.push(new tr(i,t.I[r].start,t.I[r].end,function(e,t,n,r,i,o){return e=Xn(e,t,i,n,o),xe(r,[e]).map(function(e){return e.toString()})}.bind(null,t.Pb,e.v.id,e.bandwidth||null,e.v.fa,i,t.I[r].We+t.hc),0,null))}return n}function Ar(e){var t=Qn(e,Ir,"initialization");if(!t)return null;var n=e.v.id,r=e.bandwidth||null,i=e.v.fa;return new er(function(){var e=Xn(t,n,null,r,null);return xe(i,[e])},0,null)}function Fr(){var e,t={};for(e in Dc)t[e]=!0;for(var n in Mc)t[n]=!0;return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(e){t[e]=!!Dc[e]}),["mpd","m3u8","ism"].forEach(function(e){t[e]=!!Mc[e]}),t}function Dr(e,t,n,r){var i=r;return i||(r=new A(e).ba.split("/").pop().split("."),1<r.length&&(r=r.pop().toLowerCase(),i=Mc[r])),i?Promise.resolve(i):(n=de([e],n),n.method="HEAD",t.request(0,n).promise.then(function(t){return(t=t.headers["content-type"])&&(t=t.toLowerCase()),(i=Dc[t])?i:Promise.reject(new X(2,4,4e3,e))},function(e){return e.severity=2,Promise.reject(e)}))}function Mr(e,t){this.f=e,this.l=t,this.c=this.b=1/0,this.a=1,this.j=this.h=0,this.i=!0,this.g=0}function Lr(){this.a=this.b=null,this.h=[],this.c=null,this.j=[],this.i=1,this.l={},this.m=0,this.o=new C(5),this.g=null,this.f=new ue}function Ur(e){var t=Date.now(),n=e.a.networkingEngine.request(0,de(e.h,e.b.retryParameters));return ce(e.f,n),n.promise.then(function(t){if(e.a)return qr(e,t.data,t.uri)}).then(function(){var n=(Date.now()-t)/1e3;return x(e.o,1,n),n})}function qr(e,t,n){if(!(t=$n(t,"MPD")))throw new X(2,4,4001,n);return t=Zn(t,e.b.retryParameters,e.b.dash.xlinkFailGracefully,n,e.a.networkingEngine),ce(e.f,t),t.promise.then(function(t){return Br(e,t,n)})}function Br(e,t,n){n=[n];var r=In(t,"Location").map(An).filter(Oe);0<r.length&&(n=e.h=r),r=In(t,"BaseURL").map(An),n=xe(n,r);var i=Fn(t,"minBufferTime",Mn);e.m=Fn(t,"minimumUpdatePeriod",Mn,-1);var o=Fn(t,"availabilityStartTime",Dn);r=Fn(t,"timeShiftBufferDepth",Mn);var a=Fn(t,"suggestedPresentationDelay",Mn),s=Fn(t,"maxSegmentDuration",Mn),u=t.getAttribute("type")||"static";if(e.c)var c=e.c.presentationTimeline;else{var l=Math.max(e.b.dash.defaultPresentationDelay,1.5*i);c=new Mr(o,null!=a?a:l)}o=Kr(e,{Ja:"static"!=u,presentationTimeline:c,ca:null,M:null,U:null,v:null,bandwidth:0,uc:!1},n,t),a=o.duration;var f=o.periods;return c.Ab("static"==u),"static"!=u&&o.mc||c.ja(a||1/0),(u=c.P())&&!isNaN(e.b.availabilityWindowOverride)&&(r=e.b.availabilityWindowOverride),null==r&&(r=1/0),c.cc(r),c.Sb(s||1),e.c?Promise.resolve():(t=In(t,"UTCTiming"),$r(e,n,t,u).then(function(e){this.a&&(c.Rc(e),this.c={presentationTimeline:c,periods:f,offlineSessionIds:[],minBufferTime:i||0})}.bind(e)))}function Kr(e,t,n,r){var i=Fn(r,"mediaPresentationDuration",Mn),o=[],a=0;r=In(r,"Period");for(var s=0;s<r.length;s++){var u=r[s];a=Fn(u,"start",Mn,a);var c=Fn(u,"duration",Mn),l=null;if(s!=r.length-1){var f=Fn(r[s+1],"start",Mn);null!=f&&(l=f-a)}else null!=i&&(l=i-a);if(null==l&&(l=c),u=Hr(e,t,n,{start:a,duration:l,node:u,index:s,Mb:null==l||s==r.length-1}),o.push(u),c=t.ca.id,-1==e.j.indexOf(c)&&(e.j.push(c),e.c&&(e.a.filterNewPeriod(u),e.c.periods.push(u))),null==l){a=null;break}a+=l}return null==e.c&&e.a.filterAllPeriods(o),null!=i?{periods:o,duration:i,mc:!1}:{periods:o,duration:a,mc:!0}}function Hr(e,t,n,r){t.ca=Xr(r.node,null,n),t.M=r,t.ca.id||(t.ca.id="__shaka_period_"+r.start),In(r.node,"EventStream").forEach(e.ie.bind(e,r.start,r.duration)),n=In(r.node,"AdaptationSet").map(e.ge.bind(e,t)).filter(Oe);var i=n.map(function(e){return e.te}).reduce(Te,[]),o=i.filter(Ce);if(t.Ja&&i.length!=o.length)throw new X(2,4,4018);var a=n.filter(function(e){return!e.gc});if(n.filter(function(e){return e.gc}).forEach(function(e){var t=e.streams[0],n=e.gc;a.forEach(function(e){e.id==n&&e.streams.forEach(function(e){e.trickModeVideo=t})})}),n=Vr(a,"video"),i=Vr(a,"audio"),!n.length&&!i.length)throw new X(2,4,4004);for(i.length||(i=[null]),n.length||(n=[null]),t=[],o=0;o<i.length;o++)for(var s=0;s<n.length;s++)Gr(e,i[o],n[s],t);for(e=Vr(a,"text"),n=[],i=0;i<e.length;i++)n.push.apply(n,e[i].streams);return{startTime:r.start,textStreams:n,variants:t}}function Vr(e,t){return e.filter(function(e){return e.contentType==t})}function Gr(e,t,n,r){if(t||n)if(t&&n){var i=t.drmInfos,o=n.drmInfos;if(i.length&&o.length?0<pt(i,o).length:1){o=pt(t.drmInfos,n.drmInfos);for(var a=0;a<t.streams.length;a++)for(var s=0;s<n.streams.length;s++)i=(n.streams[s].bandwidth||0)+(t.streams[a].bandwidth||0),i={id:e.i++,language:t.language,primary:t.Ob||n.Ob,audio:t.streams[a],video:n.streams[s],bandwidth:i,drmInfos:o,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}else for(o=t||n,a=0;a<o.streams.length;a++)i=o.streams[a].bandwidth||0,i={id:e.i++,language:o.language||"und",primary:o.Ob,audio:t?o.streams[a]:null,video:n?o.streams[a]:null,bandwidth:i,drmInfos:o.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}function Wr(t,n){0>t.m||(t.g=e.setTimeout(t.Pe.bind(t),1e3*Math.max(3,t.m-n,N(t.o))))}function Xr(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",containsEmsgBoxes:!1,frameRate:void 0,Tb:null},n=n||t.fa;var r=In(e,"BaseURL").map(An),i=e.getAttribute("contentType")||t.contentType,o=e.getAttribute("mimeType")||t.mimeType,a=e.getAttribute("codecs")||t.codecs,s=Fn(e,"frameRate",Kn)||t.frameRate,u=!!In(e,"InbandEventStream").length,c=In(e,"AudioChannelConfiguration");return c=Yr(c)||t.Tb,i||(i=Jr(o,a)),{fa:xe(n,r),fb:Nn(e,"SegmentBase")||t.fb,ta:Nn(e,"SegmentList")||t.ta,hb:Nn(e,"SegmentTemplate")||t.hb,width:Fn(e,"width",Bn)||t.width,height:Fn(e,"height",Bn)||t.height,contentType:i,mimeType:o,codecs:a,frameRate:s,containsEmsgBoxes:u||t.containsEmsgBoxes,id:e.getAttribute("id"),Tb:c}}function Yr(e){for(var t=0;t<e.length;++t){var n=e[t],r=n.getAttribute("schemeIdUri");if(r&&(n=n.getAttribute("value")))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(r=parseInt(n,10)))continue;return r;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(r=parseInt(n,16)){for(e=0;r;)1&r&&++e,r>>=1;return e}}}return null}function Qr(e){var t=e.fb?1:0;return t+=e.ta?1:0,0==(t+=e.hb?1:0)?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.fb&&(e.ta=null),e.hb=null),!0)}function zr(e,t,n,r){return t=xe(t,[n]),t=de(t,e.b.retryParameters),t.method=r,t=e.a.networkingEngine.request(0,t),ce(e.f,t),t.promise.then(function(e){if("HEAD"==r){if(!e.headers||!e.headers.date)return 0;e=e.headers.date}else e=De(e.data);return e=Date.parse(e),isNaN(e)?0:e-Date.now()})}function $r(e,t,n,r){n=n.map(function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}});var i=e.b.dash.clockSyncUri;return r&&!n.length&&i&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),_e(n,function(e){var n=e.value;switch(e.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return zr(this,t,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return zr(this,t,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return e=Date.parse(n),isNaN(e)?0:e-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:return Promise.reject()}}.bind(e)).catch(function(){return 0})}function Jr(e,t){return mc[Fe(e,t)]?"text":e.split("/")[0]}function Zr(e,t,n,r){this.uri=e,this.type=t,this.a=n,this.segments=r||null}function ei(e,t,n,r){this.id=e,this.name=t,this.a=n,this.value=r||null}function ti(e,t){this.name=e,this.value=t}function ni(e,t,n){return n=n||null,(e=e.getAttribute(t))?e.value:n}function ri(e,t){this.a=t,this.uri=e}function ii(e,t){return e.filter(function(e){return e.name==t})}function oi(e,t){var n=ii(e,t);return n.length?n[0]:null}function ai(e,t,n){return e.filter(function(e){var r=e.getAttribute("TYPE");return e=e.getAttribute("GROUP-ID"),r.value==t&&e.value==n})}function si(e,t){return xe([e],[t])[0]}function ui(e){this.b=e,this.a=0}function ci(e){li(e,/[ \t]+/gm)}function li(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,we:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.we)}function fi(e){return e.a==e.b.length?null:(e=li(e,/[^ \t\n]*/gm))?e[0]:null}function di(){this.a=0}function pi(e,t,n){t=De(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var r=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new X(2,4,4015);t=0;for(var i=1;i<r.length;i++)if(!/^#(?!EXT)/m.test(r[i])){var o=mi(e,r[i]);if(--e.a,0<=Lc.indexOf(o.name)){t=1;break}"EXT-X-STREAM-INF"==o.name&&(i+=1)}for(i=[],o=1;o<r.length;)if(/^#(?!EXT)/m.test(r[o]))o+=1;else{var a=mi(e,r[o]);if(0<=Uc.indexOf(a.name)){if(1!=t)throw new X(2,4,4017);return r=r.splice(o,r.length-o),e=hi(e,r,i),new Zr(n,t,i,e)}i.push(a),o+=1,"EXT-X-STREAM-INF"==a.name&&(a.a.push(new ti("URI",r[o])),o+=1)}return new Zr(n,t,i)}function hi(e,t,n){var r=[],i=[];return t.forEach(function(t){if(/^(#EXT)/.test(t))t=mi(e,t),0<=Lc.indexOf(t.name)?n.push(t):i.push(t);else{if(/^#(?!EXT)/m.test(t))return[];r.push(new ri(t.trim(),i)),i=[]}}),r}function mi(e,t){e:{var n=e.a++,r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new X(2,4,4016,t);var i=r[1],o=r[2];if(r=[],o&&0<=o.indexOf("=")){o=new ui(o);for(var a,s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=li(o,s);)r.push(new ti(a[1],a[2]||a[3]))}else if(o){n=new ei(n,i,r,o);break e}n=new ei(n,i,r)}return n}function yi(e){try{var t=yi.parse(e);return $({uri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(e){return Q(e)}}function gi(){this.g=this.c=null,this.L=1,this.w={},this.J={},this.Y={},this.a={},this.b=null,this.m="",this.u=new di,this.j=this.i=null,this.f=Hc,this.o=null,this.l=0,this.A=1/0,this.h=new ue,this.H=[]}function bi(e,t,n){Ki(e,n).then(function(e){var r=Vc,i=pi(this.u,e.data,n);if(1!=i.type)throw new X(2,4,4017);e=oi(i.a,"EXT-X-MEDIA-SEQUENCE");var o=t.stream;ji(this,i,e?Number(e.value):0,o.mimeType,o.codecs).then(function(e){t.gb.a=e,e=e[e.length-1],oi(i.a,"EXT-X-ENDLIST")&&(Vi(this,r.pa),this.b.ja(e.endTime))}.bind(this))}.bind(e))}function vi(e,t,n){if(t=pi(e.u,t,n),0!=t.type)throw new X(2,4,4022);return wi(e,t).then(function(e){this.c.filterAllPeriods([e]);var t=1/0,n=0,r=0,i=1/0;for(a in this.a){var o=this.a[a];t=Math.min(t,o.Rb),n=Math.max(n,o.Rb),r=Math.max(r,o.Ed),"text"!=o.stream.type&&(i=Math.min(i,o.duration))}var a=null;if(o=0,this.f!=Vc.pa&&(a=Date.now()/1e3-r,o=3*this.l),this.b=new Mr(a,o),this.b.Ab(this.f==Vc.pa),Ri(this),this.f!=Vc.pa){for(t=3*this.l,this.b.Sc(t),this.i=this.A,this.f==Vc.ic&&(isNaN(this.g.availabilityWindowOverride)||(t=this.g.availabilityWindowOverride),this.b.cc(t)),t=0;95443.7176888889<=n;)t+=95443.7176888889,n-=95443.7176888889;if(t)for(var s in this.a)n=this.a[s],95443.7176888889>n.Rb&&(n.stream.presentationTimeOffset=-t,n.gb.offset(t))}else{this.b.ja(i);for(var u in this.a)s=this.a[u],s.stream.presentationTimeOffset=t,s.gb.offset(-t),pr(s.gb,i)}this.o={presentationTimeline:this.b,periods:[e],offlineSessionIds:[],minBufferTime:0}}.bind(e))}function wi(e,t){var n=t.a,r=ii(t.a,"EXT-X-MEDIA").filter(function(e){return"SUBTITLES"==qi(e,"TYPE")}.bind(e)).map(function(e){return Ti(this,e)}.bind(e));return Promise.all(r).then(function(e){var r=ii(n,"EXT-X-STREAM-INF").map(function(e){return ki(this,e,t)}.bind(this));return Promise.all(r).then(function(t){return{startTime:0,variants:t.reduce(Te,[]),textStreams:e}}.bind(this))}.bind(e))}function ki(e,t,n){var r=ni(t,"CODECS","avc1.42E01E,mp4a.40.2").split(","),i=t.getAttribute("RESOLUTION"),o=null,a=null,s=ni(t,"FRAME-RATE"),u=Number(qi(t,"BANDWIDTH"));if(i){var c=i.value.split("x");o=c[0],a=c[1]}n=ii(n.a,"EXT-X-MEDIA");var l=ni(t,"AUDIO"),f=ni(t,"VIDEO");if(l?n=ai(n,"AUDIO",l):f&&(n=ai(n,"VIDEO",f)),c=Li("text",r)){var d=ni(t,"SUBTITLES");d&&(d=ai(n,"SUBTITLES",d),d.length&&(e.w[d[0].id].stream.codecs=c)),r.splice(r.indexOf(c),1)}n=n.map(function(e){return Pi(this,e,r)}.bind(e));var p=[],h=[];return Promise.all(n).then(function(e){if(l?p=e:f&&(h=e),e=!1,p.length||h.length)if(p.length)if(qi(t,"URI")==p[0].$b){var n="audio";e=!0}else n="video";else n="audio";else 1==r.length?(n=Li("video",r),n=i||s||n?"video":"audio"):(n="video",r=[r.join(",")]);return e?Promise.resolve():Ci(this,t,r,n)}.bind(e)).then(function(e){return e&&("audio"==e.stream.type?p=[e]:h=[e]),h&&Si(h),p&&Si(p),Ei(this,p,h,u,o,a,s)}.bind(e))}function Si(e){e.forEach(function(e){var t=e.stream.codecs.split(",");t=t.filter(function(e){return"mp4a.40.34"!=e}),e.stream.codecs=t.join(",")})}function Ei(e,t,n,r,i,o,a){n.forEach(function(e){(e=e.stream)&&(e.width=Number(i)||void 0,e.height=Number(o)||void 0,e.frameRate=Number(a)||void 0)}.bind(e)),t.length||(t=[null]),n.length||(n=[null]);for(var s=[],u=0;u<t.length;u++)for(var c=0;c<n.length;c++){var l=t[u]?t[u].stream:null,f=n[c]?n[c].stream:null,d=t[u]?t[u].drmInfos:null,p=n[c]?n[c].drmInfos:null,h=void 0;if(l&&f){if(!(d.length&&p.length?0<pt(d,p).length:1))continue;h=pt(d,p)}else l?h=d:f&&(h=p);d=(n[u]?n[u].$b:"")+" - "+(t[u]?t[u].$b:""),e.J[d]||(l=_i(e,l,f,r,h),s.push(l),e.J[d]=l)}return s}function _i(e,t,n,r,i){return{id:e.L++,language:t?t.language:"und",primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function Ti(e,t){return qi(t,"TYPE"),Pi(e,t,[]).then(function(e){return e.stream})}function Pi(e,t,n){var r=qi(t,"URI");if(r=si(e.m,r),e.a[r])return Promise.resolve(e.a[r]);var i=qi(t,"TYPE").toLowerCase();"subtitles"==i&&(i="text");var o=qt(ni(t,"LANGUAGE","und")),a=ni(t,"NAME"),s=t.getAttribute("DEFAULT"),u=t.getAttribute("AUTOSELECT"),c=ni(t,"CHANNELS");return xi(e,r,n,i,o,!!s||!!u,a,"audio"==i?Oi(c):null).then(function(e){return this.a[r]?this.a[r]:(this.w[t.id]=e,this.a[r]=e)}.bind(e))}function Oi(e){return e?(e=e.split("/")[0],parseInt(e,10)):null}function Ci(e,t,n,r){var i=qi(t,"URI");return i=si(e.m,i),e.a[i]?Promise.resolve(e.a[i]):xi(e,i,n,r,"und",!1,null,null).then(function(e){return this.a[i]?this.a[i]:this.a[i]=e}.bind(e))}function xi(e,t,n,r,i,o,a,s){var u=t;t=si(e.m,t);var c,l,f="";return Ki(e,t).then(function(e){if(c=pi(this.u,e.data,t),1!=c.type)throw new X(2,4,4017);e=c;var i=Vc,o=oi(e.a,"EXT-X-PLAYLIST-TYPE"),a=oi(e.a,"EXT-X-ENDLIST");if(a=o&&"VOD"==o.value||a,o=o&&"EVENT"==o.value&&!a,o=!a&&!o,a?Vi(this,i.pa):(o?Vi(this,i.ic):Vi(this,i.Yc),e=Bi(e.a,"EXT-X-TARGETDURATION"),e=Number(e.value),this.l=Math.max(e,this.l),this.A=Math.min(e,this.A)),1==n.length)f=n[0];else{if(null==(e=Li(r,n)))throw new X(2,4,4025,n);f=e}return Ui(this,r,f,c)}.bind(e)).then(function(e){return l=e,e=oi(c.a,"EXT-X-MEDIA-SEQUENCE"),ji(this,c,e?Number(e.value):0,l,f)}.bind(e)).then(function(e){var t=e[0].startTime,n=e[e.length-1].endTime,d=n-t;e=new dr(e);var p=Ni(c),h=void 0;"text"==r&&(h="subtitle");var m=[];c.segments.forEach(function(e){e=ii(e.a,"EXT-X-KEY"),m.push.apply(m,e)});var y=!1,g=[],b=null;if(m.forEach(function(e){if("NONE"!=qi(e,"METHOD")){y=!0;var t=qi(e,"KEYFORMAT");(e=(t=Kc[t])?t(e):null)&&(e.keyIds.length&&(b=e.keyIds[0]),g.push(e))}}),y&&!g.length)throw new X(2,4,4026);return p={id:this.L++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e),initSegmentReference:p,
presentationTimeOffset:0,mimeType:l,codecs:f,kind:h,encrypted:y,keyId:b,language:i,label:a||null,type:r,primary:o,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s},this.Y[p.id]=e,{stream:p,gb:e,drmInfos:g,$b:u,Rb:t,Ed:n,duration:d}}.bind(e))}function Ni(e){var t=ii(e.a,"EXT-X-MAP");if(!t.length)return null;if(1<t.length)throw new X(2,4,4020);t=t[0];var n=qi(t,"URI"),r=si(e.uri,n);return e=0,n=null,(t=ni(t,"BYTERANGE"))&&(e=t.split("@"),t=Number(e[0]),e=Number(e[1]),n=e+t-1),new er(function(){return[r]},e,n)}function Ii(e,t,n,r,i){var o=n.a,a=si(e.uri,n.uri);e=Bi(o,"EXTINF").value.split(","),e=i+Number(e[0]),n=0;var s=null;return(o=oi(o,"EXT-X-BYTERANGE"))&&(n=o.value.split("@"),o=Number(n[0]),n=n[1]?Number(n[1]):t.a+1,s=n+o-1),new tr(r,i,e,function(){return[a]},n,s)}function Ri(e){e.b&&(e.H.forEach(function(t){e.b.Pa(t,!0)}),e.H=[])}function ji(e,t,n,r,i){var o=t.segments,a=[],s=si(t.uri,o[0].uri),u=Ii(t,null,o[0],n,0),c=Ni(t);return Fi(e,t.uri,c,u,r,i).then(function(e){s.split("/").pop();for(var r=0;r<o.length;++r){var i=a[a.length-1];i=Ii(t,i,o[r],n+r,0==r?e:i.endTime),a.push(i)}return this.H.push(a),Ri(this),a}.bind(e))}function Ai(e,t){var n=e.c.networkingEngine,r=de(t.c(),e.g.retryParameters),i={},o=t.b;i.Range="bytes="+o+"-"+(o+2048-1);var a={};return 0==o&&null==t.a||(o="bytes="+o+"-",null!=t.a&&(o+=t.a),a.Range=o),r.headers=i,i=n.request(1,r),ce(e.h,i),i.promise.catch(function(){R("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",r.uris[0]),r.headers=a;var t=n.request(1,r);return ce(e.h,t),t.promise})}function Fi(e,t,n,r,i,o){return e.o&&(t=e.a[t].gb.get(r.position))?Promise.resolve(t.startTime):(r=[Ai(e,r)],"video/mp4"!=i&&"audio/mp4"!=i||(n?r.push(Ai(e,n)):r.push(r[0])),Promise.all(r).then(function(e){if("video/mp4"==i||"audio/mp4"==i)return Di(e[0].data,e[1].data);if("audio/mpeg"==i)return 0;if("video/mp2t"==i)return Mi(e[0].data);if("application/mp4"==i||0==i.indexOf("text/")){e=e[0].data;var t=Fe(i,o);if(mc[t]){var n=new _t(null);n.f=new mc[t],e=n.Lb(e)}else e=0;return e}throw new X(2,4,4030)}.bind(e)))}function Di(e,t){var n=0;if((new ir).D("moov",or).D("trak",or).D("mdia",or).Z("mdhd",function(e){e.s.F(0==e.version?8:16),n=e.s.C(),e.ra.stop()}).parse(t,!0),!n)throw new X(2,4,4030);var r=0,i=!1;if((new ir).D("moof",or).D("traf",or).Z("tfdt",function(e){r=(0==e.version?e.s.C():e.s.Ta())/n,i=!0,e.ra.stop()}).parse(e,!0),!i)throw new X(2,4,4030);return r}function Mi(e){function t(){throw new X(2,4,4030)}e=new nr(new DataView(e),0);for(var n=0,r=0;;){if(n=e.W(),r=e.da(),71!=r&&t(),16384&e.eb()||t(),r=(48&e.da())>>4,0!=r&&2!=r||t(),3==r&&(r=e.da(),e.F(r)),1==e.C()>>8)return e.F(3),n=e.da()>>6,0!=n&&1!=n||t(),0==e.da()&&t(),n=e.da(),r=e.eb(),e=e.eb(),(1073741824*((14&n)>>1)+((65534&r)<<14|(65534&e)>>1))/9e4;e.seek(n+188),r=e.da(),71!=r&&(e.seek(n+192),r=e.da()),71!=r&&(e.seek(n+204),r=e.da()),71!=r&&t(),e.Oc(1)}}function Li(e,t){for(var n=qc[e],r=0;r<n.length;r++)for(var i=0;i<t.length;i++)if(n[r].test(t[i].trim()))return t[i].trim();return"text"==e?"":null}function Ui(e,t,n,r){r=si(r.uri,r.segments[0].uri);var i=new A(r).ba.split(".").pop(),o=Bc[t][i];return o?Promise.resolve(o):"text"==t?n&&"vtt"!=n?Promise.resolve("application/mp4"):Promise.resolve("text/vtt"):(t=de([r],e.g.retryParameters),t.method="HEAD",t=e.c.networkingEngine.request(1,t),ce(e.h,t),t.promise.then(function(e){if(!(e=e.headers["content-type"]))throw new X(2,4,4021,i);return e.split(";")[0]}))}function qi(e,t){var n=e.getAttribute(t);if(!n)throw new X(2,4,4023,t);return n.value}function Bi(e,t){var n=oi(e,t);if(!n)throw new X(2,4,4024,t);return n}function Ki(e,t){var n=e.c.networkingEngine.request(0,de([t],e.g.retryParameters));return ce(e.h,n),n.promise}function Hi(t,n){null!=t.i&&null!=n&&(t.j=e.setTimeout(t.T.bind(t),1e3*n))}function Vi(t,n){t.f=n,t.b&&t.b.Ab(t.f==Vc.pa),t.f==Vc.pa&&null!=t.j&&(e.clearTimeout(t.j),t.j=null,t.i=null)}function Gi(e,t,n,r){this.a=e,this.u=t,this.o=n,this.w=r,this.h=new be,this.b=null,this.g=!1,this.m=e.readyState,this.c=!1,this.j=this.A=-1,this.f=this.i=!1,t=this.l.bind(this),ve(this.h,e,"waiting",t),this.b=new Be(t),He(this.b,.25)}function Wi(e,t,n){this.a=e,this.i=t,this.h=n,this.c=new be,this.f=1,this.g=!1,this.b=null,0<e.readyState?this.Dc():we(this.c,e,"loadedmetadata",this.Dc.bind(this)),ve(this.c,e,"ratechange",this.Vd.bind(this))}function Xi(e){return 0<e.a.readyState?e.a.currentTime:e.h}function Yi(e,t){0<e.a.readyState?zi(e,e.a.currentTime,t):(e.h=t,setTimeout(e.i,0))}function Qi(e,t){null!=e.b&&(e.b.cancel(),e.b=null),e.f=t,e.a.playbackRate=e.g||0>t?0:t,!e.g&&0>t&&(e.b=new Be(function(){e.a.currentTime+=t/4}),He(e.b,.25))}function zi(e,t,n){function r(){!e.a||10<=i++||e.a.currentTime!=t||(e.a.currentTime=n,setTimeout(r,100))}e.a.currentTime=n;var i=0;setTimeout(r,100)}function $i(e,t,n,r,i,o){this.c=e,this.b=t,this.h=n,this.j=i,this.f=null,this.g=new Gi(e,t,n,o),t=this.Xd.bind(this),n=this.b.presentationTimeline,null==r?r=1/0>n.S()?n.Ka():n.la():0>r&&(r=n.la()+r),r=Zi(this,to(this,r)),this.a=new Wi(e,t,r),this.f=new Be(this.Ud.bind(this)),He(this.f,.25)}function Ji(e){var t=Xi(e.a);return 0<e.c.readyState&&(e.c.paused||(t=to(e,t))),t}function Zi(e,t){var n=e.b.presentationTimeline.S();return t>=n?n-e.h.durationBackoff:t}function eo(e,t){var n=mt.bind(null,e.c.buffered),r=Math.max(e.b.minBufferTime||0,e.h.rebufferingGoal),i=e.b.presentationTimeline,o=i.Ka(),a=i.la(),s=i.S();3>a-o&&(o=a-3);var u=i.Za(r),c=i.Za(5);return r=i.Za(r+5),t>=s?Zi(e,t):t>a?a:t<o?n(c)?c:r:t>=u||n(t)?t:r}function to(e,t){var n=e.b.presentationTimeline.Ka();return t<n?n:(n=e.b.presentationTimeline.la(),t>n?n:t)}function no(e,t,n,r,i,o,a){this.a=e,this.w=t,this.g=n,this.u=r,this.l=i,this.h=o,this.A=a,this.c=[],this.j=new be,this.b=!1,this.i=-1,this.f=null,io(this)}function ro(e){var t=ae(e);return t.eventElement=e.eventElement,t}function io(t){oo(t),t.f=e.setTimeout(t.H.bind(t),250)}function oo(t){t.f&&(e.clearTimeout(t.f),t.f=null)}function ao(e,t){this.a=t,this.b=e,this.g=null,this.j=1,this.m=Promise.resolve(),this.h=[],this.i={},this.c={},this.o=!1,this.A=null,this.w=this.f=this.l=!1,this.u=0}function so(e){var t=Ji(e.a.Ra);return e.b.periods[un(e.b,t)]}function uo(e){var t=e.c.video||e.c.audio;return t?e.b.periods[t.Ca]:null}function co(e){return fo(e,"audio")}function lo(e){return fo(e,"video")}function fo(e,t){var n=e.c[t];return n?n.sa||n.stream:null}function po(e,t,n){At(e.a.K,"text"),e.u++,e.w=!1;var r=e.u;return e.a.K.init({text:t},!1).then(function(){return Eo(e,[t])}).then(function(){if(!e.f&&n&&e.u==r&&!e.c.text&&!e.w){var i=Ji(e.a.Ra);e.c.text=ko(t,un(e.b,i)),Lo(e,e.c.text,0)}})}function ho(e){e.w=!0,e.c.text&&(Uo(e.c.text),delete e.c.text)}function mo(e,t){var n=e.c.video;if(n){var r=n.stream;if(r)if(t){var i=r.trickModeVideo;i&&!n.sa&&(go(e,i,!1),n.sa=r)}else(r=n.sa)&&(n.sa=null,go(e,r,!0))}}function yo(e,t,n){t.video&&go(e,t.video,n),t.audio&&go(e,t.audio,n)}function go(e,t,n){var r=e.c[t.type];if(!r&&"text"==t.type&&e.g.ignoreTextStreamFailures)po(e,t,!0);else if(r){var i=cn(e.b,t);n&&i!=r.Ca?vo(e):(r.sa&&(t.trickModeVideo?(r.sa=t,t=t.trickModeVideo):r.sa=null),(i=e.h[i])&&i.Ua&&(i=e.i[t.id])&&i.Ua&&r.stream!=t&&("text"==t.type&&Ct(e.a.K,Fe(t.mimeType,t.codecs)),r.stream=t,r.xb=!0,n&&(r.za?r.Bb=!0:r.Da?(r.va=!0,r.Bb=!0):(Uo(r),Mo(e,r,!0)))))}}function bo(e){var t=Ji(e.a.Ra),n=e.g.smallGapLimit;Object.keys(e.c).every(function(e){var r=this.a.K;return"text"==e?(e=r.a,e=t>=e.a&&t<e.b):(e=Rt(r,e),e=mt(e,t,n)),e}.bind(e))||vo(e)}function vo(e){for(var t in e.c){var n=e.c[t];n.za||n.va||(n.Da?n.va=!0:null==xt(e.a.K,t)?null==n.ua&&Lo(e,n,0):(Uo(n),Mo(e,n,!1)))}}function wo(e,t,n){var r=Ji(e.a.Ra),i=un(e.b,r),o={},a=[];return t.variant&&t.variant.audio&&(o.audio=t.variant.audio,a.push(t.variant.audio)),t.variant&&t.variant.video&&(o.video=t.variant.video,a.push(t.variant.video)),t.text&&(o.text=t.text,a.push(t.text)),e.a.K.init(o,e.g.forceTransmuxTS).then(function(){if(!e.f){var t=e.b.presentationTimeline.S();return 1/0>t?e.a.K.ja(t):e.a.K.ja(Math.pow(2,32)),Eo(e,a)}}).then(function(){if(!e.f)for(var t in o){var r=o[t];e.c[t]||(e.c[t]=ko(r,i,n),Lo(e,e.c[t],0))}})}function ko(e,t,n){return{stream:e,type:e.type,Ma:null,ma:null,sa:null,xb:!0,Ca:t,endOfStream:!1,Da:!1,ua:null,va:!1,Bb:!1,za:!1,Zb:!1,ab:!1,Mc:n||0}}function So(e,t){var n=e.h[t];if(n)return n.promise;n={promise:new H,Ua:!1},e.h[t]=n;var r=e.b.periods[t].variants.map(function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),e.video&&e.video.trickModeVideo&&t.push(e.video.trickModeVideo),t}).reduce(Te,[]).filter(Ce);return r.push.apply(r,e.b.periods[t].textStreams),e.m=e.m.then(function(){if(!this.f)return Eo(this,r)}.bind(e)).then(function(){this.f||(this.h[t].promise.resolve(),this.h[t].Ua=!0)}.bind(e)).catch(function(e){this.f||(this.h[t].promise.catch(function(){}),this.h[t].promise.reject(),delete this.h[t],this.a.onError(e))}.bind(e)),n.promise}function Eo(e,t){t.map(function(e){return e.id}).filter(Ce);for(var n=[],r=0;r<t.length;++r){var i=t[r],o=e.i[i.id];o?n.push(o.promise):(e.i[i.id]={promise:new H,Ua:!1},n.push(i.createSegmentIndex()))}return Promise.all(n).then(function(){if(!this.f)for(var e=0;e<t.length;++e){var n=this.i[t[e].id];n.Ua||(n.promise.resolve(),n.Ua=!0)}}.bind(e)).catch(function(e){if(!this.f){for(var n=0;n<t.length;n++)this.i[t[n].id].promise.catch(function(){}),this.i[t[n].id].promise.reject(),delete this.i[t[n].id];return Promise.reject(e)}}.bind(e))}function _o(e,t){var n=Ji(e.a.Ra),r=To(e,t,n),i=cn(e.b,t.stream),o=un(e.b,r),a=It(e.a.K,t.type,n),s=Math.max(e.j*Math.max(e.b.minBufferTime||0,e.g.rebufferingGoal),e.j*e.g.bufferingGoal);if(r>=e.b.presentationTimeline.S())return t.endOfStream=!0,null;if(t.endOfStream=!1,t.Ca=o,o!=i)return null;if(a>=s)return.5;if(o=Nt(e.a.K,t.type),!(o=Po(e,t,n,o,i)))return 1;var u=1/0;return Re(e.c).forEach(function(t){u=Math.min(u,To(e,t,n))}),r>=u+e.b.presentationTimeline.a?1:(t.Mc=0,Co(e,t,n,i,o),null)}function To(e,t,n){return t.Ma&&t.ma?e.b.periods[cn(e.b,t.Ma)].startTime+t.ma.endTime:Math.max(n,t.Mc)}function Po(e,t,n,r,i){if(t.ma&&t.stream==t.Ma)return Oo(e,t,i,t.ma.position+1);if(null==(n=t.ma?t.stream.findSegmentPosition(Math.max(0,e.b.periods[cn(e.b,t.Ma)].startTime+t.ma.endTime-e.b.periods[i].startTime)):t.stream.findSegmentPosition(Math.max(0,(r||n)-e.b.periods[i].startTime))))return null;var o=null;return null==r&&(o=Oo(e,t,i,Math.max(0,n-1))),o||Oo(e,t,i,n)}function Oo(e,t,n,r){return n=e.b.periods[n],(t=t.stream.getSegmentReference(r))?(r=e.b.presentationTimeline,e=r.$a(),r=r.La(),n.startTime+t.endTime<e||n.startTime+t.startTime>r?null:t):null}function Co(e,t,n,r,i){var o=e.b.periods[r],a=t.stream,s=e.b.presentationTimeline.S(),u=e.b.periods[r+1];r=No(e,t,r,Math.max(0,o.startTime-.1),u?u.startTime:s),t.Da=!0,t.xb=!1,s=Do(e,i),Promise.all([r,s]).then(function(e){if(!this.f&&!this.l)return Io(this,t,n,o,a,i,e[1])}.bind(e)).then(function(){this.f||this.l||(t.Da=!1,t.Zb=!1,t.va||this.a.cb(),Lo(this,t,0),jo(this,a))}.bind(e)).catch(function(e){this.f||this.l||(t.Da=!1,"text"==t.type&&this.g.ignoreTextStreamFailures?delete this.c.text:3017==e.code?xo(this,t,e):(t.ab=!0,e.severity=2,qo(this,e)))}.bind(e))}function xo(e,t,n){if(!Re(e.c).some(function(e){return e!=t&&e.Zb})){var r=Math.round(100*e.j);if(20<r)e.j-=.2;else{if(!(4<r))return t.ab=!0,e.l=!0,void e.a.onError(n);e.j-=.04}t.Zb=!0}Lo(e,t,4)}function No(e,t,n,r,i){return t.xb?(n=Ft(e.a.K,t.type,e.b.periods[n].startTime-t.stream.presentationTimeOffset,r,i),t.stream.initSegmentReference?(e=Do(e,t.stream.initSegmentReference).then(function(e){if(!this.f)return jt(this.a.K,t.type,e,null,null)}.bind(e)).catch(function(e){return t.xb=!0,Promise.reject(e)}),Promise.all([n,e])):n):Promise.resolve()}function Io(e,t,n,r,i,o,a){return i.containsEmsgBoxes&&(new ir).Z("emsg",e.he.bind(e,r,o)).parse(a),Ro(e,t,n).then(function(){if(!this.f)return jt(this.a.K,t.type,a,o.startTime,o.endTime)}.bind(e)).then(function(){if(!this.f)return t.Ma=i,t.ma=o,Promise.resolve()}.bind(e))}function Ro(e,t,n){var r=Math.max(e.g.bufferBehind,e.b.presentationTimeline.a),i=xt(e.a.K,t.type);return null==i?Promise.resolve():(n=n-i-r,0>=n?Promise.resolve():e.a.K.remove(t.type,i,i+n).then(function(){}.bind(e)))}function jo(e,t){if(!e.o&&(e.o=Re(e.c).every(function(e){return"text"==e.type||!e.va&&!e.za&&e.ma}),e.o)){var n=cn(e.b,t);for(e.h[n]||So(e,n).then(function(){this.f||this.a.xc()}.bind(e)).catch(Pe),n=0;n<e.b.periods.length;++n)So(e,n).catch(Pe);e.a.$d&&e.a.$d()}}function Ao(e,t){if(t.Ca!=cn(e.b,t.stream)){var n=t.Ca,r=Re(e.c);r.every(function(e){return e.Ca==n})&&r.every(Fo)&&So(e,n).then(function(){if(!this.f&&r.every(function(e){var t=cn(this.b,e.stream);return Fo(e)&&e.Ca==n&&t!=n}.bind(this))){var e=this.b.periods[n],t=this.a.yc(e),i={};t.variant&&t.variant.video&&(i.video=t.variant.video),t.variant&&t.variant.audio&&(i.audio=t.variant.audio),t.text&&(i.text=t.text);for(var o in this.c)if(!i[o]&&"text"!=o)return void this.a.onError(new X(2,5,5005));for(var a in i)if(!this.c[a]){if("text"!=a)return void this.a.onError(new X(2,5,5005));wo(this,{text:i.text},e.startTime),delete i[a]}for(var s in this.c)(e=i[s])?(go(this,e,!1),Lo(this,this.c[s],0)):delete this.c[s];this.a.xc()}}.bind(e)).catch(Pe)}}function Fo(e){return!e.Da&&null==e.ua&&!e.va&&!e.za}function Do(e,t){var n=de(t.c(),e.g.retryParameters);if(0!=t.b||null!=t.a){var r="bytes="+t.b+"-";null!=t.a&&(r+=t.a),n.headers.Range=r}return e.a.Oa.request(1,n).promise.then(function(e){return e.data})}function Mo(e,t,n){t.va=!1,t.Bb=!1,t.za=!0,At(e.a.K,t.type).then(function(){if(!this.f&&n)return this.a.K.flush(t.type)}.bind(e)).then(function(){this.f||(t.Ma=null,t.ma=null,t.za=!1,t.endOfStream=!1,Lo(this,t,0))}.bind(e))}function Lo(t,n,r){n.ua=e.setTimeout(t.Re.bind(t,n),1e3*r)}function Uo(t){null!=t.ua&&(e.clearTimeout(t.ua),t.ua=null)}function qo(e,t){G(e.A).then(function(){this.f||(this.a.onError(t),t.handled||this.g.failureCallback(t))}.bind(e))}function Bo(e,t,n,r,i,o){if(200<=n&&299>=n&&202!=n)return i&&(r=i),{uri:r,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=Le(t)}catch(e){}throw new X(401==n||403==n?2:1,1,1001,r,n,i,e,o)}function Ko(e,t,n){var r=new Ko.b;Ae(t.headers,function(e,t){r.append(e,t)});var i,o=new Ko.a,a={body:t.body||void 0,headers:r,method:t.method,signal:o.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},s=!1,u=!1;return t.retryParameters.timeout&&(i=setTimeout(function(){u=!0,o.abort()},t.retryParameters.timeout)),t=Ko.c,a=t(e,a).then(function(t){return clearTimeout(i),t.arrayBuffer().then(function(r){var i={};return t.headers.forEach(function(e,t){i[t.trim()]=e}),Bo(i,r,t.status,e,t.url,n)})}).catch(function(t){return clearTimeout(i),s?Promise.reject(new X(1,1,7001,e,n)):u?Promise.reject(new X(1,1,1003,e,n)):void 0==t.severity?Promise.reject(new X(1,1,1002,e,t,n)):Promise.reject(t)}),new Y(a,function(){return s=!0,o.abort(),Promise.resolve()})}function Ho(e,t,n){var r=new Ho.f;return new Y(new Promise(function(i,o){r.open(t.method,e,!0),r.responseType="arraybuffer",r.timeout=t.retryParameters.timeout,r.withCredentials=t.allowCrossSiteCredentials,r.onabort=function(){o(new X(1,1,7001,e,n))},r.onload=function(t){t=t.target;var r=t.getAllResponseHeaders().trim().split("\r\n").reduce(function(e,t){var n=t.split(": ");return e[n[0].toLowerCase()]=n.slice(1).join(": "),e},{});try{var a=Bo(r,t.response,t.status,e,t.responseURL,n);i(a)}catch(e){o(e)}},r.onerror=function(t){o(new X(1,1,1002,e,t,n))},r.ontimeout=function(){o(new X(1,1,1003,e,n))};for(var a in t.headers)r.setRequestHeader(a.toLowerCase(),t.headers[a]);r.send(t.body)}),function(){return r.abort(),Promise.resolve()})}function Vo(e){this.a={},this.c=Promise.resolve(),this.h=!1,this.i=e,this.f=this.b=this.g=0}function Go(e,t,n,r,i){e.a[t]=e.a[t]||[],e.a[t].push({request:n,nc:r,Hd:i})}function Wo(e,t){var n=Re(e.a);e.a={},n.forEach(function(t){t.forEach(function(t){e.b+=t.nc})});var r=Promise.resolve().then(function(){return Qo(e),Promise.all(n.map(function(n){return Xo(e,t,n)}))});return e.c=e.c.then(function(){return r}),r}function Xo(e,t,n){var r=Promise.resolve();return n.forEach(function(n){r=r.then(function(){return Qo(e),Yo(e,t,n)})}),r}function Yo(e,t,n){return Promise.resolve().then(function(){return Qo(e),t.request(1,n.request).promise}).then(function(t){return Qo(e),e.g+=n.nc,e.f+=t.data.byteLength,e.i(e.b?e.g/e.b:0,e.f),n.Hd(t.data)})}function Qo(e){if(e.h)throw new X(2,9,7001)}function zo(e,t){var n=this;this.c=e,this.b=e.objectStore(t),this.a=new H,e.onabort=function(e){e.preventDefault(),n.a.reject()},e.onerror=function(e){e.preventDefault(),n.a.reject()},e.oncomplete=function(){n.a.resolve()}}function $o(e){this.b=e,this.a=[]}function Jo(e,t){return Zo(e,t,"readwrite")}function Zo(e,t,n){n=e.b.transaction([t],n);var r=new zo(n,t);return e.a.push(r),r.promise().then(function(){re(e.a,r)},function(){re(e.a,r)}),r}function ea(){this.a={}}function ta(e){var t=null;if(Ae(e.a,function(e,n){Ae(n.getCells(),function(n,r){r.hasFixedKeySpace()||t||(t={path:{aa:e,O:n},O:r})})}),t)return t;throw new X(2,9,9013,"Could not find a cell that supports add-operations")}function na(e,t){Ae(e.a,function(e,n){Ae(n.getCells(),function(n,r){t({aa:e,O:n},r)})})}function ra(e,t,n){if(!(e=e.a[t]))throw new X(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells()[n]))throw new X(2,9,9013,"Could not find cell with name "+n);return t}function ia(e){return e=Re(e.a).map(function(e){return e.erase()}),Promise.all(e)}function oa(){return Re(Gc).some(function(e){return!!(e=e())&&(e.destroy(),!0)})}function aa(e){this.a=new $o(e)}function sa(e){return Promise.reject(new X(2,9,9011,"Cannot add new value to "+e))}function ua(e,t,n,r){e=Jo(e.a,t);var i=e.store();return n.forEach(function(e){i.delete(e).onsuccess=function(){return r(e)}}),e.promise()}function ca(e,t,n){e=Zo(e.a,t,"readonly");var r=e.store(),i={},o=[];return n.forEach(function(e){r.get(e).onsuccess=function(t){t=t.target.result,void 0==t&&o.push(e),i[e]=t}}),e.promise().then(function(){return o.length?Promise.reject(new X(2,9,9012,"Could not find values for "+o)):n.map(function(e){return i[e]})})}function la(e){return{originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,periods:e.periods.map(fa),sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata}}function fa(e){return ya(e),e.streams.forEach(function(){}),{startTime:e.startTime,streams:e.streams.map(da)}}function da(e){var t=e.Bd?ma(e.Bd):null;return{id:e.id,primary:e.primary,presentationTimeOffset:e.presentationTimeOffset,contentType:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:t,encrypted:e.encrypted,keyId:e.keyId,segments:e.segments.map(pa),variantIds:e.variantIds}}function pa(e){var t=ma(e.uri);return{startTime:e.startTime,endTime:e.endTime,dataKey:t}}function ha(e){return{data:e.data}}function ma(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new X(2,9,9004,"Could not parse uri "+e)}function ya(e){var t=e.streams.filter(function(e){return"audio"==e.contentType}),n=e.streams.filter(function(e){return"video"==e.contentType});if(!t.every(function(e){return e.variantIds})||!n.every(function(e){return e.variantIds})){t.forEach(function(e){e.variantIds=[]}),n.forEach(function(e){e.variantIds=[]});var r=0;if(n.length&&!t.length){var i=r++;n.forEach(function(e){e.variantIds.push(i)})}if(!n.length&&t.length){var o=r++;t.forEach(function(e){e.variantIds.push(o)})}n.length&&t.length&&t.forEach(function(e){n.forEach(function(t){var n=r++;e.variantIds.push(n),t.variantIds.push(n)})})}}function ga(e,t,n,r){this.a=new $o(e),this.c=t,this.b=n,this.f=r}function ba(e,t,n){if(e.f)return Promise.reject(new X(1,9,9011,"Cannot add new value to "+t));e=Jo(e.a,t);var r=e.store(),i=[];return n.forEach(function(e){r.add(e).onsuccess=function(e){i.push(e.target.result)}}),e.promise().then(function(){return i})}function va(e,t,n,r){e=Jo(e.a,t);var i=e.store();return n.forEach(function(e){i.delete(e).onsuccess=function(){return r(e)}}),e.promise()}function wa(e,t,n){e=Zo(e.a,t,"readonly");var r=e.store(),i={},o=[];return n.forEach(function(e){var t=r.get(e);t.onsuccess=function(){void 0==t.result&&o.push(e),i[e]=t.result}}),e.promise().then(function(){return o.length?Promise.reject(new X(1,9,9012,"Could not find values for "+o)):n.map(function(e){return i[e]})})}function ka(){this.c=this.b=this.a=this.f=null}function Sa(){var t=new H,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new X(2,9,9001,n.error)),e.preventDefault()},t}function Ea(e,t,n,r){this.a=e,this.g=t,this.f=n,this.c=r,this.b=["offline:",e,"/",t,"/",n,"/",r].join("")}function _a(e){if(null==(e=/^offline:([a-z]+)\/([^\/]+)\/([^\/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new Ea(t,n,r,Number(e[4])):null}function Ta(e,t){this.b=e,this.a=t}function Pa(e,t){var n=new Mr(null,0);n.ja(t.duration);var r=t.periods.map(function(t){return Oa(e,t,n)}),i=t.drmInfo?[t.drmInfo]:[];return t.drmInfo&&r.forEach(function(e){e.variants.forEach(function(e){e.drmInfos=i})}),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,periods:r}}function Oa(e,t,n){var r=t.streams.filter(function(e){return"audio"==e.contentType}),i=t.streams.filter(function(e){return"video"==e.contentType});return r=Ca(e,r,i),i=t.streams.filter(function(e){return"text"==e.contentType}).map(function(t){return xa(e,t)}),t.streams.forEach(function(t,r){var i=t.segments.map(function(t,n){return Na(e,n,t)});n.Pa(i,0==r)}),{startTime:t.startTime,variants:r,textStreams:i}}function Ca(e,t,n){var r={},i=[];return i.push.apply(i,t),i.push.apply(i,n),i.forEach(function(e){e.variantIds.forEach(function(e){r[e]=r[e]||{id:e,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0}})}),t.forEach(function(t){var n=xa(e,t);t.variantIds.forEach(function(e){e=r[e],e.language=n.language,e.primary=e.primary||n.primary,e.audio=n})}),n.forEach(function(t){var n=xa(e,t);t.variantIds.forEach(function(e){e=r[e],e.primary=e.primary||n.primary,e.video=n})}),Re(r)}function xa(e,t){var n=t.segments.map(function(t,n){return Na(e,n,t)}),r=new dr(n);return n={id:t.id,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(e){return r.find(e)},getSegmentReference:function(e){return r.get(e)},initSegmentReference:null,presentationTimeOffset:t.presentationTimeOffset,mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate||void 0,kind:t.kind,encrypted:t.encrypted,keyId:t.keyId,language:t.language,label:t.label||null,type:t.contentType,primary:t.primary,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null},null!=t.initSegmentKey&&(n.initSegmentReference=Ia(e,t.initSegmentKey)),n}function Na(e,t,n){var r=new Ea("segment",e.b,e.a,n.dataKey);return new tr(t,n.startTime,n.endTime,function(){return[r.toString()]},0,null)}function Ia(e,t){var n=new Ea("segment",e.b,e.a,t);return new er(function(){return[n.toString()]},0,null)}function Ra(){this.a=null}function ja(e){var t=_a(e);return t&&"manifest"==t.a?ja.a(e):t&&"segment"==t.a?ja.b(t.key(),t):Q(new X(2,1,9004,e))}function Aa(e){this.a=null,this.b=e;for(var t=0;t<e.textTracks.length;++t){var n=e.textTracks[t];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function Fa(e,t){if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,n.size=e.size;try{n.align=e.textAlign}catch(e){}if("center"==e.textAlign&&"center"!=n.align&&(n.align="middle"),2==e.writingDirection?n.vertical="lr":3==e.writingDirection&&(n.vertical="rl"),1==e.lineInterpretation&&(n.snapToLines=!1),null!=e.line&&(n.line=e.line),null!=e.position&&(n.position=e.position),e.region.id.length){var r=t.filter(function(t){return t.id==e.region.id});r.length&&(n.region=r[0])}return n}function Da(e,t){var n=new VTTRegion,r=e.b.offsetWidth,i=e.b.offsetHeight;return n.id=t.id,n.regionAnchorX=t.regionAnchorX,n.regionAnchorY=t.regionAnchorY,n.scroll=t.scroll,2==t.heightUnits&&(n.lines=t.height),n.width=0==t.widthUnits?100*t.width/r:t.width,0==t.viewportAnchorUnits?(n.viewportAnchorX=100*t.viewportAnchorX/r,n.viewportAnchorY=100*t.viewportAnchorY/i):(n.viewportAnchorX=t.viewportAnchorX,n.viewportAnchorY=t.viewportAnchorY),n}function Ma(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=e.cues,i=r.length-1;0<=i;i--){var o=r[i];o&&t(o)&&e.removeCue(o)}e.mode=n}function La(e,t){vn.call(this),this.xa=!1,this.f=null,this.Xa=!1,this.w=null,this.o=new be,this.h=this.Db=this.b=this.m=this.a=this.A=this.g=this.i=this.l=this.u=null,this.ad=1e9,this.nb=[],this.qb=!1,this.ya=!0,this.T=this.rb=this.Ia=null,this.jc=!1,this.H=null,this.pb=[],this.J={},this.c=$a(this),this.ob={width:1/0,height:1/0},this.j=Ja(),this.mb=0,this.L=this.c.preferredAudioLanguage,this.wa=this.c.preferredTextLanguage,this.Ha=this.c.preferredVariantRole,this.Wa=this.c.preferredTextRole,this.Y=this.c.preferredAudioChannelCount,t&&t(this),this.u=new le(this.Je.bind(this)),e&&this.sb(e,!0)}function Ua(e){if(!e.Ia)return Promise.resolve();var t=Promise.resolve();return e.m&&(t=e.m.stop(),e.m=null),Promise.all([t,e.Ia()])}function qa(e,t,n){return l(function r(){var i,o;return T(r,function(r){switch(r.B){case 1:return h(r,Dr(t,e.u,e.c.manifest.retryParameters,n),2);case 2:return i=r.N,e.m=new i,e.m.configure(e.c.manifest),o={networkingEngine:e.u,filterNewPeriod:e.ub.bind(e),filterAllPeriods:e.dc.bind(e),onTimelineRegionAdded:e.ae.bind(e),onEvent:e.ib.bind(e),onError:e.Va.bind(e)},r.return(e.m.start(t,o))}})})}function Ba(e){if(e.b.periods.some(function(e){return e.variants.some(function(e){return e.video&&e.audio})})&&e.b.periods.forEach(function(e){e.variants=e.variants.filter(function(e){return e.video&&e.audio})}),0==e.b.periods.length)throw new X(2,4,4014)}function Ka(e){var t=e.b.presentationTimeline.S(),n=e.c.playRangeEnd,r=e.c.playRangeStart;0<r&&(e.P()||e.b.presentationTimeline.Tc(r)),n<t&&(e.P()||e.b.presentationTimeline.ja(n))}function Ha(e){function t(e){return(e.video?e.video.codecs.split(".")[0]:"")+"-"+(e.audio?e.audio.codecs.split(".")[0]:"")}var n=e.b.periods.reduce(function(e,t){return e.concat(t.variants)},[]);n=tn(n,e.c.preferredAudioChannelCount);var r={};n.forEach(function(e){var n=t(e);n in r||(r[n]=[]),r[n].push(e)});var i=null,o=1/0;Ae(r,function(e,t){var n=0,r=0;t.forEach(function(e){n+=e.bandwidth||0,++r});var a=n/r;a<o&&(i=e,o=a)}),e.b.periods.forEach(function(e){e.variants=e.variants.filter(function(e){return t(e)==i})})}function Va(e){if(e.m&&e.m.configure(e.c.manifest),e.l&&e.l.configure(e.c.drm),e.a){e.a.configure(e.c.streaming);try{e.b.periods.forEach(e.ub.bind(e))}catch(t){e.Va(t)}var t=co(e.a),n=lo(e.a),r=so(e.a);(t=an(t,n,r.variants))&&t.allowedByApplication&&t.allowedByKeySystem||rs(e,r)}e.h&&(e.h.configure(e.c.abr),e.c.abr.enabled&&!e.ya?e.h.enable():e.h.disable())}function Ga(e){var t=[];return e.forEach(function(e){if(e){var n=e.language;e.roles.length?e.roles.forEach(function(e){t.push({language:n,role:e})}):t.push({language:n,role:""})}else t.push({language:"und",role:""})}),te(t,function(e,t){return e.language==t.language&&e.role==t.role})}function Wa(e,t,n){t.video&&Ya(e,t.video),t.audio&&Ya(e,t.audio);var r=uo(e.a);t!=an(co(e.a),lo(e.a),r?r.variants:[])&&e.j.switchHistory.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})}function Xa(e,t,n){Ya(e,t),e.j.switchHistory.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null})}function Ya(e,t){var n=cn(e.b,t);e.J[n]||(e.J[n]={}),e.J[n][t.type]=t.id}function Qa(e){e.o&&(e.o.na(e.f,"loadeddata"),e.o.na(e.f,"playing"),e.o.na(e.f,"pause"),e.o.na(e.f,"ended"));var t=Promise.all([e.h?e.h.stop():null,e.i?e.i.destroy():null,e.l?e.l.destroy():null,e.g?e.g.destroy():null,e.A?e.A.destroy():null,e.a?e.a.destroy():null,e.m?e.m.stop():null,e.w?e.w.destroy():null]);return e.ya=!0,e.l=null,e.i=null,e.g=null,e.A=null,e.a=null,e.m=null,e.w=null,e.b=null,e.Db=null,e.pb=[],e.J={},e.j=Ja(),t}function za(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0)}}}function $a(e){var t=5e5,n=1/0;return navigator.connection&&navigator.connection.type&&(t=1e6*navigator.connection.downlink,navigator.connection.saveData&&(n=360)),{drm:{retryParameters:W(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:W(),availabilityWindowOverride:NaN,dash:{customScheme:function(e){if(e)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10}},streaming:{retryParameters:W(),failureCallback:e.jd.bind(e),rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1},abrFactory:ln,textDisplayFactory:function(){return new Aa(e.f)},abr:{enabled:!0,defaultBandwidthEstimate:t,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:n,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0}}function Ja(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function Za(e,t,n){e.ya?(e.T=t,e.jc=n||!1):yo(e.a,t,n||!1)}function es(e){if(e.b){var t=Date.now()/1e3;e.qb?e.j.bufferingTime+=t-e.mb:e.j.playTime+=t-e.mb,e.mb=t}}function ts(e,t){function n(e,t){if(!e)return null;var n=e.findSegmentPosition(t-o.startTime);return null==n?null:(n=e.getSegmentReference(n))?n.startTime+o.startTime:null}var r=co(e.a),i=lo(e.a),o=so(e.a);return r=n(r,t),i=n(i,t),null!=i&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:t}function ns(e,t){return t&&t.length?(e.h.setVariants(t),e.h.chooseVariant()):(e.Va(new X(2,4,4012)),null)}function rs(e,t){var n=Zt(t.variants,e.L,e.Ha,e.Y),r=nn(t.textStreams,e.wa,e.Wa);(n=ns(e,n))&&(Wa(e,n,!0),Za(e,n,!0)),(r=r[0])&&(e.c.streaming.alwaysStreamText||e.Nb())&&(Xa(e,r,!0),e.ya?e.H=r:go(e.a,r,!0)),is(e)}function is(e){Promise.resolve().then(function(){this.xa||this.dispatchEvent(new Ee("adaptation"))}.bind(e))}function os(e){Promise.resolve().then(function(){this.xa||this.dispatchEvent(new Ee("trackschanged"))}.bind(e))}function as(e){e.dispatchEvent(new Ee("texttrackvisibility"))}function ss(e,t,n){var r=void 0==t.expiration?1/0:t.expiration,i=t.presentationTimeline.S();return t=Xt(t.periods[0]),{offlineUri:null,originalManifestUri:e,duration:i,size:0,expiration:r,tracks:t,appMetadata:n}}function us(e,t){var n=Oa(new Ta(e.aa(),e.O()),t.periods[0],new Mr(null,0)),r=t.appMetadata||{};return n=Xt(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,
appMetadata:r}}function cs(){this.a={}}function ls(e,t,n){return n=n.endTime-n.startTime,fs(e,t)*n}function fs(e,t){var n=e.a[t];return null==n&&(n=0),n}function ds(e){if(!e||e.constructor!=La)throw new X(2,9,9008);this.a=e,this.b=vs(this),this.g=!1,this.c=null,this.f=[]}function ps(){return oa()}function hs(e,t,n,r,i,o){var a,s=ss(i,r,o),u=new Vo(function(t,n){s.size=n,e.b.progressCallback(s,t)});return se([u],function(){return a=Es(e,u,t,n,r,i,o),Wo(u,e.a.u)}).then(function(){return a.size=s.size,a})}function ms(e,t,n){var r,i=new ze({Oa:e.a.u,onError:function(e){6013!=e.code&&(r=e)},yb:function(){},onExpirationUpdated:function(){},onEvent:function(){}});i.configure(e.a.getConfiguration().drm);var o=Pa(new Ta(t.aa(),t.O()),n);return se([i],function(){return l(function t(){return T(t,function(t){switch(t.B){case 1:return h(t,i.init(o,e.b.usePersistentLicense),2);case 2:return h(t,$e(i,n.sessionIds),0)}})})}).then(function(){if(r)throw r})}function ys(e,t,n,r){function i(){s+=1,e.b.progressCallback(u,s/a)}var o=Ns(r),a=o.length+1,s=0,u=us(n,r);return Promise.all([t.removeSegments(o,i),t.removeManifests([n.key()],i)])}function gs(e,t,n,r){function i(){}var o,a,s,u=e.a.u,c=e.a.getConfiguration();return Dr(t,u,c.manifest.retryParameters,r).then(function(e){var r=this;Os(this),a=new ze({Oa:u,onError:n,yb:i,onExpirationUpdated:function(){},onEvent:function(){}}),a.configure(c.drm);var o={networkingEngine:u,filterAllPeriods:function(e){ws(r,a,e)},filterNewPeriod:function(e){ks(r,a,e)},onTimelineRegionAdded:function(){},onEvent:function(){},onError:n};return s=new e,s.configure(c.manifest),s.start(t,o)}.bind(e)).then(function(e){return Os(this),o=e,a.init(o,this.b.usePersistentLicense)}.bind(e)).then(function(){return Os(this),Ss(o)}.bind(e)).then(function(){return Os(this),Je(a)}.bind(e)).then(function(){return Os(this),s.stop()}.bind(e)).then(function(){return Os(this),{manifest:o,Fb:a}}.bind(e)).catch(function(e){if(s)return s.stop().then(function(){throw e});throw e})}function bs(e,t){var n=[],r=qt(e),i=[0,yc,gc],o=t.filter(function(e){return"variant"==e.type});i=i.map(function(e){return o.filter(function(t){return t=qt(t.language),Ut(e,r,t)})});for(var a,s=0;s<i.length;s++)if(i[s].length){a=i[s];break}a||(i=o.filter(function(e){return e.primary}),i.length&&(a=i)),a||(a=o,o.map(function(e){return e.language}).filter(Ce));var u=a.filter(function(e){return e.height&&480>=e.height});return u.length&&(u.sort(function(e,t){return t.height-e.height}),a=u.filter(function(e){return e.height==u[0].height})),a.sort(function(e,t){return e.bandwidth-t.bandwidth}),a.length&&n.push(a[Math.floor(a.length/2)]),n.push.apply(n,t.filter(function(e){return"text"==e.type})),n}function vs(e){return{trackSelectionCallback:function(t){return bs(e.a.getConfiguration().preferredAudioLanguage,t)},progressCallback:function(e,t){if(e||t)return null},usePersistentLicense:!0}}function ws(e,t,n){n.forEach(function(n){return ks(e,t,n)})}function ks(e,t,n){var r=null;if(e.c){var i=e.c.filter(function(e){return"variant"==e.type})[0];i&&(r=zt(n,i))}var o=i=null;r&&(r.audio&&(i=r.audio),r.video&&(o=r.video)),Ht(t,i,o,n),Kt(n,e.a.getConfiguration().restrictions,{width:1/0,height:1/0})}function Ss(e){var t=e.periods.map(function(e){return e.variants}).reduce(Te,[]).map(function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t}).reduce(Te,[]).filter(Ce);return e=e.periods.map(function(e){return e.textStreams}).reduce(Te,[]),t.push.apply(t,e),Promise.all(t.map(function(e){return e.createSegmentIndex()}))}function Es(e,t,n,r,i,o,a){var s=new cs,u=i.periods.map(function(o){return _s(e,t,n,s,r,i,o)}),c=r.b,l=Ze(r);if(c&&e.b.usePersistentLicense){if(!l.length)throw new X(2,9,9007,o);c.initData=[]}return{originalManifestUri:o,duration:i.presentationTimeline.S(),size:0,expiration:r.wb(),periods:u,sessionIds:e.b.usePersistentLicense?l:[],drmInfo:c,appMetadata:a}}function _s(e,t,n,r,i,o,a){var s=Yt(a,null,null),u=Qt(a,null);s=e.b.trackSelectionCallback(s.concat(u)),null==e.c&&(e.c=s,ws(e,i,o.periods)),Rs(s),o.periods.forEach(function(e){e.variants.forEach(function(e){var t=e.audio,n=e.video;if(t&&!n&&(r.a[t.id]=t.bandwidth||e.bandwidth),!t&&n&&(r.a[n.id]=n.bandwidth||e.bandwidth),t&&n){var i=t.bandwidth||393216,o=n.bandwidth||e.bandwidth-i;0>=o&&(o=e.bandwidth),r.a[t.id]=i,r.a[n.id]=o}}),e.textStreams.forEach(function(e){r.a[e.id]=52})});var c={};s.forEach(function(e){"variant"==e.type&&null!=e.audioId&&(c[e.audioId]=!0),"variant"==e.type&&null!=e.videoId&&(c[e.videoId]=!0),"text"==e.type&&(c[e.id]=!0)});var l={};return js(o).filter(function(e){return!!c[e.id]}).forEach(function(i){l[i.id]=Ts(e,t,n,r,o,i)}),s.forEach(function(e){"variant"==e.type&&null!=e.audioId&&l[e.audioId].variantIds.push(e.id),"variant"==e.type&&null!=e.videoId&&l[e.videoId].variantIds.push(e.id)}),{startTime:a.startTime,streams:Re(l)}}function Ts(e,t,n,r,i,o){var a={id:o.id,primary:o.primary,presentationTimeOffset:o.presentationTimeOffset||0,contentType:o.type,mimeType:o.mimeType,codecs:o.codecs,frameRate:o.frameRate,kind:o.kind,language:o.language,label:o.label,width:o.width||null,height:o.height||null,initSegmentKey:null,encrypted:o.encrypted,keyId:o.keyId,segments:[],variantIds:[]};i=i.presentationTimeline.$a();var s=o.id;return Ps(o,i,function(i){Go(t,s,xs(e,i),ls(r,o.id,i),function(t){return n.addSegments([{data:t}]).then(function(t){e.f.push(t[0]),a.segments.push({startTime:i.startTime,endTime:i.endTime,dataKey:t[0]})})})}),(i=o.initSegmentReference)&&Go(t,s,xs(e,i),.5*fs(r,o.id),function(t){return n.addSegments([{data:t}]).then(function(t){e.f.push(t[0]),a.initSegmentKey=t[0]})}),a}function Ps(e,t,n){t=e.findSegmentPosition(t);for(var r=null==t?null:e.getSegmentReference(t);r;)n(r),r=e.getSegmentReference(++t)}function Os(e){if(!e.a)throw new X(2,9,7001)}function Cs(){if(!oa())throw new X(2,9,9e3)}function xs(e,t){var n=e.a.getConfiguration().streaming.retryParameters;return n=de(t.c(),n),0==t.b&&null==t.a||(n.headers.Range="bytes="+t.b+"-"+(null==t.a?"":t.a)),n}function Ns(e){var t=[];return e.periods.forEach(function(e){e.streams.forEach(function(e){null!=e.initSegmentKey&&t.push(e.initSegmentKey),e.segments.forEach(function(e){t.push(e.dataKey)})})}),t}function Is(e,t,n){var r=new ze({Oa:e,onError:function(){},yb:function(){},onExpirationUpdated:function(){},onEvent:function(){}});return r.configure(t),se([r],function(){return l(function e(){return T(e,function(e){switch(e.B){case 1:return h(e,r.init(n,!0),2);case 2:return h(e,$e(r,n.offlineSessionIds),0)}})})})}function Rs(e){e.some(function(t){return e.some(function(e){return t!=e&&t.type==e.type&&t.kind==e.kind&&t.language==e.language})})}function js(e){var t={};return e.periods.forEach(function(e){e.textStreams.forEach(function(e){t[e.id]=e}),e.variants.forEach(function(e){e.audio&&(t[e.audio.id]=e.audio),e.video&&(t[e.video.id]=e.video)})}),Re(t)}function As(e){var t=[],n=[];return na(e,function(e,r){var i=new Ta(e.aa,e.O);n.push(r.getAllManifests().then(function(e){Re(e).forEach(function(e){t.push(Pa(i,e))})}))}),Promise.all(n).then(function(){return t})}function Fs(e,t){t=t||0;for(var n={priority:t,cd:e},r=0;r<Xc.length;r++)if(Xc[r].priority<t)return void Xc.splice(r,0,n);Xc.push(n)}function Ds(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(t,e);else n=document.createEvent("Event"),n.initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function Ms(e,t,n){if("input"==e)switch(this.type){case"range":e="change"}Yc.call(this,e,t,n)}function Ls(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,arguments);return t.abort=function(){},t}}function Us(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function qs(){var e=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var t=0,n=0;n<this.sourceBuffers.length;++n){var r=this.sourceBuffers[n];r=r.buffered.end(r.buffered.length-1),t=Math.max(t,r)}if(!isNaN(this.duration)&&t<this.duration)for(this.tc=!0,t=0;t<this.sourceBuffers.length;++t)this.sourceBuffers[t].oc=!1;return e.apply(this,arguments)};var t=!1,n=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var e=n.apply(this,arguments);return e.mediaSource_=this,e.addEventListener("updateend",Bs,!1),t||(this.addEventListener("sourceclose",Ks,!1),t=!0),e}}function Bs(e){var t=e.target,n=t.mediaSource_;if(n.tc){for(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.oc=!0,e=0;e<n.sourceBuffers.length;++e)if(0==n.sourceBuffers[e].oc)return;n.tc=!1}}function Ks(e){e=e.target;for(var t=0;t<e.sourceBuffers.length;++t)e.sourceBuffers[t].removeEventListener("updateend",Bs,!1);e.removeEventListener("sourceclose",Ks,!1)}function Hs(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1]&&e(t)}}function Vs(){var e=MediaSource.isTypeSupported,t=/^dv(?:he|av)\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],o={},a=1;a<r.length;++a){var s=r[a].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),o[u]=s}if(!(r=o.codecs))return e(n);var c=!1,l=!1;n=r.split(",").filter(function(e){return t.test(e)?(l=!0,!1):(/^(hev|hvc)1\.2/.test(e)&&(c=!0),!0)}),l&&(c=!1),o.codecs=n.join(","),c&&(o.eotf="smpte2084");for(var f in o)i+="; "+f+'="'+o[f]+'"';return cast.__platform__.canDisplayType(i)}}function Gs(e){this.f=[],this.b=[],this.a=[],(new ir).Z("pssh",this.c.bind(this)).parse(e.buffer)}function Ws(e,t){try{var n=new Xs(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Xs(e,t){this.keySystem=e;for(var n=!1,r=0;r<t.length;++r){var i=t[r],o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},a=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var u=i.audioCapabilities[s];if(u.contentType){a=!0;var c=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,c)&&(o.audioCapabilities.push(u),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)u=i.videoCapabilities[s],u.contentType&&(a=!0,c=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,c)&&(o.videoCapabilities.push(u),n=!0));if(a||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=o)}throw n=Error("Unsupported keySystem"),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ys(e){var t=this.mediaKeys;return t&&t!=e&&zs(t,null),delete this.mediaKeys,(this.mediaKeys=e)?zs(e,this):Promise.resolve()}function Qs(e){this.a=new MSMediaKeys(e),this.b=new be}function zs(e,t){function n(){t.msSetMediaKeys(r.a),t.removeEventListener("loadedmetadata",n)}if(ke(e.b),!t)return Promise.resolve();ve(e.b,t,"msneedkey",Js);var r=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener("loadedmetadata",n),Promise.resolve()}catch(e){return Promise.reject(e)}}function $s(e){vn.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new be,this.sessionId="",this.expiration=NaN,this.closed=new H,this.keyStatuses=new tu}function Js(e){var t=document.createEvent("CustomEvent");if(t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",e=e.initData){var n=new Gs(e);if(!(1>=n.a.length)){for(var r=[],i=0;i<n.a.length;i++)r.push(e.subarray(n.a[i].start,n.a[i].end+1));for(e=te(r,Zs),r=n=0;r<e.length;r++)n+=e[r].length;for(n=new Uint8Array(n),i=r=0;i<e.length;i++)n.set(e[i],r),r+=e[i].length;e=n}}t.initData=e,this.dispatchEvent(t)}function Zs(e,t){return Ye(e,t)}function eu(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new Ee("keystatuseschange"))}function tu(){this.size=0,this.a=void 0}function nu(){return Promise.reject(Error("The key system specified is not supported."))}function ru(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function iu(){throw new TypeError("Illegal constructor.")}function ou(){throw new TypeError("Illegal constructor.")}function au(e){var t=zc;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function su(e,t){try{var n=new cu(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function uu(e){var t=this.mediaKeys;return t&&t!=e&&fu(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&fu(e,this),Promise.resolve()}function cu(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var o=0;o<t.length;++o){var a=t[o],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:a.initDataTypes,sessionTypes:["temporary"],label:a.label},u=!1;if(a.audioCapabilities)for(var c=0;c<a.audioCapabilities.length;++c){var l=a.audioCapabilities[c];if(l.contentType){u=!0;var f=l.contentType.split(";")[0];i.canPlayType(f,this.a)&&(s.audioCapabilities.push(l),r=!0)}}if(a.videoCapabilities)for(c=0;c<a.videoCapabilities.length;++c)l=a.videoCapabilities[c],l.contentType&&(u=!0,i.canPlayType(l.contentType,this.a)&&(s.videoCapabilities.push(l),r=!0));if(u||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==a.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),n=Error(n),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function lu(e){this.g=e,this.b=null,this.a=new be,this.c=[],this.f={}}function fu(e,t){e.b=t,ke(e.a);var n=zc;t&&(ve(e.a,t,n+"needkey",e.fe.bind(e)),ve(e.a,t,n+"keymessage",e.ee.bind(e)),ve(e.a,t,n+"keyadded",e.ce.bind(e)),ve(e.a,t,n+"keyerror",e.de.bind(e)))}function du(e,t){var n=e.f[t];return n||((n=e.c.shift())?(n.sessionId=t,e.f[t]=n):null)}function pu(e,t,n){vn.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new H,this.keyStatuses=new yu}function hu(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var r=new Uint8Array(Ue("LOAD_SESSION|"+n));else{var i=Ue("PERSISTENT|"),o=new Uint8Array(i.byteLength+t.byteLength);o.set(new Uint8Array(i),0),o.set(new Uint8Array(t),i.byteLength),r=o}else r=new Uint8Array(t)}catch(e){return Promise.reject(e)}e.b=new H;var a=au("generateKeyRequest");try{e.f[a](e.c,r)}catch(t){if("InvalidStateError"!=t.name)return e.b=null,Promise.reject(t);setTimeout(function(){try{this.f[a](this.c,r)}catch(e){this.b.reject(e),this.b=null}}.bind(e),10)}return e.b}function mu(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new Ee("keystatuseschange"))}function yu(){this.size=0,this.a=void 0}function gu(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function bu(t,n,r){return new e.TextTrackCue(t,n,r)}function vu(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function wu(){}function ku(e){var t=[];if(!e)return t;for(var n=e.childNodes,r=0;r<n.length;r++){var i="span"==n[r].nodeName&&"p"==e.nodeName;n[r].nodeType!=Node.ELEMENT_NODE||"br"==n[r].nodeName||i||(i=ku(n[r]),t=t.concat(i))}return t.length||t.push(e),t}function Su(e,t){for(var n=e.childNodes,r=0;r<n.length;r++)if("br"==n[r].nodeName&&0<r)n[r-1].textContent+="\n";else if(0<n[r].childNodes.length)Su(n[r],t);else if(t){var i=n[r].textContent.trim();i=i.replace(/\s+/g," "),n[r].textContent=i}}function Eu(e,t,n,r,i,o,a){if(!e.hasAttribute("begin")&&!e.hasAttribute("end")&&/^\s*$/.test(e.textContent))return null;Su(e,a),a=Nu(e.getAttribute("begin"),n);var s=Nu(e.getAttribute("end"),n);n=Nu(e.getAttribute("dur"),n);var u=e.textContent;if(null==s&&null!=n&&(s=a+n),null==a||null==s)throw new X(2,2,2001);if(t=new bt(a+t,s+t,u),(i=xu(e,"region",i))&&i.getAttribute("xml:id")){var c=i.getAttribute("xml:id");o=o.filter(function(e){return e.id==c}),t.region=o[0]}return _u(t,e,i,r),t}function _u(e,t,n,r){"rtl"==Pu(t,n,r,"tts:direction")&&(e.writingDirection=1);var i=Pu(t,n,r,"tts:writingMode");"tb"==i||"tblr"==i?e.writingDirection=2:"tbrl"==i?e.writingDirection=3:"rltb"==i||"rl"==i?e.writingDirection=1:i&&(e.writingDirection=ac),(i=Pu(t,n,r,"tts:textAlign"))&&(e.positionAlign=ul[i],e.lineAlign=sl[i],e.textAlign=rc[i.toUpperCase()]),(i=Pu(t,n,r,"tts:displayAlign"))&&(e.displayAlign=oc[i.toUpperCase()]),(i=Pu(t,n,r,"tts:color"))&&(e.color=i),(i=Pu(t,n,r,"tts:backgroundColor"))&&(e.backgroundColor=i),(i=Pu(t,n,r,"tts:fontFamily"))&&(e.fontFamily=i),(i=Pu(t,n,r,"tts:fontWeight"))&&"bold"==i&&(e.fontWeight=700),(i=Pu(t,n,r,"tts:wrapOption"))&&"noWrap"==i&&(e.wrapLine=!1),(i=Pu(t,n,r,"tts:lineHeight"))&&i.match(Zc)&&(e.lineHeight=i),(i=Pu(t,n,r,"tts:fontSize"))&&i.match(Zc)&&(e.fontSize=i),(i=Pu(t,n,r,"tts:fontStyle"))&&(e.fontStyle=dc[i.toUpperCase()]),(n=Ou(n,r,"tts:textDecoration"))&&Tu(e,n),(t=Cu(t,r,"tts:textDecoration"))&&Tu(e,t)}function Tu(e,t){for(var n=t.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":0>e.textDecoration.indexOf("underline")&&e.textDecoration.push("underline");break;case"noUnderline":0<=e.textDecoration.indexOf("underline")&&re(e.textDecoration,"underline");break;case"lineThrough":0>e.textDecoration.indexOf("lineThrough")&&e.textDecoration.push("lineThrough");break;case"noLineThrough":0<=e.textDecoration.indexOf("lineThrough")&&re(e.textDecoration,"lineThrough");break;case"overline":0>e.textDecoration.indexOf("overline")&&e.textDecoration.push("overline");break;case"noOverline":0<=e.textDecoration.indexOf("overline")&&re(e.textDecoration,"overline")}}function Pu(e,t,n,r){return(e=Cu(e,n,r))?e:Ou(t,n,r)}function Ou(e,t,n){for(var r=ku(e),i=0;i<r.length;i++){var o=r[i].getAttribute(n);if(o)return o}return(e=xu(e,"style",t))?e.getAttribute(n):null}function Cu(e,t,n){return(e=xu(e,"style",t))?e.getAttribute(n):null}function xu(e,t,n){if(!e||1>n.length)return null;var r=null,i=e;for(e=null;i&&!(e=i.getAttribute(t))&&(i=i.parentNode)instanceof Element;);if(t=e)for(e=0;e<n.length;e++)if(n[e].getAttribute("xml:id")==t){r=n[e];break}return r}function Nu(e,t){var n=null;if(tl.test(e)){n=tl.exec(e);var r=Number(n[1]),i=Number(n[2]),o=Number(n[3]),a=Number(n[4]);a+=(Number(n[5])||0)/t.b,o+=a/t.frameRate,n=o+60*i+3600*r}else nl.test(e)?n=Iu(nl,e):rl.test(e)?n=Iu(rl,e):il.test(e)?(n=il.exec(e),n=Number(n[1])/t.frameRate):ol.test(e)?(n=ol.exec(e),n=Number(n[1])/t.a):al.test(e)&&(n=Iu(al,e));return n}function Iu(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function Ru(e,t,n,r){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(r),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=e[1]/e[2])}function ju(){this.a=new wu}function Au(){}function Fu(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?nc:rc[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingDirection="lr"==r[1]?2:3:(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(r=/^region:(.*)$/.exec(t))?(t=Du(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=cc[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=sc,e.line=Number(n[1]),n[2]&&(e.lineAlign=cc[n[2].toUpperCase()]))}function Du(e,t){var n=e.filter(function(e){return e.id==t});return n.length?n[0]:null}function Mu(e){if(null==(e=li(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function Lu(){this.a=null}function Uu(e,t,n){var r,i,o;return(new ir).D("payl",sr(function(e){r=De(e)})).D("iden",sr(function(e){i=De(e)})).D("sttg",sr(function(e){o=De(e)})).parse(e),r?qu(r,i,o,t,n):null}function qu(e,t,n,r,i){if(e=new bt(r,i,e),t&&(e.id=t),n)for(t=new ui(n),n=fi(t);n;)Fu(e,n,[]),ci(t),n=fi(t);return e}var Bu,Ku="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},Hu=void 0!==e&&e===this?this:void 0!==t&&null!=t?t:this,Vu=function(){var e=0;return function(t){return"jscomp_symbol_"+(t||"")+e++}}();u("Promise",function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.a=null}function i(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;r.prototype.b=function(e){null==this.a&&(this.a=[],this.f()),this.a.push(e)},r.prototype.f=function(){var e=this;this.c(function(){e.h()})};var o=Hu.setTimeout;r.prototype.c=function(e){o(e,0)},r.prototype.h=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.g(e)}}}this.a=null},r.prototype.g=function(e){this.c(function(){throw e})},t.prototype.c=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.f)}},t.prototype.m=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(n(e)){case"object":var r=null!=e;break e;case"function":r=!0;break e;default:r=!1}r?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(e){return void this.f(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.f=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.j()},t.prototype.j=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new r;return t.prototype.o=function(e){var t=this.c();e.tb(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.tb(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.tb=function(e,t){function n(){switch(r.b){case 1:e(r.g);break;case 2:t(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=s(e),o=r.next();!o.done;o=r.next())i(o.value).tb(t,n)})},t.all=function(e){var n=s(e),r=n.next();return r.done?i([]):new t(function(e,t){var o=[],a=0;do{o.push(void 0),a++,i(r.value).tb(function(t){return function(n){o[t]=n,0==--a&&e(o)}}(o.length-1),t),r=n.next()}while(!r.done)})},t}),u("Promise.prototype.finally",function(e){return e||function(e){return this.then(function(t){return Promise.resolve(e()).then(function(){return t})},function(t){return Promise.resolve(e()).then(function(){throw t})})}}),f.prototype.g=function(e){this.N=e},f.prototype.return=function(e){this.a={return:e},this.B=this.c},f.prototype.X=function(e){this.B=e},u("Array.prototype.find",function(e){return e||function(e,t){e:{var n=this;n instanceof String&&(n=String(n));for(var r=n.length,i=0;i<r;i++){var o=n[i];if(e.call(t,o,i,n)){n=o;break e}}n=void 0}return n}});var Gu=this;Gu.a=!0,I.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(N(this.b),N(this.c))},e.console&&e.console.log.bind&&(R=console.warn.bind(console));var Wu=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;Bu=A.prototype,Bu.ha="",Bu.Ga="",Bu.ka="",Bu.Sa=null,Bu.ba="",Bu.Aa="",Bu.toString=function(){var e=[],t=this.ha;if(t&&e.push(U(t,Xu,!0),":"),t=this.ka){e.push("//");var n=this.Ga;n&&e.push(U(n,Xu,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.Sa,null!=t&&e.push(":",String(t))}return(t=this.ba)&&(this.ka&&"/"!=t.charAt(0)&&e.push("/"),e.push(U(t,"/"==t.charAt(0)?Qu:Yu,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Aa)&&e.push("#",U(t,$u)),e.join("")},Bu.resolve=function(e){var t=new A(this);"data"===t.ha&&(t=new A);var n=!!e.ha;n?F(t,e.ha):n=!!e.Ga,n?t.Ga=e.Ga:n=!!e.ka,n?t.ka=e.ka:n=null!=e.Sa;var r=e.ba;if(n)D(t,e.Sa);else if(n=!!e.ba){if("/"!=r.charAt(0))if(this.ka&&!this.ba)r="/"+r;else{var i=t.ba.lastIndexOf("/");-1!=i&&(r=t.ba.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}r=o.join("/")}}return n?t.ba=r:n=""!==e.a.toString(),n?M(t,K(e.a)):n=!!e.Aa,n&&(t.Aa=e.Aa),t};var Xu=/[#\/\?@]/g,Yu=/[#\?:]/g,Qu=/[#\?]/g,zu=/[#\?@]/g,$u=/#/g;B.prototype.a=null,B.prototype.c=null,B.prototype.add=function(e,t){if(!this.a&&(this.a={},this.c=0,this.b))for(var n=this.b.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),o=null;if(0<=i){var a=n[r].substring(0,i);o=n[r].substring(i+1)}else a=n[r];a=decodeURIComponent(a.replace(/\+/g," ")),o=o||"",this.add(a,decodeURIComponent(o.replace(/\+/g," ")))}return this.b=null,(n=this.a.hasOwnProperty(e)&&this.a[e])||(this.a[e]=n=[]),n.push(t),this.c++,this},B.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var e,t=[];for(e in this.a)for(var n=encodeURIComponent(e),r=this.a[e],i=0;i<r.length;i++){var o=n;""!==r[i]&&(o+="="+encodeURIComponent(r[i])),t.push(o)}return this.b=t.join("&")},H.prototype.resolve=function(){},H.prototype.reject=function(){},P("shaka.util.Error",X),X.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},X.Severity={RECOVERABLE:1,CRITICAL:2},X.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},X.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},P("shaka.util.AbortableOperation",Y),Y.failed=Q,Y.aborted=z,Y.completed=$,Y.notAbortable=J,Y.prototype.abort=function(){return this.a=!0,this.b()},Y.prototype.abort=Y.prototype.abort,Y.all=Z,Y.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},Y.prototype.finally=Y.prototype.finally,Y.prototype.V=function(e,t){function n(){return i.reject(new X(2,7,7001)),r.abort()}var r=this,i=new H;return this.promise.then(function(t){r.a?i.reject(new X(2,7,7001)):e?n=ee(e,t,i):i.resolve(t)},function(e){t?n=ee(t,e,i):i.reject(e)}),new Y(i,function(){return n()})},Y.prototype.chain=Y.prototype.V,ue.prototype.destroy=function(){var e=[];return this.a.forEach(function(t){t.promise.catch(function(){}),e.push(t.abort())}),this.a=[],Promise.all(e)},P("shaka.net.NetworkingEngine",le),le.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3},le.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var Ju={};le.registerScheme=fe,le.unregisterScheme=function(e){delete Ju[e]},le.prototype.pe=function(e){this.a.push(e)},le.prototype.registerRequestFilter=le.prototype.pe,le.prototype.Ue=function(e){re(this.a,e)},le.prototype.unregisterRequestFilter=le.prototype.Ue,le.prototype.gd=function(){this.a=[]},le.prototype.clearAllRequestFilters=le.prototype.gd,le.prototype.qe=function(e){this.b.push(e)},le.prototype.registerResponseFilter=le.prototype.qe,le.prototype.Ve=function(e){re(this.b,e)},le.prototype.unregisterResponseFilter=le.prototype.Ve,le.prototype.hd=function(){this.b=[]},le.prototype.clearAllResponseFilters=le.prototype.hd,le.prototype.destroy=function(){return this.c=!0,this.a=[],this.b=[],this.g.destroy()},le.prototype.destroy=le.prototype.destroy,le.prototype.request=function(e,t){var n=this;if(this.c)return pe(z());t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?ae(t.retryParameters):W(),t.uris=ae(t.uris);var r=he(this,e,t),i=r.V(function(){return me(n,e,t,new V(t.retryParameters,!1),0,null)}),o=i.V(function(t){return ye(n,e,t)}),a=Date.now(),s=0;r.promise.then(function(){s=Date.now()-a},function(){});var u=0;return i.promise.then(function(){u=Date.now()},function(){}),r=o.V(function(t){var r=Date.now()-u;return t.timeMs+=s,t.timeMs+=r,n.f&&!t.fromCache&&1==e&&n.f(t.timeMs,t.data.byteLength),t},function(e){throw e&&(e.severity=2),e}),
ce(this.g,r),pe(r)},le.prototype.request=le.prototype.request,ge.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},ge.prototype.get=function(e){return(e=this.a[e])?e.slice():null},ge.prototype.remove=function(e,t){var n=this.a[e];if(n)for(var r=0;r<n.length;++r)n[r]==t&&(n.splice(r,1),--r)},be.prototype.destroy=function(){return ke(this),this.a=null,Promise.resolve()},be.prototype.na=function(e,t){if(this.a)for(var n=this.a.get(t)||[],r=0;r<n.length;++r){var i=n[r];i.target==e&&(i.na(),this.a.remove(t,i))}},Se.prototype.na=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null},Ee.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Ee.prototype.stopImmediatePropagation=function(){this.a=!0},Ee.prototype.stopPropagation=function(){};var Zu=1/15,ec={codecs:"codecs",frameRate:"framerate",bandwidth:"bitrate",width:"width",height:"height",channelsCount:"channels"};P("shaka.util.StringUtils.fromUTF8",De),P("shaka.util.StringUtils.fromUTF16",Me),P("shaka.util.StringUtils.fromBytesAutoDetect",Le),P("shaka.util.StringUtils.toUTF8",Ue),Be.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)},P("shaka.util.Uint8ArrayUtils.toBase64",Ve),P("shaka.util.Uint8ArrayUtils.fromBase64",Ge),P("shaka.util.Uint8ArrayUtils.fromHex",We),P("shaka.util.Uint8ArrayUtils.toHex",Xe),P("shaka.util.Uint8ArrayUtils.equal",Ye),P("shaka.util.Uint8ArrayUtils.concat",Qe),Bu=ze.prototype,Bu.destroy=function(){this.c=!0;var e=[];return this.a.forEach(function(t){t=t.ia.close().catch(Pe);var n=new Promise(function(e){setTimeout(e,1e3)});e.push(Promise.race([t,n]))}),this.i.reject(),this.g&&e.push(this.g.destroy()),this.l&&e.push(this.l.setMediaKeys(null).catch(Pe)),this.w&&(this.w.cancel(),this.w=null),this.H&&(this.H.cancel(),this.H=null),this.g=this.l=this.j=this.u=this.b=null,this.a=[],this.m=[],this.o=this.h=this.f=null,Promise.all(e)},Bu.configure=function(e){this.f=e},Bu.init=function(e,t){var n={},r=[],i=e.periods.some(function(e){return e.variants.some(function(e){return e.drmInfos.length})});return this.Y=t,this.m=e.offlineSessionIds,et(this,e,t||0<e.offlineSessionIds.length,n,r),r.length?tt(this,n,r,i):(this.L=!0,Promise.resolve())},Bu.sb=function(e){if(!this.j)return we(this.g,e,"encrypted",function(){this.h(new X(2,6,6010))}.bind(this)),Promise.resolve();this.l=e,we(this.g,this.l,"play",this.Td.bind(this)),e=this.l.setMediaKeys(this.j),e=e.catch(function(e){return Promise.reject(new X(2,6,6003,e.message))});var t=null;return this.b.serverCertificate&&this.b.serverCertificate.length&&(t=this.j.setServerCertificate(this.b.serverCertificate).then(function(){}).catch(function(e){return Promise.reject(new X(2,6,6004,e.message))})),Promise.all([e,t]).then(function(){if(this.c)return Promise.reject();Je(this),this.b.initData.length||this.m.length||ve(this.g,this.l,"encrypted",this.Id.bind(this))}.bind(this)).catch(function(e){return this.c?Promise.resolve():Promise.reject(e)}.bind(this))},Bu.keySystem=function(){return this.b?this.b.keySystem:""},Bu.wb=function(){var e=this.a.map(function(e){return e=e.ia.expiration,isNaN(e)?1/0:e});return Math.min.apply(Math,e)},Bu.Id=function(e){for(var t=new Uint8Array(e.initData),n=0;n<this.a.length;++n)if(Ye(t,this.a[n].initData))return;ut(this,e.initDataType,t)},Bu.Gc=function(e){this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.T?this.J.push(e):ct(this,e)},Bu.Cc=function(e){e=e.target;var t;for(t=0;t<this.a.length&&this.a[t].ia!=e;++t);if(t!=this.a.length){var n=!1;e.keyStatuses.forEach(function(e,r){if("string"==typeof r){var i=r;r=e,e=i}if("com.microsoft.playready"==this.b.keySystem&&16==r.byteLength){i=new DataView(r);var o=i.getUint32(0,!0),a=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,o,!1),i.setUint16(4,a,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==e&&(e="usable"),"status-pending"!=e&&(this.a[t].loaded=!0,this.a.every(function(e){return e.loaded})&&this.i.resolve()),"expired"==e&&(n=!0),i=Xe(new Uint8Array(r)),this.A[i]=e}.bind(this));var r=e.expiration-Date.now();(0>r||n&&1e3>r)&&!this.a[t].oa&&(this.a.splice(t,1),e.close().catch(function(){})),Ke(this.H)}},Bu.oe=function(){function e(e,t){return"expired"==t}!Ie(this.A)&&je(this.A,e)&&this.h(new X(2,6,6014)),this.o.yb(this.A)},Bu.Td=function(){for(var e=0;e<this.J.length;e++)ct(this,this.J[e]);this.T=!0,this.J=[]},Bu.ne=function(){this.a.forEach(function(e){var t=e.Ub,n=e.ia.expiration;isNaN(n)&&(n=1/0),n!=t&&(this.o.onExpirationUpdated(e.ia.sessionId,n),e.Ub=n)}.bind(this))},P("shaka.text.Cue",bt);var tc="auto";bt.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:tc};var nc="center",rc={LEFT:"left",RIGHT:"right",CENTER:nc,START:"start",END:"end"};bt.textAlign=rc;var ic="before",oc={BEFORE:ic,CENTER:"center",AFTER:"after"};bt.displayAlign=oc;var ac=0;bt.writingDirection={HORIZONTAL_LEFT_TO_RIGHT:ac,HORIZONTAL_RIGHT_TO_LEFT:1,VERTICAL_LEFT_TO_RIGHT:2,VERTICAL_RIGHT_TO_LEFT:3};var sc=0;bt.lineInterpretation={LINE_NUMBER:sc,PERCENTAGE:1};var uc="center",cc={CENTER:uc,START:"start",END:"end"};bt.lineAlign=cc;var lc=400;bt.fontWeight={NORMAL:lc,BOLD:700};var fc="normal",dc={NORMAL:fc,ITALIC:"italic",OBLIQUE:"oblique"};bt.fontStyle=dc,bt.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},P("shaka.text.CueRegion",vt);var pc=1;vt.units={PX:0,PERCENTAGE:pc,LINES:2};var hc="";vt.scrollMode={NONE:hc,UP:"up"},wt.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},wt.prototype.i=function(e){for(var t=0;t<e.captions.length;t++){var n=e.captions[t];this.c.push(new bt(n.startTime,n.endTime,n.text))}t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength),t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),this.g.push(t)},wt.prototype.h=function(){var e={data:Qe.apply(null,this.g),cues:this.c};this.b.resolve(e),this.f=!1};var mc={};P("shaka.text.TextEngine.registerParser",function(e,t){mc[e]=t}),P("shaka.text.TextEngine.unregisterParser",function(e){delete mc[e]}),_t.prototype.destroy=function(){return this.c=this.f=null,Promise.resolve()},_t.prototype.Ee=function(e){this.c=e},_t.prototype.setDisplayer=_t.prototype.Ee,_t.prototype.Lb=function(e){var t={periodStart:0,segmentStart:null,segmentEnd:0};try{return this.f.parseMedia(new Uint8Array(e),t)[0].startTime}catch(e){throw new X(2,2,2009,e)}},_t.prototype.remove=function(e,t){return Promise.resolve().then(function(){!this.c||!this.c.remove(e,t)||null==this.a||t<=this.a||e>=this.b||(e<=this.a&&t>=this.b?this.a=this.b=null:e<=this.a&&t<this.b?this.a=t:e>this.a&&t>=this.b&&(this.b=e))}.bind(this))},_t.prototype.kc=function(e){this.c.append(e)},_t.prototype.appendCues=_t.prototype.kc,Bu=Pt.prototype,Bu.destroy=function(){this.m=!0;var e,t=[];for(e in this.c){var n=this.c[e],r=n[0];for(this.c[e]=n.slice(0,1),r&&t.push(r.p.catch(Pe)),r=1;r<n.length;++r)n[r].p.catch(Pe),n[r].p.reject()}this.a&&t.push(this.a.destroy());for(var i in this.h)t.push(this.h[i].destroy());return this.f&&(this.f.removeAttribute("src"),this.f.load()),Promise.all(t).then(function(){this.i.destroy(),this.o=this.a=this.g=this.f=this.i=null,this.b={},this.h={},this.c={}}.bind(this))},Bu.init=function(e,t){var n=this;return this.j.then(function(){for(var r in e){var i=e[r];i=Fe(i.mimeType,i.codecs),"text"==r?Ct(n,i):(!t&&MediaSource.isTypeSupported(i)||!kt(i,r)||(n.h[r]=new wt,i=St(r,i)),i=n.g.addSourceBuffer(i),ve(n.i,i,"error",n.Qe.bind(n,r)),ve(n.i,i,"updateend",n.Qa.bind(n,r)),n.b[r]=i,n.c[r]=[])}})},Bu.Hb=function(){var e=this.a&&null!=this.a.a?[{start:this.a.a,end:this.a.b}]:[];return{total:gt(this.f.buffered),audio:gt(Rt(this,"audio")),video:gt(Rt(this,"video")),text:e}},Bu.remove=function(e,t,n){return"text"==e?this.a.remove(t,n):Dt(this,e,this.Wc.bind(this,e,t,n))},Bu.flush=function(e){return"text"==e?Promise.resolve():Dt(this,e,this.ld.bind(this,e))},Bu.endOfStream=function(e){return Mt(this,function(){e?this.g.endOfStream(e):this.g.endOfStream()}.bind(this))},Bu.ja=function(e){return Mt(this,function(){this.g.duration=e}.bind(this))},Bu.S=function(){return this.g.duration},Bu.Vc=function(e,t){this.b[e].appendBuffer(t)},Bu.Wc=function(e,t,n){n<=t?this.Qa(e):this.b[e].remove(t,n)},Bu.bd=function(e){var t=this.b[e].appendWindowStart,n=this.b[e].appendWindowEnd;this.b[e].abort(),this.b[e].appendWindowStart=t,this.b[e].appendWindowEnd=n,this.Qa(e)},Bu.ld=function(e){this.f.currentTime-=.001,this.Qa(e)},Bu.Ge=function(e,t){0>t&&(t+=.001),this.b[e].timestampOffset=t,this.Qa(e)},Bu.De=function(e,t,n){this.b[e].appendWindowStart=0,this.b[e].appendWindowEnd=n,this.b[e].appendWindowStart=t,this.Qa(e)},Bu.Qe=function(e){this.c[e][0].p.reject(new X(2,3,3014,this.f.error?this.f.error.code:0))},Bu.Qa=function(e){var t=this.c[e][0];t&&(t.p.resolve(),Lt(this,e))};var yc=1,gc=2,bc={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};P("shaka.abr.SimpleAbrManager",ln),ln.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},ln.prototype.stop=ln.prototype.stop,ln.prototype.init=function(e){this.h=e},ln.prototype.init=ln.prototype.init,ln.prototype.chooseVariant=function(){var e=fn(this.a.restrictions,this.c),t=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!e.length&&(e=fn(null,this.c),e=[e[0]]);for(var n=e[0]||null,r=0;r<e.length;++r){var i=e[r],o=(e[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;t>=i.bandwidth/this.a.bandwidthDowngradeTarget&&t<=o&&(n=i)}return this.g=Date.now(),n},ln.prototype.chooseVariant=ln.prototype.chooseVariant,ln.prototype.enable=function(){this.f=!0},ln.prototype.enable=ln.prototype.enable,ln.prototype.disable=function(){this.f=!1},ln.prototype.disable=ln.prototype.disable,ln.prototype.segmentDownloaded=function(e,t){var n=this.b;if(!(16e3>t)){var r=8e3*t/e,i=e/1e3;n.a+=t,x(n.b,i,r),x(n.c,i,r)}if(null!=this.g&&this.f)e:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break e}else{if(!(128e3<=this.b.a))break e;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},ln.prototype.segmentDownloaded=ln.prototype.segmentDownloaded,ln.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},ln.prototype.getBandwidthEstimate=ln.prototype.getBandwidthEstimate,ln.prototype.setVariants=function(e){this.c=e},ln.prototype.setVariants=ln.prototype.setVariants,ln.prototype.configure=function(e){this.a=e},ln.prototype.configure=ln.prototype.configure;var vc="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),wc="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),kc=["loop","playbackRate"],Sc=["pause","play"],Ec="adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading".split(" "),_c={drmInfo:20,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getManifestUri:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,usingEmbeddedTextTrack:2,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1},Tc={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Pc=[["getConfiguration","configure"]],Oc=[["isTextTrackVisible","setTextTrackVisibility"]],Cc="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),xc=["attach","detach","load","unload"],Nc=!1,Ic=null;Bu=mn.prototype,Bu.destroy=function(){return gn(this),Ic&&yn(this),this.H=this.A=this.g=null,this.b=this.h=!1,this.m=this.l=this.f=this.c=this.a=this.i=null,Promise.resolve()},Bu.$=function(){return this.b},Bu.Yb=function(){return this.w},Bu.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){delete e.__onGCastApiAvailable,this.h=!0,this.g();var t=new chrome.cast.SessionRequest(this.J);t=new chrome.cast.ApiConfig(t,this.Bc.bind(this),this.Wd.bind(this),"origin_scoped"),chrome.cast.initialize(t,function(){},function(){}),Nc&&setTimeout(this.g.bind(this),20),(t=Ic)&&t.status!=chrome.cast.SessionStatus.STOPPED?this.Bc(t):Ic=null}else e.__onGCastApiAvailable=function(e){e&&this.init()}.bind(this)},Bu.ac=function(e){this.i=e,this.b&&bn({type:"appData",appData:this.i})},Bu.cast=function(e){return this.h?Nc?this.b?Promise.reject(new X(1,8,8002)):(this.f=new H,chrome.cast.requestSession(this.Vb.bind(this,e),this.zc.bind(this)),this.f):Promise.reject(new X(1,8,8001)):Promise.reject(new X(1,8,8e3))},Bu.vb=function(){this.b&&(gn(this),Ic&&(yn(this),Ic.stop(function(){},function(){}),Ic=null))},Bu.get=function(e,t){if("video"==e){if(0<=Sc.indexOf(t))return this.Lc.bind(this,e,t)}else if("player"==e){if(Tc[t]&&!this.get("player","isLive")())return function(){};if(0<=Cc.indexOf(t))return this.Lc.bind(this,e,t);if(0<=xc.indexOf(t))return this.se.bind(this,e,t);if(_c[t])return this.Ic.bind(this,e,t)}return this.Ic(e,t)},Bu.set=function(e,t,n){this.a[e][t]=n,bn({type:"set",targetName:e,property:t,value:n})},Bu.Vb=function(e,t){Ic=t,t.addUpdateListener(this.l),t.addMessageListener("urn:x-cast:com.google.shaka.v2",this.m),this.Ac(),bn({type:"init",initState:e,appData:this.i}),this.f.resolve()},Bu.zc=function(e){var t=8003;switch(e.code){case"cancel":t=8004;break;case"timeout":t=8005;break;case"receiver_unavailable":t=8006}this.f.reject(new X(2,8,t,e))},Bu.Ic=function(e,t){return this.a[e][t]},Bu.Lc=function(e,t){bn({type:"call",targetName:e,methodName:t,args:Array.prototype.slice.call(arguments,2)})},Bu.se=function(e,t){var n=Array.prototype.slice.call(arguments,2),r=new H,i=this.o.toString();return this.o++,this.c[i]=r,bn({type:"asyncCall",targetName:e,methodName:t,args:n,id:i}),r},Bu.Bc=function(e){var t=this.u();this.f=new H,this.j=!0,this.Vb(t,e)},Bu.Wd=function(e){Nc="available"==e,this.g()},Bu.Ac=function(){var e=!!Ic&&"connected"==Ic.status;if(this.b&&!e){this.H();for(var t in this.a)this.a[t]={};gn(this)}this.w=(this.b=e)?Ic.receiver.friendlyName:"",this.g()},Bu.Pd=function(e,t){var n=pn(t);switch(n.type){case"event":var r=n.event;this.A(n.targetName,new Ee(r.type,r));break;case"update":r=n.update;for(var i in r){n=this.a[i]||{};for(var o in r[i])n[o]=r[i][o]}this.j&&(this.L(),this.j=!1);break;case"asyncComplete":if(i=n.id,n=n.error,o=this.c[i],delete this.c[i],o)if(n){i=new X(n.severity,n.category,n.code);for(r in n)i[r]=n[r];o.reject(i)}else o.resolve()}},vn.prototype.addEventListener=function(e,t){this.Cb.push(e,t)},vn.prototype.removeEventListener=function(e,t){this.Cb.remove(e,t)},vn.prototype.dispatchEvent=function(e){for(var t=this.Cb.get(e.type)||[],n=0;n<t.length;++n){e.target=this.lb,e.currentTarget=this.lb;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(e){}if(e.a)break}return e.defaultPrevented},O(wn,vn),P("shaka.cast.CastProxy",wn),wn.prototype.destroy=function(e){return e&&this.a&&this.a.vb(),e=[this.i?this.i.destroy():null,this.b?this.b.destroy():null,this.a?this.a.destroy():null],this.a=this.i=this.j=this.h=this.b=this.c=null,Promise.all(e)},wn.prototype.destroy=wn.prototype.destroy,wn.prototype.Ad=function(){return this.h},wn.prototype.getVideo=wn.prototype.Ad,wn.prototype.sd=function(){return this.j},wn.prototype.getPlayer=wn.prototype.sd,wn.prototype.dd=function(){return!!this.a&&(this.a.h&&Nc)},wn.prototype.canCast=wn.prototype.dd,wn.prototype.$=function(){return!!this.a&&this.a.$()},wn.prototype.isCasting=wn.prototype.$,wn.prototype.Yb=function(){return this.a?this.a.Yb():""},wn.prototype.receiverName=wn.prototype.Yb,wn.prototype.cast=function(){var e=this.rc();return this.a.cast(e).then(function(){if(this.b)return this.b.jb()}.bind(this))},wn.prototype.cast=wn.prototype.cast,wn.prototype.ac=function(e){this.a.ac(e)},wn.prototype.setAppData=wn.prototype.ac,wn.prototype.Se=function(){var e=this.a;if(e.b){var t=e.u();chrome.cast.requestSession(e.Vb.bind(e,t),e.zc.bind(e))}},wn.prototype.suggestDisconnect=wn.prototype.Se,wn.prototype.vb=function(){this.a.vb()},wn.prototype.forceDisconnect=wn.prototype.vb,Bu=wn.prototype,Bu.rc=function(){var e={video:{},player:{},playerAfterLoad:{},manifest:this.b.Jb(),startTime:null};return this.c.pause(),kc.forEach(function(t){e.video[t]=this.c[t]}.bind(this)),this.c.ended||(e.startTime=this.c.currentTime),Pc.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.player[n]=t}.bind(this)),Oc.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.playerAfterLoad[n]=t}.bind(this)),e},Bu.Le=function(){this.dispatchEvent(new Ee("caststatuschanged"))},Bu.Me=function(){this.f.dispatchEvent(new Ee(this.h.paused?"pause":"play"))},Bu.Oe=function(){var e=this;Pc.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(this));var t=this.a.get("player","getManifestUri")(),n=this.a.get("video","ended"),r=Promise.resolve(),i=this.c.autoplay,o=null;n||(o=this.a.get("video","currentTime")),t&&(this.c.autoplay=!1,r=this.b.load(t,o));var a={};kc.forEach(function(e){a[e]=this.a.get("video",e)}.bind(this)),r.then(function(){e.c&&(kc.forEach(function(e){this.c[e]=a[e]}.bind(e)),Oc.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(e)),e.c.autoplay=i,t&&e.c.play())},function(t){e.b.dispatchEvent(new Ee("error",{detail:t}))})},Bu.Ze=function(e){if("addEventListener"==e)return this.f.addEventListener.bind(this.f);if("removeEventListener"==e)return this.f.removeEventListener.bind(this.f);if(this.a.$()&&0==Object.keys(this.a.a.video).length){var t=this.c[e];if("function"!=typeof t)return t}return this.a.$()?this.a.get("video",e):(e=this.c[e],"function"==typeof e&&(e=e.bind(this.c)),e)},Bu.af=function(e,t){this.a.$()?this.a.set("video",e,t):this.c[e]=t},Bu.$e=function(e){this.a.$()||this.f.dispatchEvent(new Ee(e.type,e))},Bu.ke=function(e){if("addEventListener"==e)return this.g.addEventListener.bind(this.g);if("removeEventListener"==e)return this.g.removeEventListener.bind(this.g);if("getMediaElement"==e)return function(){return this.h}.bind(this);if("getNetworkingEngine"==e)return this.b.sc.bind(this.b);if(this.a.$()){if("getManifest"==e)return function(){return R("getManifest() does not work while casting!"),null};if("attach"==e)return function(){return R("attach() does not work while casting!"),Promise.resolve()};if("detach"==e)return function(){return R("detach() does not work while casting!"),Promise.resolve()}}return this.a.$()&&0==Object.keys(this.a.a.video).length&&_c[e]||!this.a.$()?this.b[e].bind(this.b):this.a.get("player",e)},Bu.le=function(e){this.a.$()||this.g.dispatchEvent(e)},Bu.Ne=function(e,t){this.a.$()&&("video"==e?this.f.dispatchEvent(t):"player"==e&&this.g.dispatchEvent(t))},O(Sn,vn),P("shaka.cast.CastReceiver",Sn),Sn.prototype.isConnected=function(){return this.o},Sn.prototype.isConnected=Sn.prototype.isConnected,Sn.prototype.Dd=function(){return this.h},Sn.prototype.isIdle=Sn.prototype.Dd,Sn.prototype.destroy=function(){var t=[this.c?this.c.destroy():null,this.b?this.b.destroy():null];return null!=this.l&&e.clearTimeout(this.l),this.w=this.u=this.c=this.b=this.a=null,this.o=!1,this.h=!0,this.l=this.i=this.f=null,Promise.all(t).then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},Sn.prototype.destroy=Sn.prototype.destroy,Bu=Sn.prototype,Bu.Fc=function(){this.g=0,this.j=!0,this.o=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,_n(this)},Bu.Jc=function(e,t){this.b&&(this.Wb(),Cn(this,{type:"event",targetName:e,event:t},this.f))},Bu.Wb=function(){null!=this.l&&e.clearTimeout(this.l),this.l=e.setTimeout(this.Wb.bind(this),500);var t={video:{},player:{}};if(wc.forEach(function(e){t.video[e]=this.a[e]}.bind(this)),this.b.P())for(var n in Tc)0==this.g%Tc[n]&&(t.player[n]=this.b[n]());for(var r in _c)0==this.g%_c[r]&&(t.player[r]=this.b[r]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),this.m&&(this.g+=1),Cn(this,{type:"update",update:t},this.f),Pn(this)},Bu.kd=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&Cn(this,{type:"update",update:{video:{volume:e.level,muted:e.muted}}},this.f),Cn(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},Bu.Zd=function(e){var t=pn(e.data);switch(t.type){case"init":this.g=0,this.m=!1,this.j=!0,Tn(this,t.initState,t.appData),this.Wb();break;case"appData":this.w(t.appData);break;case"set":var n=t.targetName,r=t.property;if(t=t.value,"video"==n){var i=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){i.setSystemVolumeLevel(t);break}if("muted"==r){i.setSystemVolumeMuted(t);break}}this.u[n][r]=t;break;case"call":n=this.u[t.targetName],n[t.methodName].apply(n,t.args);break;case"asyncCall":n=t.targetName,r=t.methodName,"player"==n&&"load"==r&&(this.g=0,this.m=!1),i=t.id,e=e.senderId;var o=this.u[n];t=o[r].apply(o,t.args),"player"==n&&"load"==r&&(t=t.then(function(){this.j=!0}.bind(this))),t.then(this.Qc.bind(this,e,i,null),this.Qc.bind(this,e,i))}},Bu.Kd=function(e){var t=pn(e.data);switch(t.type){case"PLAY":this.a.play(),xn(this,0);break;case"PAUSE":this.a.pause(),xn(this,0);break;case"SEEK":e=t.currentTime;var n=t.resumeState;null!=e&&(this.a.currentTime=Number(e)),n&&"PLAYBACK_START"==n?(this.a.play(),xn(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),xn(this,0));break;case"STOP":this.b.jb().then(function(){this.b&&xn(this,0)}.bind(this));break;case"GET_STATUS":xn(this,Number(t.requestId));break;case"VOLUME":n=t.volume,e=n.level,n=n.muted;var r=this.a.volume,i=this.a.muted;null!=e&&(this.a.volume=Number(e)),null!=n&&(this.a.muted=n),r==this.a.volume&&i==this.a.muted||xn(this,0);break;case"LOAD":this.g=0,this.j=this.m=!1,e=t.currentTime,n=this.A(t.media.contentId),this.a.autoplay=!0,this.b.load(n,e).then(function(){this.b&&On(this)}.bind(this)).catch(function(e){var n="LOAD_FAILED";7==e.category&&7e3==e.code&&(n="LOAD_CANCELLED"),Cn(this,{requestId:Number(t.requestId),type:n},this.i)}.bind(this));break;default:Cn(this,{requestId:Number(t.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.i)}},Bu.Qc=function(e,t,n){this.b&&Cn(this,{type:"asyncComplete",id:t,error:n},this.f,e)};var Rc={IDLE:"IDLE",$c:"PLAYING",Xc:"BUFFERING",Zc:"PAUSED"},jc={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};P("shaka.media.InitSegmentReference",er),er.prototype.Eb=function(){return this.c()},er.prototype.createUris=er.prototype.Eb,er.prototype.Kb=function(){return this.b},er.prototype.getStartByte=er.prototype.Kb,er.prototype.Ib=function(){return this.a},er.prototype.getEndByte=er.prototype.Ib,P("shaka.media.SegmentReference",tr),tr.prototype.W=function(){return this.position},tr.prototype.getPosition=tr.prototype.W,tr.prototype.Lb=function(){return this.startTime},tr.prototype.getStartTime=tr.prototype.Lb,tr.prototype.od=function(){return this.endTime},tr.prototype.getEndTime=tr.prototype.od,tr.prototype.Eb=function(){return this.c()},tr.prototype.createUris=tr.prototype.Eb,tr.prototype.Kb=function(){return this.b},tr.prototype.getStartByte=tr.prototype.Kb,tr.prototype.Ib=function(){return this.a},tr.prototype.getEndByte=tr.prototype.Ib,P("shaka.util.DataViewReader",nr);var Ac=1;nr.Endianness={bf:0,cf:Ac},nr.prototype.ga=function(){return this.a<this.G.byteLength},nr.prototype.hasMoreData=nr.prototype.ga,nr.prototype.W=function(){return this.a},nr.prototype.getPosition=nr.prototype.W,nr.prototype.pd=function(){return this.G.byteLength},nr.prototype.getLength=nr.prototype.pd,nr.prototype.da=function(){try{var e=this.G.getUint8(this.a);return this.a+=1,e}catch(e){rr()}},nr.prototype.readUint8=nr.prototype.da,nr.prototype.eb=function(){try{var e=this.G.getUint16(this.a,this.b);return this.a+=2,e}catch(e){rr()}},nr.prototype.readUint16=nr.prototype.eb,nr.prototype.C=function(){try{var e=this.G.getUint32(this.a,this.b);return this.a+=4,e}catch(e){rr()}},nr.prototype.readUint32=nr.prototype.C,nr.prototype.Kc=function(){try{var e=this.G.getInt32(this.a,this.b);return this.a+=4,e}catch(e){rr()}},nr.prototype.readInt32=nr.prototype.Kc,nr.prototype.Ta=function(){try{if(this.b)var e=this.G.getUint32(this.a,!0),t=this.G.getUint32(this.a+4,!0);else t=this.G.getUint32(this.a,!1),e=this.G.getUint32(this.a+4,!1)}catch(e){rr()}if(2097151<t)throw new X(2,3,3001);return this.a+=8,t*Math.pow(2,32)+e},nr.prototype.readUint64=nr.prototype.Ta,nr.prototype.Ea=function(e){this.a+e>this.G.byteLength&&rr();var t=new Uint8Array(this.G.buffer,this.G.byteOffset+this.a,e);return this.a+=e,new Uint8Array(t)},nr.prototype.readBytes=nr.prototype.Ea,nr.prototype.F=function(e){this.a+e>this.G.byteLength&&rr(),this.a+=e},nr.prototype.skip=nr.prototype.F,nr.prototype.Oc=function(e){this.a<e&&rr(),this.a-=e},nr.prototype.rewind=nr.prototype.Oc,nr.prototype.seek=function(e){(0>e||e>this.G.byteLength)&&rr(),this.a=e},nr.prototype.seek=nr.prototype.seek,nr.prototype.Xb=function(){for(var e=this.a;this.ga()&&0!=this.G.getUint8(this.a);)this.a+=1;return e=new Uint8Array(this.G.buffer,this.G.byteOffset+e,this.a-e),this.a+=1,De(e)},nr.prototype.readTerminatedString=nr.prototype.Xb,P("shaka.util.Mp4Parser",ir),ir.prototype.D=function(e,t){var n=ur(e);return this.c[n]=0,this.b[n]=t,this},ir.prototype.box=ir.prototype.D,ir.prototype.Z=function(e,t){var n=ur(e);return this.c[n]=1,this.b[n]=t,this},ir.prototype.fullBox=ir.prototype.Z,ir.prototype.stop=function(){this.a=!0},ir.prototype.stop=ir.prototype.stop,ir.prototype.parse=function(e,t){var n=new Uint8Array(e);for(n=new nr(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.ga()&&!this.a;)this.zb(0,n,t)},ir.prototype.parse=ir.prototype.parse,ir.prototype.zb=function(e,t,n){var r=t.W(),i=t.C(),o=t.C();switch(i){case 0:i=t.G.byteLength-r;break;case 1:i=t.Ta()}var a=this.b[o];if(a){var s=null,u=null;1==this.c[o]&&(u=t.C(),s=u>>>24,u&=16777215),o=r+i,n&&o>t.G.byteLength&&(o=t.G.byteLength),o-=t.W(),t=0<o?t.Ea(o):new Uint8Array(0),t=new nr(new DataView(t.buffer,t.byteOffset,t.byteLength),0),a({ra:this,Hc:n||!1,version:s,flags:u,s:t,size:i,start:r+e})}else t.F(r+i-t.W())},ir.prototype.parseNext=ir.prototype.zb,ir.children=or,ir.sampleDescription=ar,ir.allData=sr,ir.typeToString=cr,P("shaka.media.SegmentIndex",dr),dr.prototype.destroy=function(){return this.a=null,Promise.resolve()},dr.prototype.destroy=dr.prototype.destroy,dr.prototype.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},dr.prototype.find=dr.prototype.find,dr.prototype.get=function(e){return 0==this.a.length?null:(e-=this.a[0].position,0>e||e>=this.a.length?null:this.a[e])},dr.prototype.get=dr.prototype.get,dr.prototype.offset=function(e){for(var t=0;t<this.a.length;++t)this.a[t].startTime+=e,this.a[t].endTime+=e},dr.prototype.offset=dr.prototype.offset,dr.prototype.Qb=function(e){for(var t=[],n=0,r=0;n<this.a.length&&r<e.length;){var i=this.a[n],o=e[r];i.startTime<o.startTime?(t.push(i),n++):(i.startTime>o.startTime?0==n&&t.push(o):(.1<Math.abs(i.endTime-o.endTime)?t.push(new tr(i.position,o.startTime,o.endTime,o.c,o.b,o.a)):t.push(i),n++),r++)}for(;n<this.a.length;)t.push(this.a[n++]);if(t.length)for(n=t[t.length-1].position+1;r<e.length;)i=e[r++],i=new tr(n++,i.startTime,i.endTime,i.c,i.b,i.a),t.push(i);else t=e;this.a=t},dr.prototype.merge=dr.prototype.Qb,dr.prototype.Gb=function(e){for(var t=0;t<this.a.length;++t)if(this.a[t].endTime>e)return void this.a.splice(0,t);this.a=[]},dr.prototype.evict=dr.prototype.Gb;var Fc;hr.prototype.ga=function(){return this.a.ga()},vr.prototype.parse=function(e,t,n,r){var i;if(t=new hr(new DataView(t)),440786851!=mr(t).id)throw new X(2,3,3008);var o=mr(t);if(408125543!=o.id)throw new X(2,3,3009);for(t=o.a.byteOffset,o=new hr(o.a),i=null;o.ga();){var a=mr(o);if(357149030==a.id){i=a;break}}if(!i)throw new X(2,3,3010);for(o=new hr(i.a),i=1e6,a=null;o.ga();){var s=mr(o);if(2807729==s.id)i=br(s);else if(17545==s.id)if(a=s,4==a.a.byteLength)a=a.a.getFloat32(0);else{if(8!=a.a.byteLength)throw new X(2,3,3003);a=a.a.getFloat64(0)}}if(null==a)throw new X(2,3,3011);if(o=i/1e9,i=a*o,e=mr(new hr(new DataView(e))),475249515!=e.id)throw new X(2,3,3007);return wr(e,t,o,i,n,r)};var Dc={},Mc={};P("shaka.media.ManifestParser.registerParserByExtension",function(e,t){Mc[e]=t}),P("shaka.media.ManifestParser.registerParserByMime",function(e,t){Dc[e]=t}),P("shaka.media.PresentationTimeline",Mr),Mr.prototype.S=function(){return this.b},Mr.prototype.getDuration=Mr.prototype.S,Mr.prototype.ja=function(e){this.b=e},Mr.prototype.setDuration=Mr.prototype.ja,Mr.prototype.ud=function(){return this.f},Mr.prototype.getPresentationStartTime=Mr.prototype.ud,Mr.prototype.Rc=function(e){this.j=e},Mr.prototype.setClockOffset=Mr.prototype.Rc,Mr.prototype.Ab=function(e){this.i=e},Mr.prototype.setStatic=Mr.prototype.Ab,Mr.prototype.cc=function(e){this.c=e},Mr.prototype.setSegmentAvailabilityDuration=Mr.prototype.cc,Mr.prototype.Sc=function(e){this.l=e},Mr.prototype.setDelay=Mr.prototype.Sc,Mr.prototype.Pa=function(e,t){0!=e.length&&(t&&(this.h=Math.max(this.h,e[0].startTime)),this.a=e.reduce(function(e,t){return Math.max(e,t.endTime-t.startTime)},this.a))},Mr.prototype.notifySegments=Mr.prototype.Pa,Mr.prototype.Sb=function(e){this.a=Math.max(this.a,e)},Mr.prototype.notifyMaxSegmentDuration=Mr.prototype.Sb,Mr.prototype.P=function(){return 1/0==this.b&&!this.i},Mr.prototype.isLive=Mr.prototype.P,Mr.prototype.Ba=function(){return 1/0!=this.b&&!this.i},Mr.prototype.isInProgress=Mr.prototype.Ba,Mr.prototype.$a=function(){if(1/0==this.c)return this.g;var e=this.La()-this.c;return Math.max(this.g,e)},Mr.prototype.getSegmentAvailabilityStart=Mr.prototype.$a,Mr.prototype.Tc=function(e){this.g=e},
Mr.prototype.setUserSeekStart=Mr.prototype.Tc,Mr.prototype.La=function(){return this.P()||this.Ba()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.f),this.b):this.b},Mr.prototype.getSegmentAvailabilityEnd=Mr.prototype.La,Mr.prototype.Za=function(e){var t=Math.max(this.h,this.g);if(1/0==this.c)return t;var n=this.La()-this.c;return e=Math.min(n+e,this.la()),Math.max(t,e)},Mr.prototype.getSafeSeekRangeStart=Mr.prototype.Za,Mr.prototype.Ka=function(){return this.Za(0)},Mr.prototype.getSeekRangeStart=Mr.prototype.Ka,Mr.prototype.la=function(){var e=this.P()||this.Ba()?this.l:0;return Math.max(0,this.La()-e)},Mr.prototype.getSeekRangeEnd=Mr.prototype.la,P("shaka.dash.DashParser",Lr),Bu=Lr.prototype,Bu.configure=function(e){this.b=e},Bu.start=function(e,t){return this.h=[e],this.a=t,Ur(this).then(function(e){return this.a&&Wr(this,e),this.c}.bind(this))},Bu.stop=function(){return this.b=this.a=null,this.h=[],this.c=null,this.j=[],this.l={},null!=this.g&&(e.clearTimeout(this.g),this.g=null),this.f.destroy()},Bu.update=function(){Ur(this).catch(function(e){this.a&&this.a.onError(e)}.bind(this))},Bu.onExpirationUpdated=function(){},Bu.ge=function(e,t){e.U=Xr(t,e.ca,null);var n=!1,r=In(t,"Role"),i=r.map(function(e){return e.getAttribute("value")}).filter(Oe),o=void 0,a="text"==e.U.contentType;a&&(o="subtitle");for(var s=0;s<r.length;s++){var u=r[s].getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(u=r[s].getAttribute("value")){case"main":n=!0;break;case"caption":case"subtitle":o=u}}var c=null,l=!1;if(In(t,"EssentialProperty").forEach(function(e){"https://web.archive.org/web/20190211223927/http://dashif.org/guidelines/trickmode"==e.getAttribute("schemeIdUri")?c=e.getAttribute("value"):l=!0}),l)return null;r=In(t,"ContentProtection");var f=Hn(r,this.b.dash.customScheme,this.b.dash.ignoreDrmInfo);if(r=qt(t.getAttribute("lang")||"und"),u=t.getAttribute("label"),s=In(t,"Representation"),i=s.map(this.je.bind(this,e,f,o,r,u,n,i)).filter(function(e){return!!e}),0==i.length){if(a)return null;throw new X(2,4,4003)}return e.U.contentType&&"application"!=e.U.contentType||(e.U.contentType=Jr(i[0].mimeType,i[0].codecs),i.forEach(function(t){t.type=e.U.contentType})),i.forEach(function(e){f.drmInfos.forEach(function(t){e.keyId&&t.keyIds.push(e.keyId)})}),a=s.map(function(e){return e.getAttribute("id")}).filter(Oe),{id:e.U.id||"__fake__"+this.i++,contentType:e.U.contentType,language:r,Ob:n,streams:i,drmInfos:f.drmInfos,gc:c,te:a}},Bu.je=function(e,t,n,r,i,o,a,s){if(e.v=Xr(s,e.U,null),!Qr(e.v))return null;e.bandwidth=Fn(s,"bandwidth",qn)||0;var u=e.v.contentType;u="text"==u||"application"==u;try{var c=this.ue.bind(this);if(e.v.fb)var l=Er(e,c);else if(e.v.ta)l=Pr(e,this.l);else if(e.v.hb)l=Nr(e,c,this.l,!!this.c);else{var f=e.v.fa,d=e.M.duration||0;l={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0<=e&&e<d?1:null},getSegmentReference:function(e){return 1!=e?null:new tr(1,0,d,function(){return f},0,null)},initSegmentReference:null,ea:0}}}catch(e){if(u&&4002==e.code)return null;throw e}return s=In(s,"ContentProtection"),s=Vn(s,this.b.dash.customScheme,t,this.b.dash.ignoreDrmInfo),{id:this.i++,createSegmentIndex:l.createSegmentIndex,findSegmentPosition:l.findSegmentPosition,getSegmentReference:l.getSegmentReference,initSegmentReference:l.initSegmentReference,presentationTimeOffset:l.ea,mimeType:e.v.mimeType,codecs:e.v.codecs,frameRate:e.v.frameRate,bandwidth:e.bandwidth,width:e.v.width,height:e.v.height,kind:n,encrypted:0<t.drmInfos.length,keyId:s,language:r,label:i,type:e.U.contentType,primary:o,trickModeVideo:null,containsEmsgBoxes:e.v.containsEmsgBoxes,roles:a,channelsCount:e.v.Tb}},Bu.Pe=function(){this.g=null,Ur(this).then(function(e){this.a&&Wr(this,e)}.bind(this)).catch(function(e){this.a&&(e.severity=1,this.a.onError(e),Wr(this,0))}.bind(this))},Bu.ie=function(e,t,n){var r=n.getAttribute("schemeIdUri")||"",i=n.getAttribute("value")||"",o=Fn(n,"timescale",Bn)||1;In(n,"Event").forEach(function(n){var a=Fn(n,"presentationTime",Bn)||0,s=Fn(n,"duration",Bn)||0;a=a/o+e,s=a+s/o,null!=t&&(a=Math.min(a,e+t),s=Math.min(s,e+t)),n={schemeIdUri:r,value:i,startTime:a,endTime:s,id:n.getAttribute("id")||"",eventElement:n},this.a.onTimelineRegionAdded(n)}.bind(this))},Bu.ue=function(e,t,n){return e=de(e,this.b.retryParameters),null!=t&&(e.headers.Range="bytes="+t+"-"+(null!=n?n:"")),t=this.a.networkingEngine.request(1,e),ce(this.f,t),t.promise.then(function(e){return e.data})},Mc.mpd=Lr,Dc["application/dash+xml"]=Lr,ei.prototype.toString=function(){function e(e){return e.name+'="'+e.value+'"'}return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(e).join(","):"#"+this.name},ei.prototype.getAttribute=function(e){var t=this.a.filter(function(t){return t.name==e});return t.length?t[0]:null};var Lc="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Uc="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");P("shaka.net.DataUriPlugin",yi),yi.parse=function(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new X(2,1,1004,t);if(n=n.slice(1).join(":").split(","),2>n.length)throw new X(2,1,1004,t);var r=n[0];n=e.decodeURIComponent(n.slice(1).join(",")),r=r.split(";");var i=null;if(1<r.length&&(i=r[1]),"base64"==i)t=Ge(n).buffer;else{if(i)throw new X(2,1,1005,t);t=Ue(n)}return{data:t,contentType:r[0]}},fe("data",yi),P("shaka.hls.HlsParser",gi),Bu=gi.prototype,Bu.configure=function(e){this.g=e},Bu.start=function(e,t){return this.c=t,this.m=e,Ki(this,e).then(function(t){return vi(this,t.data,e).then(function(){return Hi(this,this.i),this.o}.bind(this))}.bind(this))},Bu.stop=function(){return this.g=this.c=null,this.w={},this.J={},this.o=null,this.h.destroy()},Bu.update=function(){if(this.f!=Vc.pa){var e,t=[];for(e in this.a)t.push(bi(this,this.a[e],e));return Promise.all(t)}},Bu.onExpirationUpdated=function(){};var qc={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Bc={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};gi.prototype.T=function(){this.c&&(this.j=null,this.update().then(function(){Hi(this,this.i)}.bind(this)).catch(function(e){this.c&&(e.severity=1,this.c.onError(e),Hi(this,0))}.bind(this)))};var Kc={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=qi(e,"METHOD");return"SAMPLE-AES-CENC"!=t&&"SAMPLE-AES-CTR"!=t?null:(t=qi(e,"URI"),t=yi.parse(t),t=new Uint8Array(t.data),t=Ne("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=ni(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t)}},Hc="VOD",Vc={pa:Hc,Yc:"EVENT",ic:"LIVE"};Mc.m3u8=gi,Dc["application/x-mpegurl"]=gi,Dc["application/vnd.apple.mpegurl"]=gi,Gi.prototype.destroy=function(){var e=this.h.destroy();return this.w=this.u=this.a=this.h=null,null!=this.b&&(this.b.cancel(),this.b=null),e},Gi.prototype.cb=function(){this.f=!0,this.l()},Gi.prototype.l=function(){if(0!=this.a.readyState){if(this.a.seeking){if(!this.g)return}else this.g=!1;if(!this.a.paused){this.a.readyState!=this.m&&(this.c=!1,this.m=this.a.readyState);var e=this.o.smallGapLimit,t=this.a.currentTime,n=this.a.buffered;e:{if(n&&n.length&&!(1==n.length&&1e-6>n.end(0)-n.start(0))){var r=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(r=.5);for(var i=0;i<n.length;i++)if(n.start(i)>t&&(0==i||n.end(i-1)-t<=r)){r=i;break e}}r=null}if(null==r){if(n=this.a.currentTime,t=this.a.buffered,3>this.a.readyState&&0<this.a.playbackRate)if(this.j!=n)this.j=n,this.A=Date.now(),this.i=!1;else if(!this.i&&this.A<Date.now()-1e3)for(r=0;r<t.length;r++)if(n>=t.start(r)&&n<t.end(r)-.5){this.a.currentTime+=.1,this.j=this.a.currentTime,this.i=!0;break}}else if(0!=r||this.f){i=n.start(r);var o=this.u.presentationTimeline.la();if(!(i>=o)){o=i-t,e=o<=e;var a=!1;.001>o||(e||this.c||(this.c=!0,t=new Ee("largegap",{currentTime:t,gapSize:o}),t.cancelable=!0,this.w(t),this.o.jumpLargeGaps&&!t.defaultPrevented&&(a=!0)),!e&&!a)||(0!=r&&n.end(r-1),this.a.currentTime=i)}}}}},Bu=Wi.prototype,Bu.destroy=function(){var e=this.c.destroy();return this.c=null,null!=this.b&&(this.b.cancel(),this.b=null),this.i=this.a=null,e},Bu.Ya=function(){return this.f},Bu.Vd=function(){var e=this.g||0>this.f?0:this.f;this.a.playbackRate&&this.a.playbackRate!=e&&Qi(this,this.a.playbackRate)},Bu.Dc=function(){.001>Math.abs(this.a.currentTime-this.h)?this.Ec():(we(this.c,this.a,"seeking",this.Ec.bind(this)),this.a.currentTime=0==this.a.currentTime?this.h:this.a.currentTime)},Bu.Ec=function(){var e=this;ve(this.c,this.a,"seeking",function(){return e.i()})},Bu=$i.prototype,Bu.destroy=function(){var e=Promise.all([this.a.destroy(),this.g.destroy()]);return this.g=this.a=null,null!=this.f&&(this.f.cancel(),this.f=null),this.j=this.h=this.b=this.c=null,e},Bu.Ya=function(){return this.a.Ya()},Bu.cb=function(){this.g.cb()},Bu.Ud=function(){if(0!=this.c.readyState&&!this.c.paused){var e=this.c.currentTime,t=this.b.presentationTimeline,n=t.Ka();t=t.la(),3>t-n&&(n=t-3),e<n&&(e=eo(this,e),this.c.currentTime=e)}},Bu.Xd=function(){var e=this.g;e.g=!0,e.f=!1,e.c=!1;var t=Xi(this.a);if(e=eo(this,t),.001<Math.abs(e-t)&&(t=(new Date).getTime()/1e3,!this.i||this.i<t-1))return this.i=t,void Yi(this.a,e);this.j()},no.prototype.destroy=function(){var e=this.j?this.j.destroy():Promise.resolve();return this.j=null,oo(this),this.A=this.h=this.l=this.u=this.g=this.w=this.a=null,this.c=[],e},no.prototype.o=function(e){if(!this.c.some(function(t){return t.info.schemeIdUri==e.schemeIdUri&&t.info.startTime==e.startTime&&t.info.endTime==e.endTime})){var t={info:e,status:1};this.c.push(t);var n=new Ee("timelineregionadded",{detail:ro(e)});this.h(n),this.m(!0,t)}},no.prototype.m=function(e,t){var n=t.info.startTime>this.a.currentTime?1:t.info.endTime<this.a.currentTime?3:2,r=2==t.status,i=2==n;n!=t.status&&((!e||r||i)&&(r||this.h(new Ee("timelineregionenter",{detail:ro(t.info)})),i||this.h(new Ee("timelineregionexit",{detail:ro(t.info)}))),t.status=n)},no.prototype.H=function(){this.f=null,io(this);var e=un(this.g,this.a.currentTime);e!=this.i&&(-1!=this.i&&this.A(),this.i=e),e=yt(this.a.buffered,this.a.currentTime);var t=ht(this.a.buffered),n=this.g.presentationTimeline,r=n.La();t=n.P()&&t>=r,n=this.w,n=!n.g||"ended"==n.g.readyState,t=t||this.a.ended||n,this.b?(n=Math.max(this.g.minBufferTime||0,this.u.rebufferingGoal),(t||e>=n)&&0!=this.b&&(this.b=!1,this.l(!1))):!t&&.5>e&&1!=this.b&&(this.b=!0,this.l(!0)),this.c.forEach(this.m.bind(this,!1))},Bu=ao.prototype,Bu.destroy=function(){for(var e in this.c)Uo(this.c[e]);return this.g=this.c=this.i=this.h=this.m=this.b=this.a=null,this.f=!0,Promise.resolve()},Bu.configure=function(e){this.g=e,this.A=new V({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},Bu.init=function(){var e=Ji(this.a.Ra);return e=this.a.yc(this.b.periods[un(this.b,e)]),e.variant||e.text?wo(this,e).then(function(){!this.f&&this.a&&this.a.Ld&&this.a.Ld()}.bind(this)):Promise.reject(new X(2,5,5005))},Bu.Re=function(e){if(!this.f&&!e.Da&&null!=e.ua&&!e.za)if(e.ua=null,e.va)Mo(this,e,e.Bb);else{try{var t=_o(this,e);null!=t&&(Lo(this,e,t),e.ab=!1)}catch(e){return void qo(this,e)}t=Re(this.c),Ao(this,e),t.every(function(e){return e.endOfStream})&&this.a.K.endOfStream().then(function(){if(!this.f){var e=this.a.K.S();e<this.b.presentationTimeline.S()&&this.b.presentationTimeline.ja(e)}}.bind(this))}},Bu.he=function(e,t,n){var r=n.s.Xb(),i=n.s.Xb(),o=n.s.C(),a=n.s.C(),s=n.s.C(),u=n.s.C();n=n.s.Ea(n.s.G.byteLength-n.s.W()),e=e.startTime+t.startTime+a/o,"urn:mpeg:dash:event:2012"==r?this.a.Nd():this.a.onEvent(new Ee("emsg",{detail:{startTime:e,endTime:e+s/o,schemeIdUri:r,value:i,timescale:o,presentationTimeDelta:a,eventDuration:s,id:u,messageData:n}}))},P("shaka.net.HttpFetchPlugin",Ko),Ko.isSupported=function(){return!(!e.fetch||!e.AbortController)},Ko.isSupported=Ko.isSupported,Ko.c=e.fetch,Ko.a=e.AbortController,Ko.b=e.Headers,Ko.isSupported()&&(fe("http",Ko,2),fe("https",Ko,2)),P("shaka.net.HttpXHRPlugin",Ho),Ho.f=e.XMLHttpRequest,fe("http",Ho,1),fe("https",Ho,1),Vo.prototype.destroy=function(){this.h=!0;var e=this.c.catch(function(){});return this.c=Promise.resolve(),e},zo.prototype.abort=function(){try{this.c.abort()}catch(e){}return this.a.catch(function(){})},zo.prototype.store=function(){return this.b},zo.prototype.promise=function(){return this.a},$o.prototype.destroy=function(){return Promise.all(this.a.map(function(e){return e.abort()}))},ea.prototype.destroy=function(){var e=Re(this.a).map(function(e){return e.destroy()});return this.a={},Promise.all(e)},ea.prototype.init=function(){var e=this;Ae(Gc,function(t,n){var r=n();r&&(e.a[t]=r)});var t=Re(this.a).map(function(e){return e.init()});return Promise.all(t)},P("shaka.offline.StorageMuxer.register",function(e,t){Gc[e]=t}),P("shaka.offline.StorageMuxer.unregister",function(e){delete Gc[e]});var Gc={};Bu=aa.prototype,Bu.destroy=function(){return this.a.destroy()},Bu.hasFixedKeySpace=function(){return!0},Bu.addSegments=function(){return sa("segment")},Bu.removeSegments=function(e,t){return ua(this,"segment",e,t)},Bu.getSegments=function(e){return ca(this,"segment",e).then(function(e){return e.map(ha)})},Bu.addManifests=function(){return sa("manifest")},Bu.updateManifestExpiration=function(e,t){var n=Jo(this.a,"manifest"),r=n.store(),i=new H;return r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new X(2,9,9012,"Could not find values for "+e))},n.promise().then(function(){return i})},Bu.removeManifests=function(e,t){return ua(this,"manifest",e,t)},Bu.getManifests=function(e){return ca(this,"manifest",e).then(function(e){return e.map(la)})},Bu.getAllManifests=function(){var e=Zo(this.a,"manifest","readonly"),t={};return e.store().openCursor().onsuccess=function(e){(e=e.target.result)&&(t[e.key]=la(e.value),e.continue())},e.promise().then(function(){return t})},Bu=ga.prototype,Bu.destroy=function(){return this.a.destroy()},Bu.hasFixedKeySpace=function(){return this.f},Bu.addSegments=function(e){return ba(this,this.c,e)},Bu.removeSegments=function(e,t){return va(this,this.c,e,t)},Bu.getSegments=function(e){return wa(this,this.c,e)},Bu.addManifests=function(e){return ba(this,this.b,e)},Bu.updateManifestExpiration=function(e,t){var n=Jo(this.a,this.b),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},Bu.removeManifests=function(e,t){return va(this,this.b,e,t)},Bu.getManifests=function(e){return wa(this,this.b,e)},Bu.getAllManifests=function(){var e=Zo(this.a,this.b,"readonly"),t={};return e.store().openCursor().onsuccess=function(e){(e=e.target.result)&&(t[e.key]=e.value,e.continue())},e.promise().then(function(){return t})},ka.prototype.init=function(){var t=this,n=new H,r=e.indexedDB.open("shaka_offline_db",3);return r.onsuccess=function(e){e=e.target.result,t.f=e;var r=e.objectStoreNames;r=r.contains("manifest")&&r.contains("segment")?new aa(e):null,t.a=r,r=e.objectStoreNames,r=r.contains("manifest-v2")&&r.contains("segment-v2")?new ga(e,"segment-v2","manifest-v2",!0):null,t.b=r,r=e.objectStoreNames,e=r.contains("manifest-v3")&&r.contains("segment-v3")?new ga(e,"segment-v3","manifest-v3",!1):null,t.c=e,n.resolve()},r.onupgradeneeded=function(e){e=e.target.result;var t={autoIncrement:!0};e.createObjectStore("manifest-v3",t),e.createObjectStore("segment-v3",t)},r.onerror=function(e){n.reject(new X(2,9,9001,r.error)),e.preventDefault()},n},ka.prototype.destroy=function(){var e=this;return l(function t(){return T(t,function(t){switch(t.B){case 1:if(!e.a){t.X(2);break}return h(t,e.a.destroy(),2);case 2:if(!e.b){t.X(4);break}return h(t,e.b.destroy(),4);case 4:if(!e.c){t.X(6);break}return h(t,e.c.destroy(),6);case 6:e.f&&e.f.close(),t.B=0}})})},ka.prototype.getCells=function(){var e={};return this.a&&(e.v1=this.a),this.b&&(e.v2=this.b),this.c&&(e.v3=this.c),e},ka.prototype.erase=function(){var e=this;return l(function t(){return T(t,function(t){switch(t.B){case 1:if(!e.a){t.X(2);break}return h(t,e.a.destroy(),2);case 2:if(!e.b){t.X(4);break}return h(t,e.b.destroy(),4);case 4:if(!e.c){t.X(6);break}return h(t,e.c.destroy(),6);case 6:return e.f&&e.f.close(),h(t,Sa(),8);case 8:return e.f=null,e.a=null,e.b=null,e.c=null,h(t,e.init(),0)}})})},Gc.idb=function(){return e.indexedDB?new ka:null},Ea.prototype.aa=function(){return this.g},Ea.prototype.O=function(){return this.f},Ea.prototype.key=function(){return this.c},Ea.prototype.toString=function(){return this.b},Bu=Ra.prototype,Bu.configure=function(){},Bu.start=function(e){var t=_a(e);if(this.a=t,null==t||"manifest"!=t.a)return Promise.reject(new X(2,1,9004,t));var n=new ea;return se([n],function(){return l(function e(){var r,i,o,a;return T(e,function(e){switch(e.B){case 1:return h(e,n.init(),2);case 2:return h(e,ra(n,t.aa(),t.O()),3);case 3:return r=e.N,h(e,r.getManifests([t.key()]),4);case 4:return i=e.N,o=i[0],a=new Ta(t.aa(),t.O()),e.return(Pa(a,o))}})})})},Bu.stop=function(){return Promise.resolve()},Bu.update=function(){},Bu.onExpirationUpdated=function(e,t){var n=this.a,r=new ea;return se([r],function(){return l(function i(){var o,a,s,u,c;return T(i,function(i){switch(i.B){case 1:return h(i,r.init(),2);case 2:return h(i,ra(r,n.aa(),n.O()),3);case 3:return o=i.N,h(i,o.getManifests([n.key()]),4);case 4:if(a=i.N,s=a[0],u=0<=s.sessionIds.indexOf(e),c=void 0==s.expiration||s.expiration>t,u&&c)return h(i,o.updateManifestExpiration(n.key(),t),0);i.X(0)}})})}).catch(function(){})},Dc["application/x-offline-manifest"]=Ra,P("shaka.offline.OfflineScheme",ja),ja.a=function(e){return e={uri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},$(e)},ja.b=function(e,t){var n=new ea;return J(se([n],function(){return l(function e(){var r,i,o;return T(e,function(e){switch(e.B){case 1:return h(e,n.init(),2);case 2:return h(e,ra(n,t.aa(),t.O()),3);case 3:return r=e.N,h(e,r.getSegments([t.key()]),4);case 4:return i=e.N,o=i[0],e.return({uri:t,data:o.data,headers:{}})}})})}))},fe("offline",ja),P("shaka.text.SimpleTextDisplayer",Aa),Aa.prototype.remove=function(e,t){return!!this.a&&(Ma(this.a,function(n){return!(n.startTime>=t||n.endTime<=e)}),!0)},Aa.prototype.remove=Aa.prototype.remove,Aa.prototype.append=function(t){var n=[];if(e.VTTRegion){var r=t.map(function(e){return e.region});r=r.filter(Ce);for(var i=0;i<r.length;i++){var o=Da(this,r[i]);n.push(o)}}var a=[];for(r=0;r<t.length;r++)(i=Fa(t[r],n))&&a.push(i);a.slice().sort(function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:a.indexOf(t)-a.indexOf(e)}).forEach(function(e){this.a.addCue(e)}.bind(this))},Aa.prototype.append=Aa.prototype.append,Aa.prototype.destroy=function(){return this.a&&Ma(this.a,function(){return!0}),this.b=this.a=null,Promise.resolve()},Aa.prototype.destroy=Aa.prototype.destroy,Aa.prototype.isTextVisible=function(){return"showing"==this.a.mode},Aa.prototype.isTextVisible=Aa.prototype.isTextVisible,Aa.prototype.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},Aa.prototype.setTextVisibility=Aa.prototype.setTextVisibility,O(La,vn),P("shaka.Player",La),La.prototype.destroy=function(){var e=this;return l(function t(){var n;return T(t,function(t){switch(t.B){case 1:return h(t,e.detach(),2);case 2:return e.xa=!0,n=Promise.all([e.o?e.o.destroy():null,e.u?e.u.destroy():null]),e.Xa=!1,e.o=null,e.h=null,e.u=null,e.c=null,h(t,n,0)}})})},La.prototype.destroy=La.prototype.destroy,La.version="v2.4.3";var Wc={};La.registerSupportPlugin=function(e,t){Wc[e]=t},La.isBrowserSupported=function(){return!!(e.Promise&&e.Uint8Array&&Array.prototype.forEach&&e.MediaSource&&MediaSource.isTypeSupported&&e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)},La.probeSupport=function(){return ft().then(function(e){e={manifest:Fr(),media:Ot(),drm:e};for(var t in Wc)e[t]=Wc[t]();return e})},La.prototype.sb=function(e,t){var n=this;return l(function r(){return T(r,function(r){switch(r.B){case 1:if(void 0===t&&(t=!0),!n.f){r.X(2);break}return h(r,n.detach(),2);case 2:if(n.f=e,ve(n.o,n.f,"error",n.be.bind(n)),t)return n.i=new Pt(n.f),h(r,n.i.j,0);r.X(0)}})})},La.prototype.attach=La.prototype.sb,La.prototype.detach=function(){var e=this;return l(function t(){return T(t,function(t){switch(t.B){case 1:return e.f?h(t,e.jb(!1),2):t.return();case 2:e.o.na(e.f,"error"),e.f=null,t.B=0}})})},La.prototype.detach=La.prototype.detach,La.prototype.load=function(e,t,n){var r=this;return l(function i(){var o,a,s,u,c,l,f,d,p,m,b;return T(i,function(i){switch(i.B){case 1:if(!r.f)throw new X(2,7,7002);return a=new H,s=function(){return o=new X(2,7,7e3),a},r.dispatchEvent(new Ee("loading")),u=Date.now(),i.qa=2,c=r.jb(),r.Ia=s,h(i,c,4);case 4:if(r.j=Ja(),ve(r.o,r.f,"playing",r.kb.bind(r)),ve(r.o,r.f,"pause",r.kb.bind(r)),ve(r.o,r.f,"ended",r.kb.bind(r)),l=r.c.abrFactory,r.h=new l,r.h.configure(r.c.abr),r.w=new r.c.textDisplayFactory,r.w.setTextVisibility(r.Xa),o)throw o;return f=r,h(i,qa(r,e,n),5);case 5:if(f.b=i.N,r.Db=e,o)throw o;return Ba(r),r.l=new ze({Oa:r.u,onError:r.Va.bind(r),yb:r.Md.bind(r),onExpirationUpdated:r.Jd.bind(r),onEvent:r.ib.bind(r)}),r.l.configure(r.c.drm),h(i,r.l.init(r.b,!1),6);case 6:if(o)throw o;return r.dc(r.b.periods),r.mb=Date.now()/1e3,r.L=r.c.preferredAudioLanguage,r.wa=r.c.preferredTextLanguage,r.Y=r.c.preferredAudioChannelCount,Ka(r),h(i,r.l.sb(r.f),7);case 7:if(o)throw o;return r.h.init(r.Ke.bind(r)),r.i||(r.i=new Pt(r.f)),r.i.o=r.w,r.g=new $i(r.f,r.b,r.c.streaming,void 0==t?null:t,r.Ie.bind(r),r.ib.bind(r)),r.A=new no(r.f,r.i,r.b,r.c.streaming,r.Uc.bind(r),r.ib.bind(r),r.He.bind(r)),r.a=new ao(r.b,{Ra:r.g,K:r.i,Oa:r.u,yc:r.Gd.bind(r),xc:r.ed.bind(r),onError:r.Va.bind(r),onEvent:r.ib.bind(r),Nd:r.Od.bind(r),cb:r.Yd.bind(r),filterNewPeriod:r.ub.bind(r),filterAllPeriods:r.dc.bind(r)}),r.a.configure(r.c.streaming),Ha(r),r.dispatchEvent(new Ee("streaming")),h(i,r.a.init(),8);case 8:if(o)throw o;if(r.c.streaming.startAtSegmentBoundary&&(d=ts(r,Ji(r.g)),Yi(r.g.a,d)),r.b.periods.forEach(r.ub.bind(r)),os(r),is(r),p=so(r.a),m=Zt(p.variants,r.L,r.Ha,r.Y),r.h.setVariants(m),p.variants.some(function(e){return e.primary}),r.pb.forEach(r.A.o.bind(r.A)),r.pb=[],we(r.o,r.f,"loadeddata",function(){this.j.loadLatency=(Date.now()-u)/1e3}.bind(r)),o)throw o;r.Ia=null,y(i);break;case 2:return b=g(i),a.resolve(),r.Ia==s&&(r.Ia=null,r.dispatchEvent(new Ee("unloading"))),o?i.return(Promise.reject(o)):i.return(Promise.reject(b))}})})},La.prototype.load=La.prototype.load,La.prototype.configure=function(e,t){if(2==arguments.length&&"string"==typeof e){for(var n=e,r={},i=r,o=0,a=0;!(0>(o=n.indexOf(".",o)));)0!=o&&"\\"==n[o-1]||(a=n.substring(a,o).replace(/\\\./g,"."),i[a]={},i=i[a],a=o+1),o+=1;i[n.substring(a).replace(/\\\./g,".")]=t,e=r}return n=oe(this.c,e,$a(this),za(),""),Va(this),n},La.prototype.configure=La.prototype.configure,La.prototype.getConfiguration=function(){var e=$a(this);return oe(e,this.c,$a(this),za(),""),e},La.prototype.getConfiguration=La.prototype.getConfiguration,La.prototype.ve=function(){this.c=$a(this),Va(this)},La.prototype.resetConfiguration=La.prototype.ve,La.prototype.rd=function(){return this.f},La.prototype.getMediaElement=La.prototype.rd,La.prototype.sc=function(){return this.u},La.prototype.getNetworkingEngine=La.prototype.sc,La.prototype.Jb=function(){return this.Db},La.prototype.getManifestUri=La.prototype.Jb,La.prototype.P=function(){return!!this.b&&this.b.presentationTimeline.P()},La.prototype.isLive=La.prototype.P,La.prototype.Ba=function(){return!!this.b&&this.b.presentationTimeline.Ba()},La.prototype.isInProgress=La.prototype.Ba,La.prototype.Cd=function(){if(!this.b||!this.b.periods.length)return!1;var e=this.b.periods[0].variants;return!!e.length&&!e[0].video},La.prototype.isAudioOnly=La.prototype.Cd,La.prototype.xe=function(){var e=0,t=0;return this.b&&(t=this.b.presentationTimeline,e=t.Ka(),t=t.la()),{start:e,end:t}},La.prototype.seekRange=La.prototype.xe,La.prototype.keySystem=function(){return this.l?this.l.keySystem():""},La.prototype.keySystem=La.prototype.keySystem,La.prototype.drmInfo=function(){return this.l?this.l.b:null},La.prototype.drmInfo=La.prototype.drmInfo,La.prototype.wb=function(){return this.l?this.l.wb():1/0},La.prototype.getExpiration=La.prototype.wb,La.prototype.vc=function(){return this.qb},La.prototype.isBuffering=La.prototype.vc,La.prototype.jb=function(e){var t=this;return l(function n(){return T(n,function(n){switch(n.B){case 1:return t.xa?n.return():(void 0===e&&(e=!0),t.dispatchEvent(new Ee("unloading")),h(n,Ua(t),2));case 2:return t.rb||(t.rb=Qa(t).then(function(){t.Uc(!1),t.rb=null})),h(n,t.rb,3);case 3:if(e)return t.i=new Pt(t.f),h(n,t.i.j,0);n.X(0)}})})},La.prototype.unload=La.prototype.jb,La.prototype.Ya=function(){return this.g?this.g.Ya():0},La.prototype.getPlaybackRate=La.prototype.Ya,La.prototype.Te=function(e){this.g&&Qi(this.g.a,e),this.a&&mo(this.a,1!=e)},La.prototype.trickPlay=La.prototype.Te,La.prototype.fd=function(){this.g&&Qi(this.g.a,1),this.a&&mo(this.a,!1)},La.prototype.cancelTrickPlay=La.prototype.fd,La.prototype.zd=function(){if(!this.b||!this.g)return[];var e=un(this.b,Ji(this.g)),t=this.J[e]||{};return Yt(this.b.periods[e],t.audio,t.video)},La.prototype.getVariantTracks=La.prototype.zd,La.prototype.yd=function(){if(!this.b||!this.g)return[];var e=un(this.b,Ji(this.g)),t=this.J[e]||{};if(!t.text){var n=nn(this.b.periods[e].textStreams,this.wa,this.Wa);n.length&&(t.text=n[0].id)}return Qt(this.b.periods[e],t.text).filter(function(e){return 0>this.nb.indexOf(e.id)}.bind(this))},La.prototype.getTextTracks=La.prototype.yd,La.prototype.Be=function(e){if(this.a){var t=so(this.a);e:{for(var n=0;n<t.textStreams.length;n++)if(t.textStreams[n].id==e.id){e=t.textStreams[n];break e}e=null}e&&(this.i.l=!1,Xa(this,e,!1),t=e,this.ya?this.H=t:go(this.a,t,!0),this.wa=e.language)}},La.prototype.selectTextTrack=La.prototype.Be,La.prototype.ze=function(){this.i.l=!0,ho(this.a)},La.prototype.selectEmbeddedTextTrack=La.prototype.ze,La.prototype.Ye=function(){return!!this.i&&this.i.l},La.prototype.usingEmbeddedTextTrack=La.prototype.Ye,La.prototype.Ce=function(e,t){if(this.a){this.c.abr.enabled&&R("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var n=so(this.a),r=zt(n,e);r&&$t(r)&&(Wa(this,r,!1),Za(this,r,t),this.L=r.language,r.audio&&r.audio.channelsCount&&(this.Y=r.audio.channelsCount),n=Zt(n.variants,this.L,this.Ha,this.Y),this.h.setVariants(n))}},La.prototype.selectVariantTrack=La.prototype.Ce,La.prototype.nd=function(){if(!this.a)return[];var e=so(this.a);return e=Jt(e.variants).map(function(e){return e.audio}).filter(Ce),Ga(e)},La.prototype.getAudioLanguagesAndRoles=La.prototype.nd,La.prototype.xd=function(){return this.a?Ga(so(this.a).textStreams):[]},La.prototype.getTextLanguagesAndRoles=La.prototype.xd,La.prototype.md=function(){return this.a?Jt(so(this.a).variants).map(function(e){return e.language}).filter(Ce):[]},La.prototype.getAudioLanguages=La.prototype.md,La.prototype.wd=function(){return this.a?so(this.a).textStreams.map(function(e){return e.language}).filter(Ce):[]},La.prototype.getTextLanguages=La.prototype.wd,La.prototype.ye=function(e,t){if(this.a){var n=so(this.a);this.L=e,this.Ha=t||"",rs(this,n)}},La.prototype.selectAudioLanguage=La.prototype.ye,La.prototype.Ae=function(e,t){if(this.a){var n=so(this.a);this.wa=e,this.Wa=t||"",rs(this,n)}},La.prototype.selectTextLanguage=La.prototype.Ae,La.prototype.Nb=function(){return this.w?this.w.isTextVisible():this.Xa},La.prototype.isTextTrackVisible=La.prototype.Nb,La.prototype.Fe=function(e){this.w&&this.w.setTextVisibility(e),this.Xa=e,as(this),!this.c.streaming.alwaysStreamText&&this.a&&(e?(e=so(this.a),(e=nn(e.textStreams,this.wa,this.Wa)[0])&&po(this.a,e,!0)):ho(this.a))},La.prototype.setTextTrackVisibility=La.prototype.Fe,La.prototype.td=function(){return this.b?new Date(1e3*this.b.presentationTimeline.f+1e3*this.f.currentTime):null},La.prototype.getPlayheadTimeAsDate=La.prototype.td,La.prototype.vd=function(){return this.b?new Date(1e3*this.b.presentationTimeline.f):null},La.prototype.getPresentationStartTimeAsDate=La.prototype.vd,La.prototype.Hb=function(){return this.i?this.i.Hb():{total:[],audio:[],video:[],text:[]}},La.prototype.getBufferedInfo=La.prototype.Hb,La.prototype.getStats=function(){es(this),this.kb();var e=null,t=null,n=this.f;if(n=n&&n.getVideoPlaybackQuality?n.getVideoPlaybackQuality():{},this.g&&this.b){var r=un(this.b,Ji(this.g)),i=this.b.periods[r];(r=this.J[r])&&(t=sn(r.audio,r.video,i.variants),e=t.video||{})}return e||(e={}),t||(t={}),{width:e.width||0,height:e.height||0,streamBandwidth:t.bandwidth||0,decodedFrames:Number(n.totalVideoFrames),droppedFrames:Number(n.droppedVideoFrames),estimatedBandwidth:this.h?this.h.getBandwidthEstimate():NaN,loadLatency:this.j.loadLatency,playTime:this.j.playTime,bufferingTime:this.j.bufferingTime,switchHistory:ae(this.j.switchHistory),stateHistory:ae(this.j.stateHistory)}},La.prototype.getStats=La.prototype.getStats,La.prototype.addTextTrack=function(e,t,n,r,i,o){if(!this.a)return Promise.reject();var a=so(this.a),s=this.b.periods.indexOf(a)+1,u=(s>=this.b.periods.length?this.b.presentationTimeline.S():this.b.periods[s].startTime)-a.startTime;if(1/0==u)return Promise.reject(new X(1,4,4033));var c={id:this.ad++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1!=t?null:new tr(1,0,u,function(){return[e]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:t,label:o||null,type:"text",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null};return this.nb.push(c.id),a.textStreams.push(c),po(this.a,c,this.Xa).then(function(){if(!this.xa){var e=this.b.periods.indexOf(a),r=fo(this.a,"text");return r&&(this.J[e].text=r.id),this.nb.splice(this.nb.indexOf(c.id),1),rs(this,a),os(this),{id:c.id,active:!1,type:"text",bandwidth:0,language:t,label:o||null,kind:n,width:null,height:null}}}.bind(this))},La.prototype.addTextTrack=La.prototype.addTextTrack,La.prototype.bc=function(e,t){this.ob.width=e,this.ob.height=t},La.prototype.setMaxHardwareResolution=La.prototype.bc,La.prototype.Nc=function(){if(this.a){var e=this.a;if(e.f)e=!1;else if(e.l)e=!1;else{for(var t in e.c){var n=e.c[t];n.ab&&(n.ab=!1,Lo(e,n,.1))}e=!0}}else e=!1;return e},La.prototype.retryStreaming=La.prototype.Nc,La.prototype.qd=function(){return this.b},La.prototype.getManifest=La.prototype.qd,Bu=La.prototype,Bu.jd=function(e){var t=[1001,1002,1003];this.P()&&0<=t.indexOf(e.code)&&(e.severity=1,this.Nc())},Bu.dc=function(e){e.forEach(Ht.bind(null,this.l,this.a?co(this.a):null,this.a?lo(this.a):null));var t=ie(e,function(e){return e.variants.some($t)});if(0==t)throw new X(2,4,4032);if(t<e.length)throw new X(2,4,4011);e.forEach(function(e){if(Kt(e,this.c.restrictions,this.ob)&&this.a&&so(this.a)==e&&os(this),!e.variants.some($t))throw new X(2,4,4012)}.bind(this))},Bu.ub=function(e){Ht(this.l,this.a?co(this.a):null,this.a?lo(this.a):null,e);var t=e.variants,n=t.some($t);if(Kt(e,this.c.restrictions,this.ob)&&this.a&&so(this.a)==e&&os(this),e=t.some($t),!n)throw new X(2,4,4011);if(!e)throw new X(2,4,4012)},Bu.Je=function(e,t){this.h&&this.h.segmentDownloaded(e,t)},Bu.Uc=function(e){if(es(this),this.qb=e,this.kb(),this.g){
var t=this.g.a;e!=t.g&&(t.g=e,Qi(t,t.f))}this.dispatchEvent(new Ee("buffering",{buffering:e}))},Bu.He=function(){os(this)},Bu.kb=function(){if(!this.xa){var e=this.qb?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing",t=Date.now()/1e3;if(this.j.stateHistory.length){var n=this.j.stateHistory[this.j.stateHistory.length-1];if(n.duration=t-n.timestamp,e==n.state)return}this.j.stateHistory.push({timestamp:t,state:e,duration:0})}},Bu.Ie=function(){if(this.A){var e=this.A;e.c.forEach(e.m.bind(e,!0))}this.a&&bo(this.a)},Bu.Gd=function(e){this.ya=!0,this.h.disable();var t={audio:!1,text:!1},n=Zt(e.variants,this.L,this.Ha,this.Y,t),r=nn(e.textStreams,this.wa,this.Wa,t);if(n=ns(this,n),r=r[0]||null,this.T){e:{for(var i=this.b,o=0;o<i.periods.length;++o)for(var a=i.periods[o],s=0;s<a.variants.length;++s)if(a.variants[s]==this.T){i=o;break e}i=-1}this.b.periods[i]==e&&(n=this.T),this.T=null}return this.H&&(this.b.periods[cn(this.b,this.H)]==e&&(r=this.H),this.H=null),n&&Wa(this,n,!0),r&&(Xa(this,r,!0),!uo(this.a)&&n&&n.audio&&t.text&&r.language!=n.audio.language&&(this.w.setTextVisibility(!0),as(this))),this.c.streaming.alwaysStreamText||this.Nb()?{variant:n,text:r}:{variant:n,text:null}},Bu.ed=function(){this.ya=!1,this.c.abr.enabled&&this.h.enable(),this.T&&(yo(this.a,this.T,this.jc),this.T=null),this.H&&(go(this.a,this.H,!0),this.H=null)},Bu.Od=function(){this.m&&this.m.update&&this.m.update()},Bu.Yd=function(){this.g&&this.g.cb()},Bu.Ke=function(e,t){Wa(this,e,!0),this.a&&(yo(this.a,e,t||!1),is(this))},Bu.Va=function(e){if(!this.xa){var t=new Ee("error",{detail:e});this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)}},Bu.ae=function(e){this.A?this.A.o(e):this.pb.push(e)},Bu.ib=function(e){this.dispatchEvent(e)},Bu.be=function(){if(this.f.error){var e=this.f.error.code;if(1!=e){var t=this.f.error.msExtendedCode;t&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),this.Va(new X(2,3,3016,e,t,this.f.error.message))}}},Bu.Md=function(e){var t=["output-restricted","internal-error"],n=so(this.a),r=!1,i=Object.keys(e),o=1==i.length&&"00"==i[0];i.length&&n.variants.forEach(function(n){var i=[];n.audio&&i.push(n.audio),n.video&&i.push(n.video),i.forEach(function(i){var a=n.allowedByKeySystem;i.keyId&&(i=e[o?"00":i.keyId],n.allowedByKeySystem=!!i&&0>t.indexOf(i)),a!=n.allowedByKeySystem&&(r=!0)})}),(i=an(co(this.a),lo(this.a),n.variants))&&!i.allowedByKeySystem&&rs(this,n),r&&(os(this),n=Zt(n.variants,this.L,this.Ha,this.Y),this.h.setVariants(n))},Bu.Jd=function(e,t){this.m&&this.m.onExpirationUpdated&&this.m.onExpirationUpdated(e,t),this.dispatchEvent(new Ee("expirationupdated"))},P("shaka.offline.Storage",ds),ds.support=ps,ds.prototype.destroy=function(){return this.a=this.b=null,Promise.resolve()},ds.prototype.destroy=ds.prototype.destroy,ds.prototype.configure=function(e){oe(this.b,e,vs(this),{},"")},ds.prototype.configure=ds.prototype.configure,ds.prototype.store=function(e,t,n){var r=this;return l(function i(){var o,a,s,u,c,f;return T(i,function(i){switch(i.B){case 1:return Cs(),r.g?i.return(Promise.reject(new X(2,9,9006))):(r.g=!0,o=t||{},a=null,s=function(e){a=a||e},h(i,gs(r,e,s,n),2));case 2:if(u=i.N,!(c=!u.manifest.presentationTimeline.P()&&!u.manifest.presentationTimeline.Ba()))throw new X(2,9,9005,e);if(Os(r),a)throw a;return f=new ea,i.return(se([f,u.Fb],function(){return l(function t(){var n,i,s,c,l,d,p;return T(t,function(t){switch(t.B){case 1:return m(t),h(t,f.init(),4);case 4:return Os(r),ws(r,u.Fb,u.manifest.periods),h(t,ta(f),5);case 5:return n=t.N,Os(r),t.qa=6,h(t,hs(r,n.O,u.Fb,u.manifest,e,o||{}),8);case 8:return i=t.N,Os(r),h(t,n.O.addManifests([i]),9);case 9:return s=t.N,Os(r),c=new Ea("manifest",n.path.aa,n.path.O,s[0]),t.return(us(c,i));case 6:return l=g(t),d=r.f,p=function(){},h(t,n.O.removeSegments(d,p),10);case 10:throw a||l;case 2:b(t),r.g=!1,r.c=null,r.f=[],v(t)}})})}))}})})},ds.prototype.store=ds.prototype.store,ds.prototype.remove=function(e){var t=this;Cs();var n=_a(e);if(null==n||"manifest"!=n.a)return Promise.reject(new X(2,9,9004,e));var r=new ea;return se([r],function(){return l(function e(){var i,o,a;return T(e,function(e){switch(e.B){case 1:return h(e,r.init(),2);case 2:return h(e,ra(r,n.aa(),n.O()),3);case 3:return i=e.N,h(e,i.getManifests([n.key()]),4);case 4:return o=e.N,a=o[0],h(e,Promise.all([ms(t,n,a),ys(t,i,n,a)]),0)}})})})},ds.prototype.remove=ds.prototype.remove,ds.prototype.list=function(){function e(e,n){return l(function r(){var i;return T(r,function(r){switch(r.B){case 1:return h(r,n.getAllManifests(),2);case 2:i=r.N,Ae(i,function(n,r){var i=us(new Ea("manifest",e.aa,e.O,n),r);t.push(i)}),r.B=0}})})}Cs();var t=[],n=new ea;return se([n],function(){return l(function t(){var r;return T(t,function(t){switch(t.B){case 1:return h(t,n.init(),2);case 2:return r=Promise.resolve(),na(n,function(t,n){r=r.then(function(){return e(t,n)})}),h(t,r,0)}})})}).then(function(){return t})},ds.prototype.list=ds.prototype.list,ds.deleteAll=function(e){var t=e.u,n=e.getConfiguration().drm,r=new ea;return se([r],function(){return l(function e(){var i,o;return T(e,function(e){switch(e.B){case 1:return h(e,r.init(),2);case 2:return h(e,As(r),3);case 3:return i=e.N,o=Promise.resolve(),i.forEach(function(e){o=o.then(function(){return Is(t,n,e)})}),h(e,o,4);case 4:return h(e,ia(r),0)}})})})},Wc.offline=ps,P("shaka.polyfill.installAll",function(){for(var e=0;e<Xc.length;++e)Xc[e].cd()});var Xc=[];P("shaka.polyfill.register",Fs),Fs(function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,t=Document.prototype,t.exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Ds),document.addEventListener("webkitfullscreenerror",Ds),document.addEventListener("mozfullscreenchange",Ds),document.addEventListener("mozfullscreenerror",Ds),document.addEventListener("MSFullscreenChange",Ds),document.addEventListener("MSFullscreenError",Ds)}}),Fs(function(){var t=navigator.userAgent;t&&0<=t.indexOf("CrKey")&&delete e.indexedDB});var Yc;Fs(function(){0>navigator.userAgent.indexOf("Trident/")||HTMLInputElement.prototype.addEventListener==Ms||(Yc=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Ms)}),Fs(function(){}),Fs(function(){if(e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)Vs();else if(navigator.vendor&&0<=navigator.vendor.indexOf("Apple")){var t=navigator.appVersion;Hs(),0<=t.indexOf("Version/8")?e.MediaSource=null:0<=t.indexOf("Version/9")?Ls():0<=t.indexOf("Version/10")?(Ls(),qs()):0<=t.indexOf("Version/11")&&(Ls(),Us())}}),Gs.prototype.c=function(e){if(!(1<e.version)){var t=Xe(e.s.Ea(16)),n=[];if(0<e.version)for(var r=e.s.C(),i=0;i<r;++i){var o=Xe(e.s.Ea(16));n.push(o)}r=e.s.C(),e.s.F(r),this.b.push.apply(this.b,n),this.f.push(t),this.a.push({start:e.start,end:e.start+e.size-1})}},Xs.prototype.createMediaKeys=function(){var e=new Qs(this.keySystem);return Promise.resolve(e)},Xs.prototype.getConfiguration=function(){return this.a},Qs.prototype.createSession=function(e){var t=e||"temporary";if("temporary"!=t)throw new TypeError("Session type "+e+" is unsupported on this platform.");return new $s(this.a,t)},Qs.prototype.setServerCertificate=function(){return Promise.resolve(!1)},O($s,vn),Bu=$s.prototype,Bu.generateRequest=function(e,t){this.a=new H;try{this.c=this.g.createSession("video/mp4",new Uint8Array(t),null),ve(this.f,this.c,"mskeymessage",this.Sd.bind(this)),ve(this.f,this.c,"mskeyadded",this.Qd.bind(this)),ve(this.f,this.c,"mskeyerror",this.Rd.bind(this)),eu(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},Bu.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},Bu.update=function(e){this.b=new H;try{this.c.update(new Uint8Array(e))}catch(e){this.b.reject(e)}return this.b},Bu.close=function(){try{this.c.close(),this.closed.resolve(),ke(this.f)}catch(e){this.closed.reject(e)}return this.closed},Bu.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},Bu.Sd=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Ee("message",{messageType:void 0==this.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message.buffer}))},Bu.Qd=function(){this.a?(eu(this,"usable"),this.a.resolve(),this.a=null):this.b&&(eu(this,"usable"),this.b.resolve(),this.b=null)},Bu.Rd=function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:eu(this,"output-not-allowed");break;default:eu(this,"internal-error")}};var Qc;Bu=tu.prototype,Bu.forEach=function(e){this.a&&e(this.a,Qc)},Bu.get=function(e){if(this.has(e))return this.a},Bu.has=function(e){var t=Qc;return!(!this.a||!Ye(new Uint8Array(e),new Uint8Array(t)))},Bu.entries=function(){},Bu.keys=function(){},Bu.values=function(){},Fs(function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(Qc=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ys,e.MediaKeys=Qs,e.MediaKeySystemAccess=Xs,navigator.requestMediaKeySystemAccess=Ws)}),iu.prototype.createSession=function(){},iu.prototype.setServerCertificate=function(){},ou.prototype.getConfiguration=function(){},ou.prototype.createMediaKeys=function(){},Fs(function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=nu,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ru,e.MediaKeys=iu,e.MediaKeySystemAccess=ou)},-10);var zc="";cu.prototype.createMediaKeys=function(){var e=new lu(this.a);return Promise.resolve(e)},cu.prototype.getConfiguration=function(){return this.b},Bu=lu.prototype,Bu.createSession=function(e){var t=e||"temporary";if("temporary"!=t&&"persistent-license"!=t)throw new TypeError("Session type "+e+" is unsupported on this platform.");return e=this.b||document.createElement("video"),e.src||(e.src="about:blank"),t=new pu(e,this.g,t),this.c.push(t),t},Bu.setServerCertificate=function(){return Promise.resolve(!1)},Bu.fe=function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="webm",t.initData=e.initData,this.b.dispatchEvent(t)},Bu.ee=function(e){var t=du(this,e.sessionId);t&&(e=new Ee("message",{messageType:void 0==t.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message}),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e))},Bu.ce=function(e){(e=du(this,e.sessionId))&&(mu(e,"usable"),e.a&&e.a.resolve(),e.a=null)},Bu.de=function(e){var t=du(this,e.sessionId);if(t){var n=Error("EME v0.1b key error");n.errorCode=e.errorCode,n.errorCode.systemCode=e.systemCode,!e.sessionId&&t.b?(n.method="generateRequest",45==e.systemCode&&(n.message="Unsupported session type."),t.b.reject(n),t.b=null):e.sessionId&&t.a?(n.method="update",t.a.reject(n),t.a=null):(n=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?mu(t,"output-restricted"):1==n?mu(t,"expired"):mu(t,"internal-error"))}},O(pu,vn),Bu=pu.prototype,Bu.ec=function(e,t){if(this.a)this.a.then(this.ec.bind(this,e,t)).catch(this.ec.bind(this,e,t));else{if(this.a=e,"webkit-org.w3.clearkey"==this.c){var n=De(t),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=Ge(r.keys[0].k),r=Ge(r.keys[0].kid)}else n=new Uint8Array(t),r=null;var i=au("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(e){this.a.reject(e),this.a=null}}},Bu.generateRequest=function(e,t){return hu(this,t,null)},Bu.load=function(e){return"persistent-license"==this.g?hu(this,null,e):Promise.reject(Error("Not a persistent session."))},Bu.update=function(e){var t=new H;return this.ec(t,e),t},Bu.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=au("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},Bu.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()};var $c;Bu=yu.prototype,Bu.forEach=function(e){this.a&&e(this.a,$c)},Bu.get=function(e){if(this.has(e))return this.a},Bu.has=function(e){var t=$c;return!(!this.a||!Ye(new Uint8Array(e),new Uint8Array(t)))},Bu.entries=function(){},Bu.keys=function(){},Bu.values=function(){},Fs(function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)zc="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;$c=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=su,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=uu,e.MediaKeys=lu,e.MediaKeySystemAccess=cu}}),Fs(function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this,arguments);return e&&e.catch(function(){}),e}}}),Fs(function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=gu)}}),Fs(function(){if(!e.VTTCue&&e.TextTrackCue){var t=TextTrackCue.length;if(3==t)e.VTTCue=bu;else if(6==t)e.VTTCue=vu;else{try{var n=!!bu(1,2,"")}catch(e){n=!1}n&&(e.VTTCue=bu)}}}),wu.prototype.parseInit=function(){},wu.prototype.parseMedia=function(e,t){var n=De(e),r=[],i=new DOMParser,o=null;try{o=i.parseFromString(n,"text/xml")}catch(e){throw new X(2,2,2005)}if(o){if(!(i=o.getElementsByTagName("tt")[0]))throw new X(2,2,2005);o=i.getAttribute("ttp:frameRate");var a=i.getAttribute("ttp:subFrameRate"),s=i.getAttribute("ttp:frameRateMultiplier"),u=i.getAttribute("ttp:tickRate");if("default"!=(n=i.getAttribute("xml:space")||"default")&&"preserve"!=n)throw new X(2,2,2005);n="default"==n,o=new Ru(o,a,s,u),a=ku(i.getElementsByTagName("styling")[0]),s=ku(i.getElementsByTagName("layout")[0]),u=[];for(var c=0;c<s.length;c++){var l=s[c],f=a,d=new vt,p=l.getAttribute("xml:id");if(p){d.id=p;var h;(h=Ou(l,f,"tts:extent"))&&null!=(h=(p=Jc.exec(h))||el.exec(h))&&(d.width=Number(h[1]),d.height=Number(h[2]),d.widthUnits=p?pc:0,d.heightUnits=p?pc:0),(l=Ou(l,f,"tts:origin"))&&null!=(h=(p=Jc.exec(l))||el.exec(l))&&(d.viewportAnchorX=Number(h[1]),d.viewportAnchorY=Number(h[2]),d.viewportAnchorUnits=p?pc:0)}else d=null;d&&u.push(d)}for(i=ku(i.getElementsByTagName("body")[0]),c=0;c<i.length;c++)(d=Eu(i[c],t.periodStart,o,a,s,u,n))&&r.push(d)}return r};var Jc=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Zc=/^(\d+px|\d+em)$/,el=/^(\d+)px (\d+)px$/,tl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,nl=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,rl=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,il=/^(\d*(?:\.\d*)?)f$/,ol=/^(\d*(?:\.\d*)?)t$/,al=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,sl={left:"start",center:uc,right:"end",start:"start",end:"end"},ul={left:"line-left",center:"center",right:"line-right"};mc["application/ttml+xml"]=wu,ju.prototype.parseInit=function(e){var t=!1;if((new ir).D("moov",or).D("trak",or).D("mdia",or).D("minf",or).D("stbl",or).Z("stsd",ar).D("stpp",function(e){t=!0,e.ra.stop()}).parse(e),!t)throw new X(2,2,2007)},ju.prototype.parseMedia=function(e,t){var n=!1,r=[];if((new ir).D("mdat",sr(function(e){n=!0,r=r.concat(this.a.parseMedia(e,t))}.bind(this))).parse(e),!n)throw new X(2,2,2007);return r},mc['application/mp4; codecs="stpp"']=ju,mc['application/mp4; codecs="stpp.TTML.im1t"']=ju,Au.prototype.parseInit=function(){},Au.prototype.parseMedia=function(e,t){var n=De(e);if(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),n=n.split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new X(2,2,2e3);var r=t.segmentStart;if(null==r&&(r=0,0<=n[0].indexOf("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=n[0].match(/MPEGTS:(\d+)/m);i&&o&&(r=Mu(new ui(i[1])),r=t.periodStart+(Number(o[1])/9e4-r))}o=[];var a=n[0].split("\n");for(i=1;i<a.length;i++)if(/^Region:/.test(a[i])){var s=new ui(a[i]),u=new vt;fi(s),ci(s);for(var c=fi(s);c;){var l=u,f=c;(c=/^id=(.*)$/.exec(f))?l.id=c[1]:(c=/^width=(\d{1,2}|100)%$/.exec(f))?l.width=Number(c[1]):(c=/^lines=(\d+)$/.exec(f))?(l.height=Number(c[1]),l.heightUnits=2):(c=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.regionAnchorX=Number(c[1]),l.regionAnchorY=Number(c[2])):(c=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.viewportAnchorX=Number(c[1]),l.viewportAnchorY=Number(c[2])):/^scroll=up$/.exec(f)&&(l.scroll="up"),ci(s),c=fi(s)}o.push(u)}for(i=[],s=1;s<n.length;s++){if(a=n[s].split("\n"),c=a,f=r,a=o,1==c.length&&!c[0]||/^NOTE($|[ \t])/.test(c[0])||"STYLE"==c[0])a=null;else{u=null,0>c[0].indexOf("--\x3e")&&(u=c[0],c.splice(0,1)),l=new ui(c[0]);var d=Mu(l),p=li(l,/[ \t]+--\x3e[ \t]+/g),h=Mu(l);if(null==d||null==p||null==h)throw new X(2,2,2001);for(c=new bt(d+f,h+f,c.slice(1).join("\n").trim()),ci(l),f=fi(l);f;)Fu(c,f,a),ci(l),f=fi(l);null!=u&&(c.id=u),a=c}a&&i.push(a)}return i},mc["text/vtt"]=Au,mc['text/vtt; codecs="vtt"']=Au,Lu.prototype.parseInit=function(e){var t=!1;if((new ir).D("moov",or).D("trak",or).D("mdia",or).Z("mdhd",function(e){0==e.version?(e.s.F(4),e.s.F(4),this.a=e.s.C(),e.s.F(4)):(e.s.F(8),e.s.F(8),this.a=e.s.C(),e.s.F(8)),e.s.F(4)}.bind(this)).D("minf",or).D("stbl",or).Z("stsd",ar).D("wvtt",function(){t=!0}).parse(e),!this.a)throw new X(2,2,2008);if(!t)throw new X(2,2,2008)},Lu.prototype.parseMedia=function(e,t){var n=this;if(!this.a)throw new X(2,2,2008);var r,i=0,o=[],a=[],s=!1,u=!1,c=!1,l=null;if((new ir).D("moof",or).D("traf",or).Z("tfdt",function(e){s=!0,i=0==e.version?e.s.C():e.s.Ta()}).Z("tfhd",function(e){var t=e.flags;e=e.s,e.F(4),1&t&&e.F(8),2&t&&e.F(4),l=8&t?e.C():null}).Z("trun",function(e){u=!0;var t=e.version,n=e.flags;e=e.s;var r=e.C();1&n&&e.F(4),4&n&&e.F(4);for(var i=[],a=0;a<r;a++){var s={duration:null,sampleSize:null,fc:null};256&n&&(s.duration=e.C()),512&n&&(s.sampleSize=e.C()),1024&n&&e.F(4),2048&n&&(s.fc=0==t?e.C():e.Kc()),i.push(s)}o=i}).D("mdat",sr(function(e){c=!0,r=e})).parse(e),!c&&!s&&!u)throw new X(2,2,2008);var f=i,d=new DataView(r.buffer,r.byteOffset,r.byteLength),p=new nr(d,0);return o.forEach(function(e){var r=e.duration||l,o=e.fc?i+e.fc:f;f=o+(r||0);var s=0;do{var u=p.C();s+=u;var c=p.C(),d=null;"vttc"==cr(c)?8<u&&(d=p.Ea(u-8)):p.F(u-8),r&&d&&a.push(Uu(d,t.periodStart+o/n.a,t.periodStart+f/n.a))}while(e.sampleSize&&s<e.sampleSize)}),a.filter(Oe)},mc['application/mp4; codecs="wvtt"']=Lu}).call(i,r,r);for(var o in i.shaka)t[o]=i.shaka[o]}()}).call(t,n(31))},710:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UGCImage_picture",selections:[{kind:"ScalarField",alias:null,args:null,name:"urlRoot",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"primaryColor",storageKey:null}],type:"Picture"};e.exports=t},711:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UpNextItem_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"owner",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"displayName",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Picture",name:"picture",plural:!1,selections:[{kind:"FragmentSpread",name:"UGCImage_picture",args:null}],storageKey:null}],type:"Cloudcast"};e.exports=t},712:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UpNext_cloudcasts",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"CloudcastEdge",name:"edges",plural:!0,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Cloudcast",name:"node",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"FragmentSpread",name:"UpNextItem_cloudcast",args:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"cursor",storageKey:null}],storageKey:null}],type:"CloudcastConnection"};e.exports=t},713:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UpNext_currentCloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],type:"Cloudcast"};e.exports=t},714:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloudcastImage_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"slug",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"owner",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"username",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Picture",name:"picture",plural:!1,selections:[{kind:"FragmentSpread",name:"UGCImage_picture",args:null}],storageKey:null}],type:"Cloudcast"};e.exports=t},715:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShareModal_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"slug",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"owner",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"username",storageKey:null}],storageKey:null}],type:"Cloudcast"};e.exports=t},716:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CoverImage_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"slug",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"owner",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"username",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"displayName",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Picture",name:"picture",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"urlRoot",storageKey:null}],storageKey:null}],type:"Cloudcast"};e.exports=t},72:function(e,t,n){"use strict";t.__esModule=!0;var r=n(555),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},720:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepostButton_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"slug",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"isReposted",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"UserWithProvidedTotalConnection",name:"reposts",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"totalCount",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"owner",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"isViewer",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"username",storageKey:null}],storageKey:null}],type:"Cloudcast"};e.exports=t},721:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepostButton_viewer",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"me",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],type:"Viewer"};e.exports=t},722:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FavoriteButton_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"isFavorited",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"slug",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"owner",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"username",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"UserWithProvidedTotalConnection",name:"favorites",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"totalCount",storageKey:null}],storageKey:null}],type:"Cloudcast"};e.exports=t},723:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FavoriteButton_viewer",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"me",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],type:"Viewer"};e.exports=t},724:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WidgetLogo_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"slug",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"owner",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"username",storageKey:null}],storageKey:null}],type:"Cloudcast"};e.exports=t},725:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Stats_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"plays",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"hiddenStats",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"UserWithProvidedTotalConnection",name:"favorites",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"totalCount",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"UserWithProvidedTotalConnection",name:"reposts",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"totalCount",storageKey:null}],storageKey:null}],type:"Cloudcast"};e.exports=t},726:function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return s});var s=function(){function t(){r(this,t),a(this,"_aborted",!1),a(this,"_hook",null)}return o(t,[{key:"setAbortHook",value:function(e){this._hook=e,this._aborted&&this._abort()}},{key:"_abort",value:function(){var t=this;e(function(){t._hook&&t._hook()})}},{key:"abort",value:function(){this._aborted||(this._aborted=!0,this._abort())}}]),t}()}).call(t,n(727).setImmediate)},727:function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(728),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(31))},729:function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function o(){h&&d&&(h=!1,d.length?p=d.concat(p):m=-1,p.length&&a())}function a(){if(!h){var e=r(o);h=!0;for(var t=p.length;t;){for(d=p,p=[];++m<t;)d&&d[m].run();m=-1,t=p.length}d=null,h=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var c,l,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:t}catch(e){c=t}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var d,p=[],h=!1,m=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(){return[]},f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},730:function(e){"use strict";var t={fragment:{argumentDefinitions:[{kind:"LocalArgument",name:"input",type:"ChangeFollowingMutationInput!",defaultValue:null}],kind:"Fragment",metadata:null,name:"changeFollowingMutation",selections:[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ChangeFollowingMutationInput!"}],concreteType:"ChangeFollowingMutationPayload",name:"changeFollowing",plural:!1,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"user",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"FollowersConnection",name:"followers",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"totalCount",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"isFollowing",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation"},id:null,kind:"Batch",metadata:{},name:"changeFollowingMutation",query:{argumentDefinitions:[{kind:"LocalArgument",name:"input",type:"ChangeFollowingMutationInput!",defaultValue:null}],kind:"Root",name:"changeFollowingMutation",operation:"mutation",selections:[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ChangeFollowingMutationInput!"}],
concreteType:"ChangeFollowingMutationPayload",name:"changeFollowing",plural:!1,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"user",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"FollowersConnection",name:"followers",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"totalCount",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"isFollowing",storageKey:null}],storageKey:null}],storageKey:null}]},text:"mutation changeFollowingMutation(\n  $input: ChangeFollowingMutationInput!\n) {\n  changeFollowing(input: $input) {\n    user {\n      id\n      followers {\n        totalCount\n      }\n      isFollowing\n    }\n  }\n}\n"};e.exports=t},731:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowToggleButton_user",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"isFollowing",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"username",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"isViewer",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"FollowersConnection",name:"followers",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"totalCount",storageKey:null}],storageKey:null}],type:"User"};e.exports=t},732:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowToggleButton_viewer",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"me",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],type:"Viewer"};e.exports=t},733:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Title_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"slug",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"owner",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"displayName",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"username",storageKey:null},{kind:"FragmentSpread",name:"FollowToggleButton_user",args:null}],storageKey:null}],type:"Cloudcast"};e.exports=t},734:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Title_viewer",selections:[{kind:"FragmentSpread",name:"FollowToggleButton_viewer",args:null}],type:"Viewer"};e.exports=t},736:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeekWarning_cloudcast",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"owner",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"displayName",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"isSelect",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"username",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"seekRestriction",storageKey:null}],type:"Cloudcast"};e.exports=t},737:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WidgetErrorMessage_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"restrictedReason",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"isAwaitingAudio",storageKey:null}],type:"Cloudcast"};e.exports=t},738:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MiniControls_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"isUnlisted",storageKey:null},{kind:"FragmentSpread",name:"FavoriteButton_cloudcast",args:null},{kind:"FragmentSpread",name:"RepostButton_cloudcast",args:null}],type:"Cloudcast"};e.exports=t},739:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MiniControls_viewer",selections:[{kind:"FragmentSpread",name:"FavoriteButton_viewer",args:null},{kind:"FragmentSpread",name:"RepostButton_viewer",args:null}],type:"Viewer"};e.exports=t},740:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WidgetControls_cloudcast",selections:[{kind:"FragmentSpread",name:"WidgetLogo_cloudcast",args:null},{kind:"FragmentSpread",name:"PlayerSlider_cloudcast",args:null},{kind:"FragmentSpread",name:"MiniControls_cloudcast",args:null},{kind:"FragmentSpread",name:"WidgetErrorMessage_cloudcast",args:null},{kind:"FragmentSpread",name:"Title_cloudcast",args:null},{kind:"FragmentSpread",name:"Stats_cloudcast",args:null},{kind:"FragmentSpread",name:"RepostButton_cloudcast",args:null},{kind:"FragmentSpread",name:"FavoriteButton_cloudcast",args:null}],type:"Cloudcast"};e.exports=t},741:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WidgetControls_viewer",selections:[{kind:"FragmentSpread",name:"FavoriteButton_viewer",args:null},{kind:"FragmentSpread",name:"RepostButton_viewer",args:null},{kind:"FragmentSpread",name:"MiniControls_viewer",args:null},{kind:"FragmentSpread",name:"Title_viewer",args:null}],type:"Viewer"};e.exports=t},742:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TrackList_cloudcast",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"featuringArtistList",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"moreFeaturingArtists",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"canShowTracklist",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"JunoDetails",name:"juno",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"guid",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"chartUrl",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"sections",plural:!0,selections:[{kind:"InlineFragment",type:"ChapterSection",selections:[{kind:"ScalarField",alias:null,args:null,name:"chapter",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"startSeconds",storageKey:null}]},{kind:"InlineFragment",type:"TrackSection",selections:[{kind:"ScalarField",alias:null,args:null,name:"songName",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"artistName",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"startSeconds",storageKey:null}]}],storageKey:null}],type:"Cloudcast"};e.exports=t},744:function(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},745:function(e,t){"use strict";function n(e){return decodeURIComponent(e.replace(/\+/g," "))}function r(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,i={};t=r.exec(e);){var o=n(t[1]),a=n(t[2]);o in i||(i[o]=a)}return i}function i(e,t){t=t||"";var n,r,i=[];"string"!=typeof t&&(t="?");for(r in e)a.call(e,r)&&(n=e[r],n||null!==n&&n!==o&&!isNaN(n)||(n=""),i.push(encodeURIComponent(r)+"="+encodeURIComponent(n)));return i.length?t+i.join("&"):""}var o,a=Object.prototype.hasOwnProperty;t.stringify=i,t.parse=r},746:function(e,t){t=e.exports=function(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return o[e];var i=String(e),a=n[i.toLowerCase()];if(a)return a;var a=r[i.toLowerCase()];return a||(1===i.length?i.charCodeAt(0):void 0)};var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var o=t.names=t.title={};for(i in n)o[n[i]]=i;for(var a in r)n[a]=r[a]},757:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GoogleAnalytics_viewer",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"me",plural:!1,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"hasPremiumFeatures",storageKey:null}],storageKey:null}],type:"Viewer"};e.exports=t},758:function(e,t,n){var r,i;!function(o,a){void 0!==e&&e.exports?e.exports=a():(r=a,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i))}(0,function(){function e(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return u;return 1}function t(t,n){e(t,function(e){return!n(e)})}function n(o,a,s){function u(e){return e.call?e():d[e]}function l(){if(!--b){d[g]=1,y&&y();for(var n in h)e(n.split("|"),u)&&!t(h[n],u)&&(h[n]=[])}}o=o[c]?o:[o];var f=a&&a.call,y=f?a:s,g=f?o.join(""):a,b=o.length;return setTimeout(function(){t(o,function e(t,n){return null===t?l():(n||/^https?:\/\//.test(t)||!i||(t=-1===t.indexOf(".js")?i+t+".js":i+t),m[t]?(g&&(p[g]=1),2==m[t]?l():setTimeout(function(){e(t,!0)},0)):(m[t]=1,g&&(p[g]=1),void r(t,l)))})},0),n}function r(e,t){var n,r=a.createElement("script");r.onload=r.onerror=r[f]=function(){r[l]&&!/^c|loade/.test(r[l])||n||(r.onload=r[f]=null,n=1,m[e]=2,t())},r.async=1,r.src=o?e+(-1===e.indexOf("?")?"?":"&")+o:e,s.insertBefore(r,s.lastChild)}var i,o,a=document,s=a.getElementsByTagName("head")[0],u=!1,c="push",l="readyState",f="onreadystatechange",d={},p={},h={},m={};return n.get=r,n.order=function(e,t,r){!function i(o){o=e.shift(),e.length?n(o,i):n(o,t,r)}()},n.path=function(e){i=e},n.urlArgs=function(e){o=e},n.ready=function(r,i,o){r=r[c]?r:[r];var a=[];return!t(r,function(e){d[e]||a[c](e)})&&e(r,function(e){return d[e]})?i():function(e){h[e]=h[e]||[],h[e][c](i),o&&o(a)}(r.join("|")),n},n.done=function(e){n([null],e)},n})},77:function(e,t){var n,r;!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=i:(n=[],void 0!==(r=function(){return i}.apply(t,n))&&(e.exports=r))}()}},[354]);
//# sourceMappingURL=player-widget.4934836d648dbdf4fef4m.js.map

}
/*
     FILE ARCHIVED ON 22:39:27 Feb 11, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 06:11:03 Jul 06, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots.policy: 0.286
  captures_list: 126.685
  LoadShardBlock: 92.486 (3)
  RedisCDXSource: 4.822
  CDXLines.iter: 22.728 (3)
  load_resource: 469.373
  exclusion.robots: 0.306
  esindex: 0.024
  PetaboxLoader3.resolve: 349.33 (3)
  PetaboxLoader3.datanode: 66.278 (5)
*/